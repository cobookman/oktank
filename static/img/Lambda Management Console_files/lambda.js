!function(e){function t(t){for(var r,o,c=t[0],s=t[1],u=t[2],d=0,p=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(l&&l(t);p.length;)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={5:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(e){return o.p+""+({1:"application",3:"begin-discover",6:"layer",17:"sar"}[e]||e)+".js"}(e);var s=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,n[1](s)}a[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;i.push([931,0,4,2]),n()}([,,,,,function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"EVENT_NAMES",(function(){return u})),n.d(t,"customerReady",(function(){return p})),n.d(t,"startCustomTimer",(function(){return f})),n.d(t,"stopCustomTimer",(function(){return m})),n.d(t,"submitCustomTimer",(function(){return b})),n.d(t,"log",(function(){return y})),n.d(t,"setPageId",(function(){return v})),n.d(t,"sanitizeLogName",(function(){return h})),n.d(t,"pageLoaded",(function(){return O})),n.d(t,"logEvent",(function(){return S})),n.d(t,"logEventWithValue",(function(){return j})),n.d(t,"logEventWithDetail",(function(){return T})),n.d(t,"logTab",(function(){return x})),n.d(t,"logSectionByClick",(function(){return _})),n.d(t,"startPageLoad",(function(){return w})),n.d(t,"stopPageLoad",(function(){return R})),n.d(t,"featureAbtest",(function(){return A})),n.d(t,"lastActionsMiddleware",(function(){return N})),n.d(t,"reportError",(function(){return C})),n.d(t,"handleError",(function(){return P})),n.d(t,"reduxSagaLogger",(function(){return D}));var r=n(7),a=n(9);function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={PAGE_LOAD:"page-load",TAG_C_WITH_TAGS:"tag_c_with_tags",TAG_C_EXPAND:"tag_c_expand",TAG_C_COLLAPSE:"tag_c_collapse",TAG_FD_SAVE:"tag_fd_save",TAG_FD_REVERT:"tag_fd_revert",TAG_FD_REVERT_DISMISS:"tag_fd_revert_dismiss",TAG_FL_ADD_PILL:function(e,t){return"tag_fl_add_pill_".concat(e).concat(t?"_".concat(t):"")},TAG_FL_RM_PILL:function(e,t){return"tag_fl_rm_pill_".concat(e).concat(t?"_".concat(t):"")},TESTEVENT_FD:function(e){return"testevent_fd_".concat(e)},TESTEVENT_FD_SIZE:"testevent_size",TESTEVENT_FD_RESULT:"testevent_result",TESTEVENT_FD_NUM:"testevent_num",TESTEVENT_FD_SWITCH:"testevent_switch",FUNCTION_LOAD:"function-load",FL_SEARCH_PRESET:function(e){return"fl_sp_".concat(e)},DESIGNER_COUNT:function(e,t){var n={cloudformationGraph:"related",executionRoleGraph:"resource",functionGraph:"function",relationGraph:"trigger"}[t];return"fd_".concat(e,"_").concat(n)},DESIGNER_LOAD:"designer-load",CODE_SIZE:function(e){return"csize_".concat(e)},CODE_SOURCE:function(e){return"code_src_".concat(e)},FEATURE_USED:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"fd_feat_".concat(t?"save":"init","_").concat(e)},GO_TO_APP_FROM_FUNCTION:"fd_gotoapp",PARALLEL_SAVES:"fd_parallel_saves",API_TIMEOUT:function(e){return"to_".concat(e)},STOP_FUNCTION:"stop-function",CREATE_FUNCTION:"createFunction",CREATE_FUNCTION_BLUEPRINT:"createFunction_BP",CREATE_FUNCTION_FROM_SCRATCH:"createFunction_FS",AUTHOR_FROM_SCRATCH_RUNTIME:function(e){return"afsr_".concat(e)},CREATE_FUNCTION_ERROR_FUNCTION_EXISTS:"createFunctionExists",CREATE_FUNCTION_ERROR_IAM_PERMISSIONS:"createFunctionIAM",CREATE_FUNCTION_ERROR_LAMBDA_PERMISSIONS:"createFunctionPermissions",CREATE_FUNCTION_ERROR_ROLE_NOT_READY:"createFunctionRoleNotReady",CREATE_FUNCTION_ERROR_SUBSCRIPTION:"createFunctionSubscription",USER_PREF_GET:"userPrefGet",USER_PREF_SET:"userPrefSet",XRAY_ENABLE:"xray_enable",XRAY_DISABLE:"xray_disable",XRAY_VIEW_BUTTON_CLICK:"xray_view",EXPORT_FD_SAM:"exportSAM",EXPORT_FD_PACKAGE:"exportPackage",EXPORT_C_BP:"exportBlueprint",ROLE_BASIC:"role_basic",ROLE_EXISTING:"existing_role",ROLE_TEMPLATE:"role_template",SELECT_ROLE_TEMPLATE:function(e){return"role_t_".concat(e)},ROLE_EXPANDO_OPEN:"role_expando_open",ROLE_EXPANDO_CLOSE:"role_expando_close",TRIGGER_ADD:"trig_add",TRIGGER_ADD_CANCEL:"trig_cancel",TRIGGER_SELECT:"trig_select",TRIGGER_CREATE_STARTED:"trig_create_s",TRIGGER_CREATE_VALIDATION:"trig_create_v",TRIGGER_CREATE_AFTER_HOOKS:"trig_create_ah",TRIGGER_CREATE_DONE:"trig_create_d",CWDB_READY:"cwdb_ready",CWDB_ERROR:"cwdb_error",EDGE_MODAL_OPEN:"edge_modal_open",EDGE_MODAL_CLOSE:"edge_modal_close",EDGE_DEPLOY_STARTED:"edge_deploy_s",EDGE_DEPLOY_VALID_TRIGGER:"edge_deploy_vt",EDGE_DEPLOY_VALID_FUNCTION:"edge_deploy_vf",EDGE_DEPLOY_VERSION_PUBLISHED:"edge_deploy_vp",EDGE_DEPLOY_TRIGGER_CREATED:"edge_deploy_tc",EDGE_DEPLOY_FINISHED:"edge_deploy_f",APPS_LIST_APPS_LOAD:"apps_list_apps_load",APPS_LIST_STACKS_NUM:"apps_list_stacks_num",APPS_LIST_APPS_NUM:"apps_list_apps_num",APPS_LIST_CREATE_CLICK:"apps_list_create",APPS_AD_RESOURCES_NUM:"apps_ad_res_num",APPS_AD_RESOURCE:function(e){return"apps_ad_".concat(e)},APPS_AD_TEMPLATE:"apps_ad_template",APPS_AD_CFN:"apps_ad_cfn",APPS_AD_GETTING_STARTED_CLICK:function(e){return"apps_ad_gs_".concat(e)},APPS_AD_PIPELINE_SECTION_COLLAPSE:"apps_ad_ppl_collapse",APPS_AD_PIPELINE_SECTION_DISMISS:"apps_ad_ppl_d",APPS_AD_PIPELINE_SECTION_EXPAND:"apps_ad_ppl_expand",APPS_AD_PIPELINE_SECTION_LEARNMORE:"apps_ad_ppl_lm",APPS_AD_PIPELINE_SECTION_TOOL:function(e){return"apps_ad_ppl_".concat(e)},APPS_AD_MONITORING_TYPE:function(e){return"apps_ad_mntrng_".concat(e)},APPS_AD_START_RIGHT_STACK_ID:"apps_sr_stackid",APPS_AD_START_RIGHT_DEPLOYMENT_FAILED:"apps_sr_dply_failed",APPS_CREATE:"apps_create",APPS_CREATE_ID:"apps_create_id",APPS_CREATE_RUNTIME:"apps_create_runtime",APPS_CREATE_REPO:"apps_create_repo",APP_CREATE_FAILED:"apps_create_failed",APP_CREATE_DISCOVERY_AUTHOR_FROM_SCRATCH:"app_create_dscvry_athr_fs",APPS_DISCOVERY_SELECT:"apps_dscvry_slct",APPS_DETAIL_CONFIGURE:"apps_dtl_cnfg",APPS_DETAIL_PREVIOUS:"apps_dtl_prvs",APPS_CONFIGURE_DEPLOY:"apps_cnfg_dply",APPS_CONFIGURE_PREVIOUS:"apps_cnfg_prvs",APPS_CONFIGURE_CANCEL:"apps_cnfg_cncl",APPS_CONFIGURE_FOCUS_NAME:"apps_cngf_fn",APPS_CONFIGURE_FOCUS_DESCRIPTION:"apps_cngf_fd",APPS_CONFIGURE_FOCUS_RUNTIME:"apps_cngf_frt",APPS_CONFIGURE_FOCUS_REPO:"apps_cngf_fre",APPS_CONFIGURE_CHECK_PERMISSIONS:function(e){return"apps_cnfg_chk_".concat(e?"on":"off")},APPS_CONFIGURE_CHECK_PERMISSIONS_ACKNOWLEDGEMENT:function(e){return"apps_cnfg_chk_".concat(e?"on":"off")},LAYERS_CREATE_PUBLISH:"layer_c_publish",LAYERS_DETAIL_DELETE:"layer_ld_delete",LAYERS_DETAIL_DOWNLOAD:"layer_ld_download",LAYERS_ADD:function(e){return"layer_add_".concat(e)},PERSIST_ERROR:"err_persist",PERSIST_ERROR_QUOTA:"err_persist_quota",SAR_TEMPLATE_EXPIRED:"sar_template_expired",SAR_CHANGE_SET_FAILED:"sar_changeset_failed",SAR_CHANGE_SET_DELETED:"sar_changeset_deleted",V2N_ERROR_PARSE_STATE:"err_v2n_p_state",V2N_RESTORE:"v2n_restore",PROVISIONED_CONCURRENCY_CREATE:"pc_create",PROVISIONED_CONCURRENCY_UPDATE:"pc_update",PROVISIONED_CONCURRENCY_DELETE:"pc_delete",PROVISIONED_CONCURRENCY_VERSION_COUNT:"pc_version_cnt",PROVISIONED_CONCURRENCY_ALIAS_COUNT:"pc_alias_cnt",PROVISIONED_CONCURRENCY_TOTAL_COUNT:"pc_total_cnt",PROVISIONED_CONCURRENCY_CREATE_TIME:"pc_c_time",EDIT_PAGE_CANCEL:function(e){return"fde_c_".concat(e)},EDIT_PAGE_SAVE:function(e){return"fde_s_".concat(e)},EDIT_ENV_VARS_EXPAND_ENCRYPTION:"fde_env_expand",EDIT_ENV_VARS_CMK:"fde_env_cmk",EDIT_ENV_VARS_ENCRYPT_OPEN:"fde_env_enc_open",EDIT_ENV_VARS_ENCRYPT_CANCEL:"fde_env_enc_cancel",EDIT_ENV_VARS_ENCRYPT_SAVE:"fde_env_enc_save",DEPRECATED_RUNTIME_ALERT_APPEAR:"dep_runtime_alert",DEPRECATED_RUNTIME_ALERT_DISMISS:"dep_runtime_disms",UPDATE_RUNTIME_ALERT_APPEAR:"update_runtime_alert",UPDATE_RUNTIME_ALERT_DISMISS:"update_runtime_disms",S3_RECURSION_ALERT_APPEAR:"s3_recursion_alert",S3_RECURSION_ALERT_DISMISS:"s3_recursion_disms",LOG_PERMISSIONS_ALERT_APPEAR:"log_permission_alert",LOG_PERMISSIONS_ALERT_DISMISS:"log_permission_disms",PROXY_ADD:function(e){return"proxy_add_".concat(e)},PROXY_CANCEL:"proxy_cancel",PROXY_COUNT:"proxy_count",PROXY_CREATED:"proxy_created",EFS_CLICK:function(e){return"efs_click_".concat(e)},EFS_COUNT:"efs_count",EFS_CREATED:"efs_created",EFS_EDITED:"efs_edited",EFS_DELETED:"efs_deleted",EFS_MOUNT_CREATED:"efs_mount_created",EFS_MOUNT_COUNT:"efs_mount_count",BEGIN_DEMO_STEP:function(e){return"bg_demo_".concat(e)},BEGIN_VIEW_ERROR:"bg_view_error",BEGIN_VIEW_CREATE:"bg_view_create",BEGIN_VIEW_MANAGE:"bg_view_manage",BEGIN_CLICK_ERROR:"bg_click_error",BEGIN_CLICK_CREATE:"bg_click_create",BEGIN_CLICK_MANAGE:"bg_click_manage",BEGIN_SELECT_CODE:function(e){return"bg_sc_".concat(e)},BEGIN_RUN_CODE:function(e){return"bg_rc_".concat(e)},DESTINATION_ADD:"dest_add"};function l(t){var n;return(null===(n=e.AWSC)||void 0===n?void 0:n.Clog)&&"function"==typeof e.AWSC.Clog[t]}function d(t){var n;return(null===(n=e.AWSC)||void 0===n?void 0:n.Timer)&&"function"==typeof e.AWSC.Timer[t]}function p(){d("customerReady")&&e.AWSC.Timer.customerReady()}function f(t){d("start")&&e.AWSC.Timer.start(t)}function m(t){d("stop")&&e.AWSC.Timer.stop(t)}function b(t,n){d("submitCustomTimer")&&e.AWSC.Timer.submitCustomTimer(t,n)}var g=10;function y(t){var n=Object(r.B)("s_fid"),a=t.keyValuePairs,o=void 0===a?{}:a,s=i(t,["keyValuePairs"]);if(n&&(o.s_fid=n),0!==Object.keys(o).length&&(s.detail=JSON.stringify(o)),l("log")){var u=e.AWSC.Clog.log(c({value:1},s));u&&-2===u.status&&function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;l("log")&&setTimeout((function(){var a=e.AWSC.Clog.log(c({value:1},n));a&&-2===a.status&&r<g&&t(n,r+1)}),r*a)}(s)}}function v(t){l("setPageId")&&e.AWSC.Clog.setPageId(t)}function h(e){return Object(r.U)(e)?e.replace(/[\W]+/g,"_").substring(0,26):""}function E(e){var t="c";return null===e?t="i":void 0!==e&&(t=e?"s":"f"),t}function O(e,t){y({key:"fepl".concat(E(t)),pageId:h(e)})}function S(e,t){y({key:"feev".concat(E(t)),pageId:h(e)})}function j(e,t,n){y({key:"feevc",pageId:h(e),value:t,unit:n})}function T(e,t,n){y({key:"feev".concat(E(n)),pageId:h(e),keyValuePairs:t})}function x(e,t){S("".concat(e,"_").concat(t))}function _(e,t){S("".concat(e,"_click_").concat(t))}function w(e){v(e),f(u.PAGE_LOAD),f(e)}function R(e,t){m(e),m(u.PAGE_LOAD),O(e,t),O(e),p()}function A(e,t,n){S("".concat(a.f.includes(e)?"w":"u","_").concat(t),n)}var I=[];function N(){return function(e){return function(t){return I.unshift(t.type),I.length>5&&I.pop(),e(t)}}}function C(t,n){if(l("log")){var a=c({},n,{context:{lastReduxActions:I,currentUrl:e.location.href.replace("#","<hash>")}});e.AWSC.Clog.log({key:"".concat(Object(r.T)()?"ob_":"").concat(t),logLevel:"WARN",value:1,metricType:"custom",detail:"REPORT:".concat(JSON.stringify(a))})}}var k=["This is likely caused by an invalid percent-encoding."];function P(t,n,r,a,i){var o={message:t,url:n,line:r,column:a,error:i?{message:i.message,stack:i.stack}:{}},c="clientSideError";"Script error."===t?c="clientSideScriptError":k.some((function(e){return t.includes(e)}))?c="clientSideIgnoredError":!n||n.includes(e.lambda.cdn)||n.includes(e.lambda.ideCdn)||(c="clientSideExternalError"),C(c,o)}function D(e){if("error"===e){var t=new Error(arguments.length<=1?void 0:arguments[1]);t.stack=arguments.length<=2?void 0:arguments[2],P(arguments.length<=1?void 0:arguments[1],void 0,void 0,void 0,t)}}}.call(this,n(37))},,function(e,t,n){"use strict";(function(e){n.d(t,"g",(function(){return x})),n.d(t,"m",(function(){return _})),n.d(t,"U",(function(){return w})),n.d(t,"Z",(function(){return R})),n.d(t,"P",(function(){return I})),n.d(t,"L",(function(){return k})),n.d(t,"J",(function(){return P})),n.d(t,"H",(function(){return D})),n.d(t,"t",(function(){return M})),n.d(t,"N",(function(){return L})),n.d(t,"Q",(function(){return F})),n.d(t,"T",(function(){return q})),n.d(t,"O",(function(){return V})),n.d(t,"r",(function(){return U})),n.d(t,"o",(function(){return G})),n.d(t,"K",(function(){return z})),n.d(t,"z",(function(){return H})),n.d(t,"A",(function(){return W})),n.d(t,"I",(function(){return K})),n.d(t,"G",(function(){return Y})),n.d(t,"F",(function(){return J})),n.d(t,"S",(function(){return Q})),n.d(t,"D",(function(){return X})),n.d(t,"y",(function(){return $})),n.d(t,"s",(function(){return Z})),n.d(t,"x",(function(){return ee})),n.d(t,"w",(function(){return te})),n.d(t,"v",(function(){return ne})),n.d(t,"u",(function(){return re})),n.d(t,"R",(function(){return ae})),n.d(t,"p",(function(){return ie})),n.d(t,"h",(function(){return oe})),n.d(t,"db",(function(){return ce})),n.d(t,"bb",(function(){return se})),n.d(t,"M",(function(){return ue})),n.d(t,"cb",(function(){return le})),n.d(t,"n",(function(){return de})),n.d(t,"q",(function(){return pe})),n.d(t,"l",(function(){return fe})),n.d(t,"i",(function(){return me})),n.d(t,"j",(function(){return be})),n.d(t,"B",(function(){return ye})),n.d(t,"E",(function(){return ve})),n.d(t,"Y",(function(){return he})),n.d(t,"k",(function(){return Ee})),n.d(t,"ab",(function(){return Se})),n.d(t,"b",(function(){return je})),n.d(t,"e",(function(){return Te})),n.d(t,"d",(function(){return xe})),n.d(t,"c",(function(){return _e})),n.d(t,"f",(function(){return we})),n.d(t,"a",(function(){return Re})),n.d(t,"X",(function(){return Ae})),n.d(t,"V",(function(){return Ne})),n.d(t,"C",(function(){return Ce})),n.d(t,"W",(function(){return ke}));var r=n(4),a=n(181),i=n.n(a),o=n(127),c=n.n(o);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?d(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){E(i,r,a,o,c,"next",e)}function c(e){E(i,r,a,o,c,"throw",e)}o(void 0)}))}}var S=e.lambda.apiDomain.replace(/\./g,"\\."),j="(?:https?://s3(?:[-.][-a-z0-9]+)?\\.".concat(S,"|s3:/)/([^/]+)/([^?]+)(?:\\?versionId=(.+))?"),T="(?:https?://([a-z0-9\\.-]+[a-z0-9]))\\.s3(?:[-.][-a-z0-9]+)?\\.".concat(S,"/([^?]+)(?:\\?versionId=(.+))?"),x="(?:".concat(j,")|(?:").concat(T,")");function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(isNaN(parseFloat(e))||!isFinite(e))return"-";if(0===e)return"0 bytes";var n=["bytes","kB","MB","GB","TB","PB"],r=Math.floor(Math.log(Math.abs(e))/Math.log(1024)),a=e/Math.pow(1024,Math.floor(r));return"".concat(a.toFixed("bytes"===n[r]?0:t)," ").concat(n[r])}function w(e){return"string"==typeof e||e instanceof String}function R(e,t){return Math.floor(e+Math.random()*(t+1-e))}var A,I=function(t){return e.lambda.user.features.includes(t)},N=Object(r.fromJS)(e.lambda);function C(e,t){return N.getIn(e,t)}function k(){return C(["user","hasFunctions"])}function P(){return C(["stage"],"prod")}function D(){return C(["region","name"],"us-east-1")}function M(){return C(["region","arnPartition"],"aws")}function L(){return D().startsWith("cn")}function F(){return C(["region","isIsolated"],!1)}function q(){return C(["servedFromOneBox"],!1)}function V(){return"aws"===M()}function U(){return C(["user","accountId"])}function G(e){return B.apply(this,arguments)}function B(){return(B=O(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,n=null,n=t instanceof RegExp?t:new RegExp(t),e.next=7,c.a.keys();case 7:if(!((r=e.sent)&&r.length>0)){e.next=12;break}return a=r.map((function(e){return n.test(e)?c.a.removeItem(e):Promise.resolve()})),e.next=12,Promise.all(a);case 12:e.next=18;break;case 14:if(e.prev=14,e.t0=e.catch(2),!e.t0){e.next=18;break}return e.abrupt("return",!1);case 18:return e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function z(){return C(["user","id"])}function H(){return C(["cdn"],"")}function W(){return C(["cdnBucketUrlPrefix"],"")}function K(){return function(t,n){if(!A){var a,i=null===(a=e.ConsoleNavService)||void 0===a?void 0:a.Model;if(!i)return n;A=Object(r.fromJS)(i)}return A.getIn(t,n)}(["currentRegion","label"],D())}function Y(){for(var e="(?=.*".concat(z(),")(?=.*").concat(D(),")"),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e+="(?=.*".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")")})),"^".concat(e,".*$")}function J(e){return e?"$LATEST"!==e&&isNaN(e)?"alias":"version":null}function Q(e){return!isNaN(e)}function X(){var t=e.locale;return"zh"===t?"zh_CN":"en_US"===t?"en":t}function $(){var e=X();return{pt_BR:"pt-BR",zh_CN:"zh",zh_TW:"zh-Hant-TW"}[e]||e}function Z(){return C(["apiDomain"],"amazonaws.com")}function ee(){return C(["baseAwsDomain"],"aws.amazon.com")}function te(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={de:"de",es:"es",fr:"fr",it:"it",ja:"jp",ko:"ko",pt_BR:"pt",zh_CN:"cn",zh_TW:"tw"}[X()],r=[ee(),n,e].filter((function(e){return!!e}));return"".concat(t?"https":"http","://").concat(r.join("/"))}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lambda",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"dg",r={de:"de_de",es:"es_es",fr:"fr_fr",ja:"ja_jp",ko:"ko_kr",pt_BR:"pt_br",zh_CN:"zh_cn"}[X()],a=["docs.".concat(ee()),r,t,"latest",n,e].filter((function(e){return!!e}));return"https://".concat(a.join("/"))}function re(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:D(),i="home?region=".concat(a),o={cloud9:{create:"home/create?region=".concat(a)},cloudformation:{stack:"".concat(i,"#/stack/detail?stackId=").concat(n)},codecommit:{repository:"repositories/".concat(n,"/browse?region=").concat(a),connect:"repositories/".concat(n,"/connect?region=").concat(a)},codedeploy:{application:"applications/".concat(n,"?region=").concat(a)},codepipeline:{pipeline:"pipelines/".concat(n,"/view?region=").concat(a)},iam:{role:"home#roles/".concat(n)},rds:{proxy:"home?region=".concat(a,"#proxy:id=").concat(n)},efs:{home:"".concat(i,"#"),create:"".concat(i,"#/wizard/1"),accessProfile:"".concat(i),fileSystem:"".concat(i,"#/filesystems/").concat(n)}},c="home"===t?i:null===(r=o[e])||void 0===r?void 0:r[t];if(void 0!==c){return"/".concat({codecommit:"codesuite/codecommit",codedeploy:"codesuite/codedeploy",codepipeline:"codesuite/codepipeline",events:"cloudwatch",kms:"iam",logs:"cloudwatch",stepfunctions:"states"}[e]||e,"/").concat(c)}}function ae(e){return null==e}function ie(e,t){var n;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];clearTimeout(n),n=setTimeout((function(){return e.apply(void 0,a)}),t)}}function oe(e,t){if(!e)throw new Error(t||"Assertion failed")}function ce(e){return new Promise((function(t){return setTimeout(t,e)}))}function se(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;var a=!0;return n.forEach((function(n){!a||{}.hasOwnProperty.call(t,n)&&t[n]===e[n]||(a=!1)})),a}function ue(e,t){var n={},r=!0;return(t?(e||[]).map(t):e||[]).forEach((function(e){n[e]&&(r=!1),n[e]=!0})),r}function le(e){for(var t=e.slice(),n=t.length-1;n>0;n--){var r=R(0,n),a=t[n];t[n]=t[r],t[r]=a}return t}function de(e,t,n){return oe(t<=n,"min must be less than or equal to max"),Math.max(t,Math.min(n,e))}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;try{return i.a.stringify(i.a.parse(e),null,n)}catch(n){if(t)throw new Error("Unable to parse text as JSON: ".concat(e));return e}}function fe(t){return new Promise((function(n,r){var a=new e.FileReader;a.addEventListener("load",(function(e){return n(e.target.result.slice(e.target.result.indexOf(",")+1))})),a.addEventListener("error",(function(){return r(new Error("An error occurred reading the file"))})),a.readAsDataURL(t)}))}function me(t){return decodeURIComponent(Array.prototype.map.call(e.atob(t),(function(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))})).join(""))}function be(t){var n=encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x".concat(t))}));return e.btoa(n)}function ge(e){try{return decodeURIComponent(e)}catch(t){return e}}function ye(t){try{var n=e.document.cookie.split(";").map((function(e){return e.trim()})),r=!0,a=!1,i=void 0;try{for(var o,c=n[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var s=v(o.value.split("="),2),u=s[0],l=s[1];if(u===t)return ge(l)}}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}}catch(e){}}function ve(e,t){return w(t)||!t?t:(t.values&&(n={},Object.keys(t.values).forEach((function(r){"object"===y(t.values[r])?n[r]=ve(e,t.values[r]):n[r]=t.values[r]}))),e.formatMessage({id:t.id},n));var n}function he(e){var t=new RegExp(x).exec(e);if(!t)throw g({},new Error,{message:{id:"error.invalidS3Url"}});return t[4]?{s3Bucket:t[4],s3Key:ge(t[5].replace(/\+/g,"%20")),s3ObjectVersion:t[6]||null}:{s3Bucket:t[1],s3Key:ge(t[2].replace(/\+/g,"%20")),s3ObjectVersion:t[3]||null}}function Ee(e,t,n){return Oe.apply(this,arguments)}function Oe(){return(Oe=O(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,c,s,u,l,d,p,f,m,b=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=n,o=b.length,c=new Array(o>3?o-3:0),s=3;s<o;s++)c[s-3]=b[s];u=!0,l=!1,d=void 0,e.prev=5,p=a[Symbol.iterator]();case 7:if(u=(f=p.next()).done){e.next=26;break}if(0===(m=f.value)){e.next=12;break}return e.next=12,ce(m);case 12:return e.prev=12,e.next=15,t.apply(void 0,c);case 15:return e.abrupt("return",e.sent);case 18:if(e.prev=18,e.t0=e.catch(12),i=e.t0,!w(e.t0.message)||e.t0.message.includes(r)){e.next=23;break}throw e.t0;case 23:u=!0,e.next=7;break;case 26:e.next=32;break;case 28:e.prev=28,e.t1=e.catch(5),l=!0,d=e.t1;case 32:e.prev=32,e.prev=33,u||null==p.return||p.return();case 35:if(e.prev=35,!l){e.next=38;break}throw d;case 38:return e.finish(35);case 39:return e.finish(32);case 40:throw i;case 41:case"end":return e.stop()}}),e,null,[[5,28,32,40],[12,18],[33,,35,39]])})))).apply(this,arguments)}function Se(){e.document.querySelector(".awsui-app-layout__content").scrollTop=0}var je=function e(t){m(this,e),this.arn=t;var n=t.split(":").slice(1);this.partition=n[0],this.service=n[1],this.region=n[2],this.accountId=n[3],this.resource=n.slice(4).join(":")},Te=function(e){function t(e){var n;m(this,t);var r=v((n=u(this,l(t).call(this,e))).resource.split(":"),3),a=r[1],i=r[2];return Object.assign(d(n),{functionName:a,qualifier:i}),n}var n,r,a;return p(t,e),n=t,a=[{key:"fromFunctionName",value:function(e,n){return new t(["arn",M(),"lambda",D(),U(),"function",e,n].filter((function(e){return!!e})).join(":"))}}],(r=[{key:"friendlyName",get:function(){return[this.functionName,this.qualifier].filter((function(e){return!!e})).join(":")}}])&&s(n.prototype,r),a&&s(n,a),t}(je),xe=function(e){function t(e){var n;m(this,t);var r=(n=u(this,l(t).call(this,e))).resource.split("/").slice(1).join("/"),a=r.split("/").pop();return Object.assign(d(n),{roleId:r,roleName:a}),n}return p(t,e),t}(je),_e=function(e){function t(e){var n;m(this,t);var r=v((n=u(this,l(t).call(this,e))).resource.split("/"),3),a=r[1],i=r[2];return Object.assign(d(n),{stackName:a,stackId:i}),n}return p(t,e),t}(je),we=function(e){function t(e){var n;m(this,t);var r=v((n=u(this,l(t).call(this,e))).resource.split(":")[1].split("/"),2),a=r[0],i=r[1];return Object.assign(d(n),{proxyUuid:a,user:i}),n}return p(t,e),t}(je),Re=function(e){function t(e){var n;m(this,t);var r=(n=u(this,l(t).call(this,e))).resource.split("/").pop();return Object.assign(d(n),{accessProfileId:r}),n}return p(t,e),t}(je);function Ae(e){var t=new Te(e);return t.qualifier?"".concat(t.functionName,"/").concat(t.qualifier):t.functionName}function Ie(e){return e.charAt(0).toLowerCase()+e.slice(1)}function Ne(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function e(r){return Array.isArray(r)?r.map((function(t){return e(t)})):null!==r&&"object"===y(r)?Object.entries(r).reduce((function(n,r){var a=v(r,2),i=a[0],o=a[1];return g({},n,h({},t(i),e(o)))}),{}):n(r)}(e)}(e,Ie)}function Ce(e){return(null==e?void 0:e.join(", "))||"-"}function ke(e){return"string"==typeof e?"".concat(e.split(/\.|Z/).shift(),"Z"):e}}).call(this,n(37))},function(e,t,n){"use strict";n.d(t,"u",(function(){return d})),n.d(t,"V",(function(){return p})),n.d(t,"U",(function(){return f})),n.d(t,"z",(function(){return m})),n.d(t,"y",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"O",(function(){return y})),n.d(t,"p",(function(){return v})),n.d(t,"Y",(function(){return E})),n.d(t,"eb",(function(){return S})),n.d(t,"o",(function(){return j})),n.d(t,"N",(function(){return T})),n.d(t,"g",(function(){return x})),n.d(t,"q",(function(){return _})),n.d(t,"r",(function(){return w})),n.d(t,"w",(function(){return R})),n.d(t,"S",(function(){return A})),n.d(t,"T",(function(){return I})),n.d(t,"k",(function(){return N})),n.d(t,"C",(function(){return C})),n.d(t,"a",(function(){return k})),n.d(t,"ab",(function(){return P})),n.d(t,"bb",(function(){return D})),n.d(t,"cb",(function(){return M})),n.d(t,"M",(function(){return L})),n.d(t,"h",(function(){return F})),n.d(t,"W",(function(){return q})),n.d(t,"X",(function(){return V})),n.d(t,"s",(function(){return U})),n.d(t,"x",(function(){return G})),n.d(t,"J",(function(){return B})),n.d(t,"I",(function(){return H})),n.d(t,"B",(function(){return W})),n.d(t,"A",(function(){return K})),n.d(t,"n",(function(){return Y})),n.d(t,"fb",(function(){return J})),n.d(t,"E",(function(){return Q})),n.d(t,"F",(function(){return X})),n.d(t,"d",(function(){return $})),n.d(t,"Z",(function(){return Z})),n.d(t,"gb",(function(){return ee})),n.d(t,"ib",(function(){return te})),n.d(t,"hb",(function(){return ne})),n.d(t,"D",(function(){return re})),n.d(t,"G",(function(){return ae})),n.d(t,"c",(function(){return ie})),n.d(t,"t",(function(){return oe})),n.d(t,"H",(function(){return ce})),n.d(t,"db",(function(){return se})),n.d(t,"jb",(function(){return ue})),n.d(t,"b",(function(){return le})),n.d(t,"K",(function(){return de})),n.d(t,"L",(function(){return pe})),n.d(t,"f",(function(){return fe})),n.d(t,"v",(function(){return me})),n.d(t,"P",(function(){return be})),n.d(t,"Q",(function(){return ge})),n.d(t,"R",(function(){return ye})),n.d(t,"i",(function(){return ve})),n.d(t,"j",(function(){return he})),n.d(t,"l",(function(){return Ee})),n.d(t,"m",(function(){return Oe}));var r=n(4),a=n(16),i=n(21),o=n(26),c=n(29),s=n(7),u=n(9);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=function(e){return e.pages.functionDesigner},p=Object(a.createSelector)(d,(function(e){return e.get("results")})),f=function(e,t){return p(e).get(t)},m=Object(a.createSelector)(d,(function(e){return e.get("graphToEdit")})),b=Object(a.createSelector)(d,(function(e){return e.get("graphCurrentlySaved")})),g=Object(a.createSelector)(d,(function(e){return e.get("completed")})),y=Object(a.createSelector)(d,(function(e){return e.get("statuses").entrySeq().filter((function(e){return l(e,2)[1]!==i.r.SUCCEEDED})).map((function(e){return l(e,1)[0]})).toList()})),v=Object(a.createSelector)(d,(function(e){return e.get("statuses").entrySeq().filter((function(e){return l(e,2)[1]===i.r.FAILED})).map((function(e){return l(e,1)[0]})).toList()})),h=Object(a.createSelector)(d,(function(e){return e.get("statuses").entrySeq().filter((function(e){return l(e,2)[1]===i.r.SUCCEEDED})).map((function(e){return l(e,1)[0]})).toList()})),E=Object(a.createSelector)(d,(function(e){return e.get("running")})),O=function(e,t){var n=E(e),r=g(e),a=h(e);return!n.includes(t)&&r.includes(t)&&a.includes(t)},S=function(e,t){return O(e,t)?f(e,t):void 0},j=function(e,t){return d(e).get("recommendations").find((function(e){return e.get("id")===t}))},T=function(e,t){return m(e).get("nodes").filter((function(e){return e.get("type")===t}))},x=Object(a.createSelector)(d,(function(e){return e.getIn(["results","urlParser","tab"],i.q.CONFIGURATION)})),_=Object(a.createSelector)(d,(function(e){return e.getIn(["results","urlParser","functionArn"])})),w=Object(a.createSelector)(c.b,(function(e){var t=e.params;return s.e.fromFunctionName(t.functionName,t.version||t.alias).arn})),R=Object(a.createSelector)(_,(function(e){return e?new s.e(e).functionName:null})),A=Object(a.createSelector)(_,(function(e){return e?new s.e(e).qualifier:null})),I=function(e){var t=S(e,"functionQualifiersSource");return t&&Object(r.Map)(t)},N=Object(a.createSelector)(d,(function(e){return e.getIn(["results","urlParser","editPage"])})),C=Object(a.createSelector)(d,(function(e){return e.getIn(["results","urlParser","isCreate"])})),k=Object(a.createSelector)([A,I],(function(e,t){var n="";return e&&"version"===Object(s.F)(e)&&(null==t?void 0:t.get("versions"))&&(n=t.get("versions").filter((function(t){return t.get("qualifier")===e})).getIn([e,"masterArn"])),n})),P=Object(a.createSelector)(d,(function(e){return e.get("selectedNodeIds")})),D=Object(a.createSelector)([d,P,m],(function(e,t,n){return n.get("nodes").filter((function(e){return t.includes(e.get("id"))}))})),M=Object(a.createSelector)(d,(function(e){return e.get("selectedToolbarItem")}));function L(e,t){var n=d(e).get("graphToEdit");return n.has("nodes")?n.get("nodes").find((function(e){return e.get("id")===t})):null}function F(e,t){var n=d(e).get("graphCurrentlySaved");return n.has("nodes")?n.get("nodes").find((function(e){return e.get("id")===t})):null}var q=function(e){return L(e,_(e))},V=Object(a.createSelector)(q,(function(e){return Object(r.List)([e])})),U=Object(a.createSelector)(q,(function(e){return e?e.getIn(["data","codeSha256"]):null})),G=Object(a.createSelector)(q,(function(e){return e?e.getIn(["data","runtime"]):null})),B=(Object(a.createSelector)(q,(function(e){return e?e.getIn(["data","fileSystemConfigs"]):null})),Object(a.createSelector)(q,(function(e){return e?e.getIn(["data","subnetIds"]):null})),function(e){return d(e).get("saving")}),z=[o.a.NEEDS_SAVE,o.a.NEEDS_FIX,o.a.PENDING_DELETION],H=Object(a.createSelector)(m,(function(e){return!!e.get("nodes").find((function(e){return e.get("states").find((function(e){return z.includes(e.get("type"))}))}))})),W=Object(a.createSelector)(m,(function(e){return!!e.get("nodes").find((function(e){return e.get("states").find((function(e){return e.get("type")===o.a.HAS_VALIDATION_ERRORS}))}))})),K=Object(a.createSelector)(m,(function(e){return!!e.get("nodes").find((function(e){return"placeholder"!==e.get("variant")&&e.get("states").find((function(e){return e.get("type")===o.a.NOT_CONFIGURED}))}))})),Y=function(e,t){return L(e,t).getIn(["data","envVars"])},J=function(e,t){return L(e,t).getIn(["data","tags"])},Q=function(e,t){return d(e).getIn(["modals",t,"loading"],!1)},X=function(e,t){return d(e).getIn(["modals",t,"isOpen"],!1)};function $(e){return d(e).getIn(["results","tagParser","blueprintName"])}var Z=Object(a.createSelector)(d,(function(e){return e.get("saveCodeResults")}));function ee(e,t){return d(e).getIn(["graphToEdit","validation",t])}var te=function(e){return Object(a.createSelector)([ee],(function(t){return t?t.filter((function(t){return t.get("dataPath").includes(e)})).reduce((function(e,t){return e.setIn(t.get("dataPath").slice(1).split("/").concat("message"),t.get("message"))}),Object(r.Map)()):Object(r.Map)()}))},ne=Object(a.createSelector)(d,(function(e){return e.get("vpc")})),re=function(e){return O(e,"functionParser")},ae=function(e){return O(e,"functionQualifiersSource")},ie=function(e){return O(e,"relationParser")},oe=Object(a.createSelector)(d,(function(e){return e.get("functionCombinedStateSet")})),ce=Object(a.createSelector)([E,H,W,K,oe],(function(e,t,n,r,a){return!e.isEmpty()||!t||n||r||!a.intersect(i.o).isEmpty()})),se=function(e){var t=S(e,"cloudformationStackSource");return null==t?void 0:t.get("stackName")},ue=Object(a.createSelector)([g,_,w],(function(e,t,n){return t===n&&e.includes(u.f.includes("layette")?"layerParser":"functionParser")})),le=function(e,t){var n=g(e);return{destination:["destinationParser"],function:["functionParser","cloudformationParser"],resource:["executionRoleParser"],trigger:["relationParser"]}[t].every((function(e){return n.includes(e)}))},de=(Object(a.createSelector)(d,(function(e){return e.get("encrypting")})),Object(a.createSelector)(d,(function(e){return e.get("savingEdit")}))),pe=Object(a.createSelector)(d,(function(e){return e.get("lambdaAtEdge")})),fe=function(e){var t;return(null===(t=f(e,"functionGroupParser"))||void 0===t?void 0:t.get("currentGroup"))||null},me=function(e){var t;return(null===(t=f(e,"functionGroupParser"))||void 0===t?void 0:t.get("groupTags").toArray().map((function(e){return{value:e}})))||[]},be=Object(a.createSelector)(d,(function(e){return e.getIn(["results","provisionedConcurrencyConfigsParser"])})),ge=function(e){return O(e,"provisionedConcurrencyConfigsParser")},ye=Object(a.createSelector)(d,(function(e){return e.getIn(["provisionedConcurrency","deletingProvisionedConcurrency"])})),ve=Object(a.createSelector)(d,(function(e){return e.getIn(["destination","isDeleting"])})),he=Object(a.createSelector)(d,(function(e){return e.getIn(["destination","isModalOpen"])})),Ee=Object(a.createSelector)(d,(function(e){return e.getIn(["elasticFileSystem","isDeleting"])})),Oe=Object(a.createSelector)(d,(function(e){return e.getIn(["elasticFileSystem","isModalOpen"])}))},function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return a})),n.d(t,"k",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"p",(function(){return l})),n.d(t,"q",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"r",(function(){return f})),n.d(t,"n",(function(){return b})),n.d(t,"u",(function(){return g})),n.d(t,"t",(function(){return y})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return h})),n.d(t,"m",(function(){return E})),n.d(t,"l",(function(){return O})),n.d(t,"i",(function(){return S})),n.d(t,"o",(function(){return j})),n.d(t,"s",(function(){return T})),n.d(t,"b",(function(){return x}));var r=n(7),a=e.lambda.user.features,i=128,o=3008,c=64,s=3145728,u="lambda-console:blueprint",l="Recommended",d="Saved",p=500,f=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/,m=[];Object(r.O)()&&m.push({id:"Edge",version:2,services:["CloudWatch Logs"]}),Object(r.N)()||m.push({id:"KMS",version:1,services:["KMS"]});var b=[{id:"CloudFormation",version:1,services:["CloudFormation"]},{id:"AMI",version:1,services:["EC2"]},{id:"S3",version:1,services:["S3"]},{id:"Elasticsearch",version:1,services:["Elasticsearch"]},{id:"SES",version:1,services:["SES"]},{id:"TestHarness",version:1,services:["DynamoDB","Lambda"]},{id:"Microservice",version:1,services:["DynamoDB"]},{id:"VPN",version:1,services:["CloudWatch","EC2"]},{id:"SQSPoller",version:2,services:["SQS"]},{id:"IoTButton",version:1,services:["SNS"]},{id:"RekognitionNoDataAccess",version:1,services:["Rekognition"]},{id:"RekognitionReadOnlyAccess",version:1,services:["Rekognition"]},{id:"RekognitionWriteOnlyAccess",version:1,services:["Rekognition"]},{id:"Config",mpArn:"arn:aws:iam::aws:policy/service-role/AWSConfigRulesExecutionRole",services:["Config","S3"]},{id:"BatchJob",version:1,services:["Batch"]},{id:"SNSPublishPolicy",version:1,services:["SNS"]}].concat(m),g={id:"VPCAccess",version:3,services:["EC2"]},y={id:"TracerAccess",version:1,services:["X-Ray"]},v={id:"RedrivePolicy",version:1,services:["SQS"]},h={id:"RedrivePolicySNS",version:1,services:["SNS"]},E={id:"RDSProxy",version:1,services:["RDS Proxy"]},O=1,S=900,j={allowed:"allowed",denied:"implicitDeny"},T={enabled:"Active",disabled:"PassThrough",permissions:["xray:PutTraceSegments","xray:PutTelemetryRecords"]},x={permission:{sns:"SNS:Publish",sqs:"SQS:SendMessage"},formatResources:function(e){return{name:e[5],text:e[5],value:e.join(":")}}}}).call(this,n(37))},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"t",(function(){return c})),n.d(t,"I",(function(){return s})),n.d(t,"J",(function(){return u})),n.d(t,"K",(function(){return l})),n.d(t,"P",(function(){return d})),n.d(t,"O",(function(){return p})),n.d(t,"v",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"m",(function(){return g})),n.d(t,"w",(function(){return y})),n.d(t,"j",(function(){return v})),n.d(t,"C",(function(){return h})),n.d(t,"D",(function(){return E})),n.d(t,"L",(function(){return O})),n.d(t,"W",(function(){return S})),n.d(t,"X",(function(){return j})),n.d(t,"p",(function(){return T})),n.d(t,"q",(function(){return x})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return w})),n.d(t,"h",(function(){return R})),n.d(t,"i",(function(){return A})),n.d(t,"r",(function(){return I})),n.d(t,"s",(function(){return N})),n.d(t,"u",(function(){return C})),n.d(t,"Q",(function(){return k})),n.d(t,"R",(function(){return P})),n.d(t,"S",(function(){return D})),n.d(t,"Y",(function(){return M})),n.d(t,"T",(function(){return L})),n.d(t,"k",(function(){return F})),n.d(t,"E",(function(){return q})),n.d(t,"F",(function(){return V})),n.d(t,"l",(function(){return U})),n.d(t,"G",(function(){return G})),n.d(t,"H",(function(){return B})),n.d(t,"x",(function(){return z})),n.d(t,"A",(function(){return H})),n.d(t,"y",(function(){return W})),n.d(t,"z",(function(){return K})),n.d(t,"B",(function(){return Y})),n.d(t,"N",(function(){return J})),n.d(t,"g",(function(){return Q})),n.d(t,"o",(function(){return X})),n.d(t,"V",(function(){return $})),n.d(t,"c",(function(){return Z})),n.d(t,"U",(function(){return ee})),n.d(t,"n",(function(){return te})),n.d(t,"M",(function(){return ne}));var r=n(15),a=n(26),i=r.h.functionDesigner,o=function(e){return{type:i.CHANGE_TAB,tab:e}},c=function(e,t){return{type:i.INIT,location:e,isNavigationToEdit:t}},s=function(e){return{type:i.SET_LOADING,loading:e}},u=function(e,t){return{type:i.SET_MODAL,modalType:e,modalState:t}},l=function(e,t){return{type:i.SET_MODAL_LOADING,modalType:e,modalState:t}},d=function(e){return{type:i.SET_WORK_STARTED,name:e}},p=function(e,t,n,r){return{type:i.SET_WORK_COMPLETED,name:e,err:t,res:n,status:r}},f=function(e){return{type:i.INVALIDATE_TASKS,tasks:e}},m=function(e,t){return{type:i.ADD_NODE,node:e,addToSaved:t}},b=function(e){return{type:i.ADD_OR_UPDATE_NODE,node:e}},g=function(e,t){return{type:i.DELETE_NODE,nodeId:e,deleteFromSaved:t,pendingDeletionState:a.g()}},y=function(e,t){return{type:i.MERGE_NODE,node:e,changes:t}},v=function(e,t){return{type:i.DEEP_MERGE_NODE,node:e,changes:t}},h=function(e){return{type:i.SELECT_NODES,nodes:e}},E=function(e){return{type:i.SELECT_TOOLBAR_ITEM,id:e}},O=function(e,t,n,r){return{type:i.SET_NODES_OF_TYPE,nodeType:e,nodes:t,edges:n,replace:r}},S=function(e,t,n,r){return{type:i.UPDATE_NODE,value:e,nodeId:t,pathInData:n,extraPayload:r}},j=function(e,t){return{type:i.UPDATE_NODE_STATE,nodeId:e,nodeState:t}},T=function(e,t){return{type:i.EDIT_FUNCTION_GROUP,functionName:e,groupName:t}},x=function(e,t){return{type:i.EDIT_FUNCTION_GROUP_COMPLETE,functionName:e,groupName:t}},_=function(e,t){return{type:i.CHANGE_VPC_ID,nodeId:e,vpcId:t}},w=function(e,t,n,r){return{type:i.DLQ_CHECK_ROLE_PERMISSION,serviceId:e,nodeId:t,arn:n,resourceArn:r}},R=function(e){return{type:i.CREATE_ALIAS,functionName:e}},A=function(e){return{type:i.CREATE_VERSION,functionName:e}},I=function(e,t){return{type:i.ENCRYPT_IN_TRANSIT,kmsKey:e,index:t}},N=function(e,t){return{type:i.DLQ_GET_RESOURCES,serviceId:e,nodeId:t}},C=function(e){return{type:i.INIT_VPC,nodeId:e}},k=function(e,t){return{type:i.SIMULATE_TRACER_ROLE_POLICY,nodeId:e,arn:t}},P=function(e){return{type:i.STOP_FUNCTION,functionArn:e}},D=function(e){return{type:i.STOP_FUNCTION_COMPLETE,functionArn:e}},M=function(e){return{type:i.UPDATE_VPC_COMPONENT_STATE,vpc:e}},L=function(e){return{type:i.UPDATE_ALL_RECOMMENDATIONS,results:e}},F=function(e,t,n){return{type:i.DELETE_DESTINATION,source:e,condition:t,nodeId:n}},q=function(e){return{type:i.UPDATE_DESTINATION_DELETE,status:e}},V=function(e){return{type:i.UPDATE_DESTINATION_MODAL,status:e}},U=function(e){return{type:i.DELETE_ELASTIC_FILE_SYSTEM,functionName:e}},G=function(e){return{type:i.UPDATE_ELASTIC_FILE_SYSTEM_DELETE,status:e}},B=function(e){return{type:i.UPDATE_ELASTIC_FILE_SYSTEM_MODAL,status:e}},z=function(){return{type:i.SAVE}},H=function(e){return{type:i.SAVE_COMPLETE,saveResults:e}},W=function(){return{type:i.SAVE_CODE}},K=function(e){return{type:i.SAVE_CODE_COMPLETE,saveResult:e}},Y=function(e,t,n,a){return{type:r.h.functionDesigner.SAVE_EDIT_PAGE,functionName:e,qualifier:t,editPage:n,data:a}},J=function(e){return{type:i.SET_SAVING_EDIT,savingEdit:e}},Q=function(){return{type:i.CLEAR_LAMBDA_AT_EDGE}},X=function(){return{type:i.DEPLOY_TO_LAMBDA_AT_EDGE}},$=function(e){return{type:i.UPDATE_LAMBDA_AT_EDGE,data:e}},Z=function(){return{type:i.CANCEL_POLLING}},ee=function(e){return{type:i.UPDATE_FUNCTION_COMBINED_STATE,functionCombinedStateSet:e}},te=function(e){return{type:i.DELETE_PROVISIONED_CONCURRENCY,functionArn:e}},ne=function(e){return{type:i.SET_PROVISIONED_CONCURRENCY_DELETING_INPROGRESS,inProgress:e}}},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"invokeFunction",(function(){return y})),n.d(r,"generateCode",(function(){return h})),n.d(r,"updateFunctionCode",(function(){return O})),n.d(r,"createFunction",(function(){return j})),n.d(r,"publishLayerVersion",(function(){return x})),n.d(r,"kmsDecrypt",(function(){return A})),n.d(r,"kmsEncrypt",(function(){return I}));var a=n(104);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=["listFunctionQualifiers","updateFunctionConfiguration","getAuthHeaders","getFunctionCode","getFunctionConfiguration","getAlias","describeStack","getRole","getStackForFunction","parseRole","getApplicationDeployments","listStacks","listStackResources","createApp","correctRelation","createRelation","deleteRelation","getNode","invokeNodeAction","listNodes","listRelations","updateRelation","listVpcs","getSubnetsAndSecurityGroups","listAwsVendedLayers","listAwsVendedLayerVersions","createRole","getBlueprint","getEzcrcPolicyTemplate","getSettings","getServiceData","getResourcePolicy","invokePlaygroundFunction","listRoles","listKmsKeys","listBlueprints","listMotds","listSampleEvents","proxyAwsCall","simulateRolePolicy","updateRole","listTestEvents","getTestEvent","putTestEvent","deleteTestEvent","searchApplications","getApplication","getApplicationStatus","getApplicationStatusSummary","getGitHubAccessToken","getGitHubAuthURL","stackExists","listApplicationDependencies","reportApplication"].reduce((function(e,t){return o({},e,c({},t,(function(e){return Object(a.a)(o({},e,{operation:t}))})))}),{}),u=n(4),l=n(47),d=n(7),p=n(9),f=n(5),m=n(84);function b(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){b(i,r,a,o,c,"next",e)}function c(e){b(i,r,a,o,c,"throw",e)}o(void 0)}))}}function y(e){return v.apply(this,arguments)}function v(){return(v=g(regeneratorRuntime.mark((function e(t){var n,r,i,o,c,u,p,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.qualifier?"functions/".concat(t.functionName,"/invocations?Qualifier=").concat(t.qualifier):"functions/".concat(t.functionName,"/invocations"),r={"X-Amz-Invocation-Type":"RequestResponse","X-Amz-Log-Type":"Tail"},i=Object(d.q)(t.sampleEvent,!1,0),o=unescape(encodeURIComponent(i)).length,c=Object(l.c)(i),u="POST","lambda",e.next=9,s.getAuthHeaders({service:"lambda",endpoint:n,method:u,hash:c,contentLength:o,headersMap:r});case 9:return p=e.sent,f=p.body,e.next=13,Object(a.b)({response:f,encoded:i,operation:"invokeFunction",method:u});case 13:return(m=e.sent).body={message:m.body,logs:Object(d.i)(m.headers["x-amz-log-result"]),error:!!m.headers["x-amz-function-error"]},e.abrupt("return",m);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return E.apply(this,arguments)}function E(){return(E=g(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("inline"!==t.codeSource||!t.cloud9RawZip){e.next=4;break}n={ZipFile:t.cloud9RawZip},e.next=21;break;case 4:if("inline"!==t.codeSource||!t.rawZip){e.next=8;break}n={ZipFile:t.rawZip},e.next=21;break;case 8:if("upload"!==t.codeSource||!t.upload){e.next=15;break}return e.next=11,Object(d.l)(t.upload);case 11:e.t0=e.sent,n={ZipFile:e.t0},e.next=21;break;case 15:if("s3"!==t.codeSource||!t.s3){e.next=20;break}r=Object(d.Y)(t.s3),n={S3Bucket:r.s3Bucket,S3Key:r.s3Key,S3ObjectVersion:r.s3ObjectVersion},e.next=21;break;case 20:throw new Error("error.invalidCodePackage");case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return S.apply(this,arguments)}function S(){return(S=g(regeneratorRuntime.mark((function e(t){var n,r,i,o,c,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="functions/".concat(t.functionName,"/code"),e.t0=JSON,e.next=4,h(t);case 4:return e.t1=e.sent,r=e.t0.stringify.call(e.t0,e.t1),i=unescape(encodeURIComponent(r)).length,o=Object(l.c)(r),c="PUT","lambda",e.next=12,s.getAuthHeaders({service:"lambda",endpoint:n,method:c,hash:o,contentLength:i});case 12:return u=e.sent,d=u.body,e.abrupt("return",Object(a.b)({response:d,encoded:r,operation:"updateFunctionCode",method:c}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return T.apply(this,arguments)}function T(){return(T=g(regeneratorRuntime.mark((function e(t){var n,r,i,o,c,b,g,y,v,E,O,S,j,T,x,_,w,R,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:if(n=e.sent,"_novpc"!==t.vpcId&&(r={SecurityGroupIds:t.securityGroupIds,SubnetIds:t.subnetIds}),""!==t.dlqArn&&(i={TargetArn:t.dlqArn}),t.envVars&&Object.keys(t.envVars).length>0&&(o={Variables:t.envVars}),p.f.includes("triscuit")&&(c={Mode:t.tracer?p.s.enabled:p.s.disabled}),p.f.includes("teletubby")&&t.tags&&Object.keys(t.tags).length>0&&(b=Object(u.Map)(t.tags.map((function(e){return[e.key,e.value]}))).toJS(),Object(f.logEvent)(f.EVENT_NAMES.TAG_C_WITH_TAGS)),"existing"!==(y=t.roleData).roleSelectionType){e.next=20;break}if(!y.roleTemplates){e.next=17;break}return e.next=13,s.updateRole(y);case 13:v=e.sent,g=v.body.arn,e.next=18;break;case 17:g=y.existingRole;case 18:e.next=24;break;case 20:return e.next=22,s.createRole(y);case 22:E=e.sent,g=E.body.arn;case 24:return O=JSON.stringify({Code:n,Description:t.description,FunctionName:t.functionName,Handler:t.handler,MemorySize:t.memory,Role:g,Tags:b,Runtime:t.runtime,Timeout:t.timeout,VpcConfig:r,DeadLetterConfig:i,Environment:o,KMSKeyArn:t.kmsKeyArn,TracingConfig:c,Publish:t.publish}),"functions",S=unescape(encodeURIComponent(O)).length,j=Object(l.c)(O),T="POST","lambda",x="createFunction",_=[0,1e3,2e3,4e3,4e3,6e3],e.next=34,s.getAuthHeaders({service:"lambda",endpoint:"functions",method:T,hash:j,contentLength:S});case 34:return w=e.sent,R=w.body,e.next=38,Object(d.k)(a.b,_,m.a,{response:R,encoded:O,operation:x,method:T});case 38:return A=e.sent,e.abrupt("return",A);case 40:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return _.apply(this,arguments)}function _(){return(_=g(regeneratorRuntime.mark((function e(t){var n,r,i,o,c,u,d,p,f,m,b,g,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.layerName,r=t.description,i=t.data,o=t.compatibleRuntimes,c=t.licenseInfo,e.next=3,h(i);case 3:return u=e.sent,d=JSON.stringify({Description:r,Content:u,CompatibleRuntimes:o,LicenseInfo:c}),p="layers/".concat(n,"/versions"),f=unescape(encodeURIComponent(d)).length,m=Object(l.c)(d),b="POST","lambda",e.next=12,s.getAuthHeaders({service:"lambda",endpoint:p,method:b,hash:m,contentLength:f});case 12:return g=e.sent,y=g.body,e.abrupt("return",Object(a.b)({response:y,encoded:d,operation:"publishLayerVersion",method:b}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return R.apply(this,arguments)}function R(){return(R=g(regeneratorRuntime.mark((function e(t,n){var r,i,o,c,u,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.stringify(n),i=Object(l.c)(r),o="POST",c={"X-Amz-Target":"TrentService.".concat(t),"Content-Type":"application/x-amz-json-1.1"},e.next=6,s.getAuthHeaders({service:"kms",endpoint:"",method:o,hash:i,contentLength:unescape(encodeURIComponent(r)).length,headersMap:c});case 6:return u=e.sent,d=u.body,e.next=10,Object(a.b)({response:d,encoded:r,operation:"kms".concat(t),method:o});case 10:return p=e.sent,f=p.body,e.abrupt("return",f);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(e){return w("Decrypt",e)},I=function(e){return w("Encrypt",e)};function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var D=Object.entries({addTags:{service:"lambda.AWSLambda",api:"tagResource"},createAlias:{service:"lambda.AWSLambda",api:"createAlias"},deleteAlias:{service:"lambda.AWSLambda",api:"deleteAlias"},deleteFunction:{service:"lambda.AWSLambda",api:"deleteFunction"},deleteFunctionConcurrency:{service:"lambda.AWSLambda",api:"deleteFunctionConcurrency"},deleteLayerVersion:{service:"lambda.AWSLambda",api:"deleteLayerVersion"},deleteTags:{service:"lambda.AWSLambda",api:"untagResource"},getEventSourceMapping:{service:"lambda.AWSLambda",api:"getEventSourceMapping"},getLayerVersion:{service:"lambda.AWSLambda",api:"getLayerVersion"},getFunctionEventInvokeConfig:{service:"lambda.AWSLambda",api:"getFunctionEventInvokeConfig",ignoredStatusCodes:[404]},listEventSourceMappings:{service:"lambda.AWSLambda",api:"listEventSourceMappings"},listFunctions:{service:"lambda.AWSLambda",api:"listFunctions"},listProvisionedConcurrencyConfigs:{service:"lambda.AWSLambda",api:"listProvisionedConcurrencyConfigs"},listLayers:{service:"lambda.AWSLambda",api:"listLayers"},listLayerVersions:{service:"lambda.AWSLambda",api:"listLayerVersions"},listTags:{service:"lambda.AWSLambda",api:"listTags"},publishVersion:{service:"lambda.AWSLambda",api:"publishVersion"},putFunctionConcurrency:{service:"lambda.AWSLambda",api:"putFunctionConcurrency"},putFunctionEventInvokeConfig:{service:"lambda.AWSLambda",api:"putFunctionEventInvokeConfig"},putProvisionedConcurrencyConfig:{service:"lambda.AWSLambda",api:"putProvisionedConcurrencyConfig"},deleteProvisionedConcurrencyConfig:{service:"lambda.AWSLambda",api:"deleteProvisionedConcurrencyConfig"},updateAlias:{service:"lambda.AWSLambda",api:"updateAlias"},updateEventSourceMapping:{service:"lambda.AWSLambda",api:"updateEventSourceMapping"},updateFunctionConfiguration2:{service:"lambda.AWSLambda",api:"updateFunctionConfiguration"},updateFunctionEventInvokeConfig:{service:"lambda.AWSLambda",api:"updateFunctionEventInvokeConfig"},getRestApi:{service:"apigateway.AmazonApiGateway",api:"getRestApi"},listKmsKeys2:{service:"kms.AWSKMS",api:"listKeysForService"},listResourceTagMappings:{service:"resourcegroupstaggingapi.AWSResourceGroupsTaggingAPI",api:"getResources"},listRoles2:{service:"identitymanagement.AmazonIdentityManagement",api:"listRoles"},listTopics:{service:"sns.AmazonSNS",api:"listTopics"},describeSubnets:{service:"ec2.AmazonEC2",api:"describeSubnets"},createMountTarget:{service:"elasticfilesystem.AmazonElasticFileSystem",api:"createMountTarget"},describeMountTargets:{service:"elasticfilesystem.AmazonElasticFileSystem",api:"describeMountTargets"},describeAccessProfiles:{service:"elasticfilesystem.AmazonElasticFileSystem",api:"describeAccessProfiles"},describeFileSystems:{service:"elasticfilesystem.AmazonElasticFileSystem",api:"describeFileSystems"},describeStackEvents:{service:"cloudformation.AmazonCloudFormation",api:"describeStackEvents"},getPipelineState:{service:"codepipeline.AWSCodePipeline",api:"getPipelineState"},listRepositories:{service:"codecommit.AWSCodeCommit",api:"listRepositories"},searchResources:{service:"resourcegroups.AWSResourceGroups",api:"searchResources"},getPolicy:{service:"identitymanagement.AmazonIdentityManagement",api:"getPolicy"},getPolicyVersion:{service:"identitymanagement.AmazonIdentityManagement",api:"getPolicyVersion"},createRdsProxy:{service:"rds.AmazonRDS",api:"createDBProxy"},listRdsClusters:{service:"rds.AmazonRDS",api:"describeDBClusters"},listRdsDatabases:{service:"rds.AmazonRDS",api:"describeDBInstances"},listRdsSubnets:{service:"rds.AmazonRDS",api:"describeDBSubnetGroups"},listRdsProxies:{service:"rds.AmazonRDS",api:"describeDBProxies"},listRdsProxyTargetGroups:{service:"rds.AmazonRDS",api:"describeDBProxyTargetGroups"},registerRdsProxyTargets:{service:"rds.AmazonRDS",api:"registerDBProxyTargets"},listSecretManagers:{service:"secretsmanager.AWSSecretsManager",api:"listSecrets"},createCloudFormationTemplate:{service:"serverlessapplicationrepository.AWSServerlessApplicationRepository",api:"createCloudFormationTemplate"},getCloudFormationTemplate:{service:"serverlessapplicationrepository.AWSServerlessApplicationRepository",api:"getCloudFormationTemplate"},createCloudFormationChangeSet:{service:"serverlessapplicationrepository.AWSServerlessApplicationRepository",api:"createCloudFormationChangeSet"},executeChangeSet:{service:"cloudformation.AmazonCloudFormation",api:"executeChangeSet"},describeChangeSet:{service:"cloudformation.AmazonCloudFormation",api:"describeChangeSet"}}).reduce((function(e,t){var n=P(t,2),r=n[0],a=n[1];return C({},e,k({},r,(function(e){return s.proxyAwsCall(C({},a,{payload:e}))})))}),{});function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return a.c}));t.a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s,{},r,{},D)},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"i",(function(){return f}));var r=n(15);function a(e,t){return{type:r.b.CLOSE,scope:e,alertType:t}}function i(e){return{type:r.b.REFRESH,scope:e}}function o(e){var t=e.message,n=e.type,a=e.scope,i=void 0===a?"__scope":a,o=e.key,c=void 0===o?"__key":o;return{type:r.b.POST,message:t,alertType:n,scope:i,key:c}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"__scope";return{type:r.b.DROP,key:e,scope:t}}function s(e){var t=e.message,n=e.type,a=e.scope,i=void 0===a?"__scope":a,o=e.key,c=void 0===o?"__key":o;return{type:r.b.ENQUEUE,message:t,alertType:n,scope:i,key:c}}function u(e){var t=e.message,n=e.scope,r=void 0===n?"__scope":n,a=e.key;return o({message:t,scope:r,key:void 0===a?"__key":a,type:"info"})}function l(e){var t=e.message,n=e.scope,r=void 0===n?"__scope":n,a=e.key;return o({message:t,scope:r,key:void 0===a?"__key":a,type:"success"})}function d(e){var t=e.message,n=e.scope,r=void 0===n?"__scope":n,a=e.key;return o({message:t,scope:r,key:void 0===a?"__key":a,type:"warning"})}function p(e){var t=e.message,n=e.scope,r=void 0===n?"__scope":n,a=e.key;return o({message:t,scope:r,key:void 0===a?"__key":a,type:"error"})}function f(e){var t=e.message,n=e.scope,r=void 0===n?"__scope":n,a=e.key;return o({message:t,scope:r,key:void 0===a?"__key":a,type:"validation"})}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"h",(function(){return m}));var i={CLOSE:"CLOSE_ALERTS",REFRESH:"REFRESH_ALERTS",POST:"POST_ALERT",DROP:"DROP_ALERT",ENQUEUE:"ENQUEUE_ALERT"},o={SET_FIELD:"FORM_FIELDS_SET_FIELD",VALIDATE_FIELD:"FORM_FIELDS_VALIDATE_FIELD",DESTROY_FIELD:"FORM_FIELDS_DESTROY_FIELD",SET_INDEX_IN_KEY_VALUE_LIST:"FORM_FIELDS_SET_INDEX_IN_KEY_VALUE_LIST",DESTROY_INDEX_IN_KEY_VALUE_LIST:"FORM_FIELDS_DESTROY_INDEX_IN_KEY_VALUE_LIST"},c={TOGGLE:"SIDEBAR_TOGGLE",TOGGLE_HELP:"SIDEBAR_TOGGLE_HELP",SET_HELP_CONTENT:"SIDEBAR_SET_HELP_CONTENT"},s={DOWNLOAD_FROM_URL:"COMPONENT_DOWNLOAD_FROM_URL",SET_DOWNLOAD_MESSAGES:"COMPONENT_SET_DOWNLOAD_MESSAGES",SET_EXPORTING:"COMPONENT_SET_EXPORTING",INIT_NODES:"COMPONENT_INIT_NODES",SET_NODES:"COMPONENT_SET_NODES"},u={LAYERS_FETCH_ALL_LAYERS:"LAYERS_FETCH_ALL_LAYERS",LAYERS_SET_STATE:"LAYERS_SET_STATE",LAYERS_FETCH_LAYER_VERSIONS:"LAYERS_FETCH_LAYER_VERSIONS",LAYER_VERSION_SET_STATE:"LAYER_VERSION_SET_STATE",AWS_VENDED_LAYERS_SET_STATE:"AWS_VENDED_LAYERS_SET_STATE",DELETE_LAYER_VERSION:"DELETE_LAYER_VERSION",SET_DELETE_LAYER_VERSION_STATUS:"SET_DELETE_LAYER_VERSION_STATUS"},l={ENQUEUE_FLASH_BAR:"ENQUEUE_FLASH_BAR",REFRESH_FLASH_BAR:"REFRESH_FLASH_BAR",POST_FLASH_BAR:"POST_FLASH_BAR",CLEAN_FLASH_BAR:"CLEAN_FLASH_BAR"},d={EXPORT_TO_FLOURISH:"EXPORT_TO_FLOURISH",DOWNLOAD_CODE:"DOWNLOAD_CODE",SAVE_SAM_FILE:"SAVE_SAM_FILE"},p={REFRESH_SETTINGS:"USER_REFRESH_SETTINGS",REFRESH_SETTINGS_COMPLETE:"USER_REFRESH_SETTINGS_COMPLETE",USER_PREF_SET_STATE:"USER_PREF_SET_STATE",USER_PREF_MERGE_STATE:"USER_PREF_MERGE_STATE",USER_PREF_SET_PREF:"USER_PREF_SET_PREF"},f={LOAD_FUNCTIONS:"ADD_LOAD_FUNCTIONS",LOAD_FUNCTIONS_DONE:"ADD_LOAD_FUNCTIONS_DONE"},m={INIT:"PAGE_INIT",functionDesigner:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({SET_LOADING:"FUNCTION_DESIGNER_PAGE_SET_LOADING",CHANGE_TAB:"FUNCTION_DESIGNER_PAGE_CHANGE_TAB",INIT:"FUNCTION_DESIGNER_PAGE_INIT",SET_WORK_COMPLETED:"FUNCTION_DESIGNER_PAGE_SET_WORK_COMPLETED",SET_WORK_STARTED:"FUNCTION_DESIGNER_PAGE_SET_WORK_STARTED",INVALIDATE_TASKS:"FUNCTION_DESIGNER_PAGE_INVALIDATE_TASKS",ADD_NODE:"FUNCTION_DESIGNER_GRAPH_ADD_NODE",ADD_OR_UPDATE_NODE:"FUNCTION_DESIGNER_GRAPH_ADD_OR_UPDATE_NODE",DELETE_NODE:"FUNCTION_DESIGNER_GRAPH_DELETE_NODE",SELECT_NODES:"FUNCTION_DESIGNER_GRAPH_SELECT_NODES",SELECT_TOOLBAR_ITEM:"FUNCTION_DESIGNER_SELECT_TOOLBAR_ITEM",SET_NODES_OF_TYPE:"FUNCTION_DESIGNER_PAGE_SET_NODES_OF_TYPE",UPDATE_NODE:"FUNCTION_DESIGNER_PAGE_UPDATE_NODE",MERGE_NODE:"FUNCTION_DESIGNER_PAGE_MERGE_NODE",DEEP_MERGE_NODE:"FUNCTION_DESIGNER_PAGE_DEEP_MERGE_NODE",RESET_NODE_DATA:"FUNCTION_DESIGNER_PAGE_RESET_NODE_DATA",SAVE:"FUNCTION_DESIGNER_SAVE",SAVE_COMPLETE:"FUNCTION_DESIGNER_PAGE_SAVE_COMPLETE",SAVE_CODE:"FUNCTION_DESIGNER_SAVE_CODE",SAVE_CODE_COMPLETE:"FUNCTION_DESIGNER_SAVE_CODE_COMPLETE",GET_CODE_COMPLETE:"FUNCTION_DESIGNER_GET_CODE",UPDATE_NODE_STATE:"FUNCTION_DESIGNER_PAGE_UPDATE_NODE_STATE",SIMULATE_TRACER_ROLE_POLICY:"FUNCTION_DESIGNER_SIMULATE_TRACER_ROLE_POLICY",DLQ_GET_RESOURCES:"FUNCTION_DESIGNER_DLQ_GET_RESOURCES",DLQ_CHECK_ROLE_PERMISSION:"FUNCTION_DESIGNER_DLQ_CHECK_ROLE_HAS_RESOURCE_PERMISSIONS",INIT_VPC:"FUNCTION_DESIGNER_INIT_VPC",CHANGE_VPC_ID:"FUNCTION_DESIGNER_CHANGE_VPC_ID",UPDATE_VPC_COMPONENT_STATE:"FUNCTION_DESIGNER_UPDATE_VPC_COMPONENT_STATE",SET_MODAL:"FUNCTION_DESIGNER_SET_MODAL",SET_MODAL_LOADING:"FUNCTION_DESIGNER_SET_MODAL_LOADING",CREATE_ALIAS:"FUNCTION_DESIGNER_CREATE_ALIAS",CREATE_VERSION:"FUNCTION_DESIGNER_CREATE_VERSION",STOP_FUNCTION:"FUNCTION_DESIGNER_STOP_FUNCTION",STOP_FUNCTION_COMPLETE:"FUNCTION_DESIGNER_STOP_FUNCTION_COMPLETE",UPDATE_REFERENCED_LAYERS_STATE:"FUNCTION_DESIGNER_UPDATE_REFERENCED_LAYERS_STATE",UPDATE_FUNCTION_COMBINED_STATE:"FUNCTION_DESIGNER_UPDATE_FUNCTION_COMBINED_STATE",CANCEL_POLLING:"FUNCTION_DESIGNER_CANCEL_POLLING",RESTORE_FUNCTION:"FUNCTION_DESIGNER_RESTORE_FUNCTION",SAVE_EDIT_PAGE:"FUNCTION_DESIGNER_SAVE_EDIT_PAGE",ENCRYPT_IN_TRANSIT:"FUNCTION_DESIGNER_ENCRYPT_IN_TRANSIT",DELETE_PROVISIONED_CONCURRENCY:"FUNCTION_DESIGNER_DELETE_PROVISIONED_CONCURRENCY",SET_PROVISIONED_CONCURRENCY_DELETING_INPROGRESS:"FUNCTION_DESIGNER_SET_PROVISIONED_CONCURRENCY_DELETING_INPROGRESS",SET_ENCRYPTING:"FUNCTION_DESIGNER_SET_ENCRYPTING",SET_SAVING_EDIT:"FUNCTION_DESIGNER_SET_SAVING_EDIT",UPDATE_ALL_RECOMMENDATIONS:"FUNCTION_DESIGNER_UPDATE_ALL_RECOMMENDATIONS",EDIT_FUNCTION_GROUP:"EDIT_FUNCTION_GROUP",EDIT_FUNCTION_GROUP_COMPLETE:"EDIT_FUNCTION_GROUP_COMPLETE",DELETE_DESTINATION:"FUNCTION_DESIGNER_DELETE_DESTINATION",UPDATE_DESTINATION_DELETE:"FUNCTION_DESIGNER_UPDATE_DESTINATION_DELETE",UPDATE_DESTINATION_MODAL:"FUNCTION_DESIGNER_UPDATE_DESTINATION_MODAL",DELETE_ELASTIC_FILE_SYSTEM:"FUNCTION_DESIGNER_DELETE_ELASTIC_FILE_SYSTEM",UPDATE_ELASTIC_FILE_SYSTEM_DELETE:"FUNCTION_DESIGNER_UPDATE_ELASTIC_FILE_SYSTEM_DELETE",UPDATE_ELASTIC_FILE_SYSTEM_MODAL:"FUNCTION_DESIGNER_UPDATE_ELASTIC_FILE_SYSTEM_MODAL"},{INIT_EVENT_MODAL:"FUNCTION_DESIGNER_INIT_EVENT_MODAL",INIT_EVENT_MODAL_COMPLETE:"FUNCTION_DESIGNER_INIT_EVENT_MODAL_COMPLETE",UPDATE_EVENT_MODAL:"FUNCTION_DESIGNER_UPDATE_EVENT_MODAL",SAVE_TEST_EVENT:"FUNCTION_DESIGNER_SAVE_TEST_EVENT",SAVE_TEST_EVENT_COMPLETE:"FUNCTION_DESIGNER_SAVE_TEST_EVENT_COMPLETE",DELETE_TEST_EVENT:"FUNCTION_DESIGNER_DELETE_TEST_EVENT",DELETE_TEST_EVENT_COMPLETE:"FUNCTION_DESIGNER_DELETE_TEST_EVENT_COMPLETE",LOAD_TEST_EVENT:"FUNCTION_DESIGNER_LOAD_TEST_EVENT",LOAD_TEST_EVENT_COMPLETE:"FUNCTION_DESIGNER_LOAD_TEST_EVENT_COMPLETE",REFRESH_TEST_EVENTS:"FUNCTION_DESIGNER_REFRESH_TEST_EVENTS",REFRESH_TEST_EVENTS_COMPLETE:"FUNCTION_DESIGNER_REFRESH_TEST_EVENTS_COMPLETE",CHANGE_CONFIGURATION_OPTION:"FUNCTION_DESIGNER_CHANGE_CONFIGURATION_OPTION",TOGGLE_EVENT_MODAL:"FUNCTION_DESIGNER_TOGGLE_EVENT_MODAL",SET_EVENT_ID_TO_INVOKE:"FUNCTION_DESIGNER_SET_EVENT_ID_TO_INVOKE",TEST:"FUNCTION_DESIGNER_TEST",TEST_COMPLETE:"FUNCTION_DESIGNER_TEST_COMPLETE",DISMISS_EXECUTION_RESULTS:"FUNCTION_DESIGNER_DISMISS_EXECUTION_RESULTS",SET_HAS_INVOKED:"FUNCTION_DESIGNER_SET_HAS_INVOKED"},{},{DEPLOY_TO_LAMBDA_AT_EDGE:"FUNCTION_DESIGNER_CAPABILITIES_DEPLOY_TO_LAMBDA_AT_EDGE",UPDATE_LAMBDA_AT_EDGE:"FUNCTION_DESIGNER_CAPABILITIES_UPDATE_LAMBDA_AT_EDGE",CLEAR_LAMBDA_AT_EDGE:"FUNCTION_DESIGNER_CAPABILITIES_CLEAR_LAMBDA_AT_EDGE"}),configureApplication:{INIT:"CONFIGURE_APPLICATION_PAGE_INIT",INIT_DONE:"CONFIGURE_APPLICATION_PAGE_INIT_DONE",INIT_ERROR:"CONFIGURE_APPLICATION_PAGE_INIT_ERROR",DEPLOY_APPLICATION:"CONFIGURE_APPLICATION_PAGE_DEPLOY_APPLICATION",DEPLOY_APPLICATION_SUCCESS:"CONFIGURE_APPLICATION_PAGE_DEPLOY_APPLICATION_SUCCESS",DEPLOY_APPLICATION_ERROR:"CONFIGURE_APPLICATION_PAGE_DEPLOY_APPLICATION_ERROR",REPORT_APPLICATION:"CONFIGURE_APPLICATION_PAGE_REPORT_APPLICATION",REPORT_APPLICATION_SUCCESS:"CONFIGURE_APPLICATION_PAGE_REPORT_APPLICATION_SUCCESS",REPORT_APPLICATION_ERROR:"CONFIGURE_APPLICATION_REPORT_APPLICATION_ERROR"},status:{INIT:"STATUS_PAGE_INIT",INIT_ERROR:"STATUS_PAGE_INIT_ERROR",UNMOUNT:"STATUS_PAGE_UNMOUNT",FETCH_APPLICATION_COMPLETE:"FETCH_APPLICATION_COMPLETE",DEPLOYMENT_COMPLETE:"STATUS_PAGE_DEPLOYMENT_COMPLETE",DEPLOYMENT_FAILED:"STATUS_PAGE_DEPLOYMENT_FAILED",STACK_RESOURCES_POLL_INIT:"STATUS_PAGE_STACK_RESOURCES_POLL_INIT",STACK_RESOURCES_POLL_CANCEL:"STATUS_PAGE_STACK_RESOURCES_POLL_CANCEL",FETCH_STACK_RESOURCES_COMPLETE:"STATUS_PAGE_FETCH_STACK_RESOURCES_COMPLETE",FETCH_STACK_STATUS_COMPLETE:"STATUS_PAGE_FETCH_STACK_STATUS_COMPLETE"}}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return h}));var r=n(0),a=n.n(r),i=n(3),o=n(2),c=n(45),s=n(14),u=n(50),l=n(5);function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(e){return"".concat(e.toUpperCase(),"_PAGE/")},m=function(e,t){return f(e)+t},b=function(e){return e.set("loading",!0).set("error",!1)},g=function(e){return{type:m(e,"LOAD_START"),reducer:b}},y=function(e,t){var n=t.payload;return e.set("loading",!1).set("error",n.error)},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:m(e,"INIT_DONE"),payload:{error:t},reducer:y}},h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t}var t,n,r;return t=e,(n=[{key:"initTask",get:function(){var e=this.config,t=e.id,n=e.hasHelpContent,r=e.init,d=e.sidebar;return regeneratorRuntime.mark((function e(p){var f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=p.payload,e.next=3,Object(o.put)(Object(s.g)());case 3:return e.next=5,Object(o.put)(Object(u.d)());case 5:if(void 0===d){e.next=8;break}return e.next=8,Object(o.put)(Object(c.h)(d));case 8:if(!n){e.next=13;break}return e.next=11,Object(o.put)(Object(c.e)(a.a.createElement(i.FormattedHTMLMessage,{id:"".concat(t,".helpContent")})));case 11:e.next=15;break;case 13:return e.next=15,Object(o.put)(Object(c.g)(!1));case 15:return e.next=17,Object(o.call)(r,f);case 17:return m=e.sent,Object(l.stopPageLoad)(t,m),e.next=21,Object(o.put)(v(t,!m));case 21:case"end":return e.stop()}}),e)}))}},{key:"loadTask",get:function(){var e=this.config,t=e.id,n=e.load;return regeneratorRuntime.mark((function e(){var r,a,i,c,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(l.startPageLoad)(t),e.next=3,Object(o.put)(g(t));case 3:if(!n){e.next=8;break}for(a=s.length,i=new Array(a),c=0;c<a;c++)i[c]=s[c];return e.next=7,o.call.apply(void 0,[n].concat(i));case 7:r=e.sent;case 8:return e.next=10,Object(o.put)({type:m(t,"INIT"),payload:r});case 10:case"end":return e.stop()}}),e)}))}},{key:"reducer",get:function(){var e=this.config,t=e.id,n=e.customReducer,r=e.initialState,a=e.resetStateOnInit,i=b(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,r=arguments.length>1?arguments[1]:void 0;return r.type===m(t,"INIT")&&a?i:r.type.startsWith(f(t))&&r.reducer?r.reducer(e,r):n?n(e,r):e}}},{key:"watchers",get:function(){var e=this.config,t=e.id,n=e.watchers,r=void 0===n?[]:n;return[{matcher:m(t,"INIT"),task:this.initTask,latest:!0}].concat(d(r))}}])&&p(t.prototype,n),r&&p(t,r),e}()},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return y})),n.d(t,"s",(function(){return h})),n.d(t,"g",(function(){return E})),n.d(t,"f",(function(){return O})),n.d(t,"o",(function(){return S})),n.d(t,"h",(function(){return j})),n.d(t,"l",(function(){return T})),n.d(t,"r",(function(){return x})),n.d(t,"k",(function(){return _})),n.d(t,"j",(function(){return w})),n.d(t,"q",(function(){return R})),n.d(t,"p",(function(){return A})),n.d(t,"m",(function(){return I})),n.d(t,"u",(function(){return N})),n.d(t,"n",(function(){return C})),n.d(t,"v",(function(){return k})),n.d(t,"w",(function(){return P})),n.d(t,"c",(function(){return D})),n.d(t,"e",(function(){return M})),n.d(t,"t",(function(){return L})),n.d(t,"i",(function(){return F})),n.d(t,"d",(function(){return q}));var r=n(4),a=n(0),i=n.n(a),o=n(3),c=n(57),s=n(7),u=n(9),l=n(21),d=n(40);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(e){var t=Object(r.Map)(e);if(e.envVars){var n=Object(r.Map)(e.envVars).reduce((function(e,t,n){return e.push(new c.b({key:n,value:t}))}),Object(r.List)());t=t.set("envVars",n)}else t=t.set("envVars",Object(r.List)());if(t=t.set("tracer",e.tracerMode===u.s.enabled),e.dlqArn){var a=e.dlqArn.split(":");t=t.set("dlq",a[2])}return t=t.set("kmsKeyArn",e.kmsKeyArn||"")}function m(e){return Object(r.Map)(e.map((function(e){return[e.version,f(e)]})))}function b(e){if(!e)return Object(r.Map)({version:void 0});var t=p(Object.entries(e)[0],2),n=t[0],a=t[1];return Object(r.Map)({version:n,weight:Math.round(100*a,10)})}function g(e){return Object(r.Map)(e).mapEntries((function(e){var t=p(e,2),n=t[0],r=t[1];return"additionalVersionWeights"===n?["additionalVersionWeight",b(r)]:[n,r]}))}function y(e){return Object(r.Map)(e.map((function(e){return[e.name,g(e)]})))}function v(e,t){return e.get("name")<t.get("name")?-1:1}function h(e){return function(t,n){var r=e(t),a=e(n);return"$LATEST"===r?-1:"$LATEST"===a?1:-(r-a)}}function E(e,t,n,r){return e.map((function(e){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return e.set("name",e.get("version")).set("selected",e.get("version")===t).set("goToQualifier",(function(){return n(e.get("version"))})).set("pills",r)}(e,t,n,r[e.get("version")])})).toList().sort(h((function(e){return e.get("name")})))}function O(e,t,n){return e.map((function(e){return function(e,t,n){return e.set("pills",[e.get("version")]).set("selected",e.get("name")===t).set("goToQualifier",(function(){return n(e.get("name"))}))}(e,t,n)})).toList().sort(v).unshift(Object(r.Map)({name:"$UNQUALIFIED",pills:["$LATEST"],selected:!t,goToQualifier:function(){return n()}}))}function S(e){var t=new r.Map;return e.forEach((function(e){var n=e.get("name"),a=e.get("version"),i=e.getIn(["additionalVersionWeight","version"]);t=t.update(a,Object(r.List)(),(function(e){return a?e.push(n):e})).update(i,Object(r.List)(),(function(e){return i?e.push(n):e}))})),t.toJS()}function j(e){if(void 0===e)return"-";var t,n=e.get("version"),r=e.getIn(["additionalVersionWeight","version"]);if(r){var a=r,c=e.getIn(["additionalVersionWeight","weight"]),s=n,u=100-c;t=i.a.createElement(o.FormattedMessage,{id:"display.weightedAlias",values:{version1:s,weight1:u,version2:a,weight2:c}})}else t=i.a.createElement(o.FormattedMessage,{id:"display.version",values:{version:n}});return t}function T(e){var t=new s.e(e),n=t.region,r=t.functionName,a=t.qualifier,i="console.".concat(Object(s.x)(),"/lambda/home"),o="https://".concat(n,".").concat(i,"?region=").concat(n,"#/functions/").concat(r);return a&&(o+="/".concat(a)),o}function x(e){return-1!==e.indexOf(".")}var _=function(e){return"lambda-edit-template-".concat(e,"-id")},w=function(e){return"lambda-edit-template-".concat(e)};function R(e){return!!e&&"$LATEST"!==e}function A(e){return!e.intersect(l.m).isEmpty()}var I=function(e){return Object(d.c)("previousPage:".concat(e))},N=function(e,t){return Object(d.f)("previousPage:".concat(e),t)},C=function(e){return Object(d.c)("successCreateMessage:".concat(e))},k=function(e,t){return Object(d.f)("successCreateMessage:".concat(e),t)},P=function(e){return Object(d.i)("successCreateMessage:".concat(e))},D=function(){return Object(d.i)("designerEdit")},M=function(){return Object(d.c)("designerEdit")},L=function(e,t,n,r,a){return Object(d.f)("designerEdit",{functionName:e,qualifier:t,type:n,result:r,data:a})},F=function(e){return"edit-".concat(e).replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))},q=function(e,t){return t.get("name")===e.get("name")&&t.get("type")===e.get("type")}},function(e,t,n){"use strict";n.d(t,"r",(function(){return a})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return f})),n.d(t,"i",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"s",(function(){return g})),n.d(t,"o",(function(){return y})),n.d(t,"n",(function(){return v})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return E})),n.d(t,"h",(function(){return O})),n.d(t,"l",(function(){return S})),n.d(t,"t",(function(){return j})),n.d(t,"m",(function(){return T})),n.d(t,"p",(function(){return x})),n.d(t,"u",(function(){return _})),n.d(t,"q",(function(){return w})),n.d(t,"c",(function(){return R})),n.d(t,"e",(function(){return A})),n.d(t,"f",(function(){return I})),n.d(t,"g",(function(){return N}));var r=n(4),a={DEPENDENCY_FAILED:"DEPENDENCY_FAILED",FAILED:"FAILED",PRECONDITION_NOT_SATISFIED:"PRECONDITION_NOT_SATISFIED",SUCCEEDED:"SUCCEEDED"},i="Pending",o="Active",c="Inactive",s="Failed",u={SUCCESSFUL:"Successful",FAILED:"Failed",INPROGRESS:"InProgress"},l="Creating",d="Restoring",p="Idle",f=r.Set.of("Timeout","EniLimitExceeded","InsufficentRolePermissions","InvalidConfiguration","InternalError","SubnetOutOfIPAddresses"),m={ACTIVE:"active",CREATE_SUCCESS:"createSuccess",CREATE_PENDING:"createPending",CREATE_FAILED:"createFailed",IDLE_MODE:"idleMode",RESTORE_SUCCESS:"restoreSuccess",RESTORE_PENDING:"restorePending",RESTORE_FAILED:"restoreFailed",UPDATE_SUCCESS:"updateSuccess",UPDATE_PENDING:"updatePending",UPDATE_FAILED:"updateFailed"},b={active:function(e){var t=e.state,n=e.previousCombinedStateSet;return!e.hasMessageIdCache&&t===o&&!(null==n?void 0:n.has(m.CREATE_PENDING))&&!(null==n?void 0:n.has(m.RESTORE_PENDING))},createSuccess:function(e){var t=e.state,n=e.previousCombinedStateSet,r=e.hasMessageIdCache;return t===o&&(r||(null==n?void 0:n.has(m.CREATE_PENDING)))},createPending:function(e){var t=e.state,n=e.stateReasonCode;return t===i&&n===l},createFailed:function(e){var t=e.state,n=e.stateReasonCode;return t===s&&n},idleMode:function(e){var t=e.state,n=e.stateReasonCode;return t===c&&n===p},restoreSuccess:function(e){var t=e.state,n=e.previousCombinedStateSet;return t===o&&(null==n?void 0:n.has(m.RESTORE_PENDING))},restorePending:function(e){var t=e.state,n=e.stateReasonCode;return t===i&&n===d},restoreFailed:function(e){var t=e.state,n=e.stateReasonCode;return t===c&&n!==p},updateSuccess:function(e){var t=e.lastUpdateStatus,n=e.previousCombinedStateSet;return t===u.SUCCESSFUL&&(null==n?void 0:n.has(m.UPDATE_PENDING))},updatePending:function(e){return e.lastUpdateStatus===u.INPROGRESS},updateFailed:function(e){return e.lastUpdateStatus===u.FAILED}},g=r.Set.of(m.CREATE_PENDING,m.CREATE_FAILED,m.IDLE_MODE,m.RESTORE_PENDING,m.RESTORE_FAILED,m.UPDATE_PENDING),y=r.Set.of(m.CREATE_PENDING,m.UPDATE_PENDING,m.CREATE_FAILED),v=r.Set.of(m.CREATE_PENDING,m.CREATE_FAILED),h=r.Set.of(m.CREATE_PENDING,m.UPDATE_PENDING,m.CREATE_FAILED),E=r.Set.of(m.CREATE_PENDING,m.UPDATE_PENDING),O=r.Set.of(m.CREATE_PENDING,m.UPDATE_PENDING,m.CREATE_FAILED),S=r.Set.of(m.CREATE_PENDING,m.UPDATE_PENDING,m.CREATE_FAILED),j=r.Set.of(m.CREATE_PENDING,m.UPDATE_PENDING,m.CREATE_FAILED),T=[m.CREATE_PENDING,m.UPDATE_PENDING,m.RESTORE_PENDING],x=[m.CREATE_SUCCESS,m.UPDATE_SUCCESS,m.RESTORE_SUCCESS],_=[m.UPDATE_SUCCESS,m.UPDATE_PENDING,m.UPDATE_FAILED],w={CONFIGURATION:"configuration",PERMISSIONS:"permissions",MONITORING:"monitoring"},R={MAX_EVENT_AGE:21600,MAX_RETRY_ATTEMPTS:"2"},A=["onFailure","onSuccess"],I="async",N="stream"},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return x})),n.d(t,"e",(function(){return _}));var r=n(4),a=n(16),i=n(181),o=n.n(i),c=n(15),s=n(8),u=n(9);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=c.h.functionDesigner,f="create",m="edit";var b=Object(r.fromJS)({eventIdToInvoke:null,invoking:!1,showExecutionResults:!1,invokeFailureMessage:null,executionResults:{message:"",error:!1,logs:"",execId:"",initDuration:"",duration:"",billed:"",size:"",used:""},eventModal:{open:!1,loading:!0,isEventLoading:!1,hasParseError:!1,savedEventId:null,dirtyEventCode:null,templateEventId:null,configurationOption:m,sampleEvents:Object(r.List)(),savedEvents:Object(r.List)()},hasInvoked:!1});function g(e){return e.pages.functionDesigner.get("testing")}function y(e){return g(e).getIn(["eventModal","savedEvents"])||Object(r.List)()}function v(e){return g(e).getIn(["eventModal","sampleEvents"])||Object(r.List)()}var h=Object(a.createSelector)(y,v,(function(e,t){return t.concat(e)})),E=Object(a.createSelector)(h,(function(e){return Object(r.Map)(e.map((function(e){return[e.id,e]})))})),O=Object(a.createSelector)(h,s.d,(function(e,t){return e.groupBy((function(e){return function(e){return"blueprints"in e&&e.blueprints.includes(t)}(e)?u.p:e.group})).map((function(e,t){return{value:"functionDetail.testEvents.".concat(t.toLowerCase()),text:t,children:e.map((function(e){return{value:e.id,text:e.name}})).sortBy((function(e){return e.text})).toJS()}})).sort((function(e,t){return t.text&&t.text===u.p})).sort((function(e,t){return t.text&&t.text===u.q})).toList().toJS()})),S=Object(a.createSelector)(O,(function(e){var t=function(e){return e.text===u.p};return e.find(t)?e.find(t).children[0].value:"hello-world"}));var j=Object(a.createSelector)((function(e){return g(e).getIn(["eventModal","templateEventId"])||g(e).getIn(["eventModal","savedEventId"])}),h,(function(e,t){var n=t.find((function(t){return t.id===e}));return n?n.template:"{}"}));function T(e){return g(e).get("eventIdToInvoke")}var x={updateEventModal:function(e){return{type:p.UPDATE_EVENT_MODAL,state:e}},initEventModal:function(e,t){return{type:p.INIT_EVENT_MODAL,functionName:e,qualifier:t}},initEventModalSuccess:function(e,t,n,r){return{type:p.INIT_EVENT_MODAL_COMPLETE,failed:!1,sampleEvents:e,savedEvents:t,eventIdToInvoke:n,bestBlueprintEventId:r}},initEventModalFail:function(){return{type:p.INIT_EVENT_MODAL_COMPLETE,failed:!0}},saveTestEvent:function(e,t,n,r){return{type:p.SAVE_TEST_EVENT,functionName:e,qualifier:t,eventId:n,eventCode:r}},saveTestEventSuccess:function(e,t){return{type:p.SAVE_TEST_EVENT_COMPLETE,failed:!1,eventId:e,eventTemplate:t,eventIdToInvoke:e}},saveTestEventFail:function(){return{type:p.SAVE_TEST_EVENT_COMPLETE,failed:!0}},deleteTestEvent:function(e,t){return{type:p.DELETE_TEST_EVENT,functionName:e,eventId:t}},deleteTestEventSuccess:function(e,t,n){return{type:p.DELETE_TEST_EVENT_COMPLETE,failed:!1,deletedEventId:e,eventIdToInvoke:t,bestBlueprintEventId:n}},deleteTestEventFail:function(){return{type:p.DELETE_TEST_EVENT_COMPLETE,failed:!0}},loadTestEvent:function(e,t){return{type:p.LOAD_TEST_EVENT,functionName:e,eventId:t}},loadTestEventSuccess:function(e){return{type:p.LOAD_TEST_EVENT_COMPLETE,failed:!1,event:e}},loadTestEventFail:function(){return{type:p.LOAD_TEST_EVENT_COMPLETE,failed:!0}},refreshTestEvents:function(e){return{type:p.REFRESH_TEST_EVENTS,functionName:e}},refreshTestEventsSuccess:function(e){return{type:p.REFRESH_TEST_EVENTS_COMPLETE,failed:!1,savedEvents:e}},refreshTestEventsFail:function(){return{type:p.REFRESH_TEST_EVENTS_COMPLETE,failed:!0}},changeConfigurationOption:function(e){return{type:p.CHANGE_CONFIGURATION_OPTION,option:e}},toggleEventModal:function(){return{type:p.TOGGLE_EVENT_MODAL}},setEventIdToInvoke:function(e){return{type:p.SET_EVENT_ID_TO_INVOKE,eventIdToInvoke:e}},test:function(){return{type:p.TEST}},testSuccess:function(e){return{type:p.TEST_COMPLETE,failed:!1,invokeResponse:e}},testFail:function(e){return{type:p.TEST_COMPLETE,failed:!0,invokeFailureMessage:e}},dismissExecutionResults:function(){return{type:p.DISMISS_EXECUTION_RESULTS}},setHasInvoked:function(){return{type:p.SET_HAS_INVOKED}}};t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.INIT_EVENT_MODAL:return e.setIn(["eventModal","loading"],!0);case p.INIT_EVENT_MODAL_COMPLETE:if(t.failed)return e.setIn(["eventModal","loading"],!1);var n=e.get("eventModal").set("sampleEvents",t.sampleEvents).set("savedEvents",t.savedEvents).set("configurationOption",t.eventIdToInvoke?m:f).set("savedEventId",t.eventIdToInvoke).set("templateEventId",t.eventIdToInvoke?null:t.bestBlueprintEventId).set("dirtyEventCode",null).set("loading",!1);return e.set("eventIdToInvoke",t.eventIdToInvoke).set("eventModal",n);case p.SAVE_TEST_EVENT:return e.setIn(["eventModal","loading"],!0);case p.SAVE_TEST_EVENT_COMPLETE:if(t.failed)return e.setIn(["eventModal","loading"],!1);var a,i=e.get("eventModal"),c=i.get("savedEvents"),s=c.find((function(e){return e.id===t.eventId}));if(s){var g=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s,{template:t.eventTemplate});a=c.set(c.indexOf(s),g)}else a=c.push({group:u.q,id:t.eventId,name:t.eventId,template:t.eventTemplate});var y=i.set("loading",!1).set("configurationOption",m).set("savedEventId",t.eventId).set("templateEventId",null).set("dirtyEventCode",null).set("savedEvents",a);return e.set("eventIdToInvoke",t.eventIdToInvoke).set("eventModal",y);case p.DELETE_TEST_EVENT:return e.setIn(["eventModal","loading"],!0);case p.DELETE_TEST_EVENT_COMPLETE:if(t.failed)return e.setIn(["eventModal","loading"],!1);var v=e.get("eventModal"),h=v.get("savedEvents"),E=h.remove(h.findIndex((function(e){return e.id===t.deletedEventId}))),O=v.set("savedEvents",E).set("configurationOption",t.eventIdToInvoke?m:f).set("savedEventId",t.eventIdToInvoke).set("templateEventId",t.eventIdToInvoke?null:t.bestBlueprintEventId).set("dirtyEventCode",null).set("loading",!1);return e.set("eventIdToInvoke",t.eventIdToInvoke).set("eventModal",O);case p.LOAD_TEST_EVENT:var S=e.get("eventModal"),j=S.set("isEventLoading",!0).set("dirtyEventCode",null).set("hasParseError",!1);return j=S.get("configurationOption")===m?j.set("savedEventId",t.eventId):j.set("templateEventId",t.eventId),e.set("eventModal",j);case p.LOAD_TEST_EVENT_COMPLETE:if(t.failed||!t.event)return e.setIn(["eventModal","isEventLoading"],!1);var T=e.get("eventModal"),x=T.get("savedEvents"),_=x.find((function(e){return e.id===t.event.id})),w=x.set(x.indexOf(_),t.event),R=T.set("isEventLoading",!1).set("savedEvents",w);return e.set("eventModal",R);case p.REFRESH_TEST_EVENTS:return e.setIn(["eventModal","isEventLoading"],!0);case p.REFRESH_TEST_EVENTS_COMPLETE:return t.failed?e.setIn(["eventModal","isEventLoading"],!1):e.setIn(["eventModal","savedEvents"],t.savedEvents).setIn(["eventModal","isEventLoading"],!1);case p.UPDATE_EVENT_MODAL:return e.mergeIn(["eventModal"],Object(r.Map)(t.state));case p.CHANGE_CONFIGURATION_OPTION:var A=e.get("eventModal"),I=A.set("configurationOption",t.option).set("templateEventId",t.option===m?null:A.get("savedEventId")).set("dirtyEventCode",null).set("hasParseError",!1);return e.set("eventModal",I);case p.TOGGLE_EVENT_MODAL:return e.updateIn(["eventModal","open"],(function(e){return!e}));case p.SET_EVENT_ID_TO_INVOKE:return e.set("eventIdToInvoke",t.eventIdToInvoke);case p.TEST:var N=e.get("eventIdToInvoke"),C=e.getIn(["eventModal","savedEvents"]).find((function(e){return e.id===N}));return(null==C?void 0:C.template)?e.set("invoking",!0).set("invokeFailureMessage",null).set("showExecutionResults",!0):e;case p.TEST_COMPLETE:if(t.failed)return e.set("invokeFailureMessage",t.invokeFailureMessage).set("invoking",!1);var k=t.invokeResponse.logs,P=/REPORT RequestId: (.*?)\s(Init Duration: (.*?)\s)?Duration: (.*?)\sBilled Duration: (.*?)\sMemory Size: (.*?)\sMax Memory Used: (.*?)\s\n/.exec(k),D=Object(r.fromJS)({message:o.a.stringify(t.invokeResponse.message,null,2),error:t.invokeResponse.error||!1,logs:k,execId:P[1],initDuration:P[3]||"",duration:P[4],billed:P[5],size:P[6],used:P[7]});return e.set("invoking",!1).set("executionResults",D);case p.DISMISS_EXECUTION_RESULTS:return e.set("showExecutionResults",!1);case p.SET_HAS_INVOKED:return e.set("hasInvoked",!0);default:return e}};var _={getEventModalState:function(e,t){return g(e).getIn(["eventModal",t])},getEventsById:E,getSampleEvents:v,getGroupedSampleEvents:O,getSavedEvents:y,getIsEventLoading:function(e){return g(e).getIn(["eventModal","isEventLoading"])},getHasSavedEvents:function(e){return!g(e).getIn(["eventModal","savedEvents"]).isEmpty()},getCodeToShow:j,getDirtyEventCode:function(e){return g(e).getIn(["eventModal","dirtyEventCode"])},getBestBlueprintEventId:S,getEventIdToInvoke:T,getEventToInvoke:function(e){var t=T(e),n=y(e).find((function(e){return e.id===t}));return n?n.template:null},getEventModalOpen:function(e){return g(e).getIn(["eventModal","open"])},getIsInvoking:function(e){return g(e).get("invoking")},getExecutionResults:function(e){return g(e).get("executionResults")},getShowExecutionResults:function(e){return g(e).get("showExecutionResults")},getInvokeFailureMessage:function(e){return g(e).get("invokeFailureMessage")},getHasInvoked:function(e){return g(e).get("hasInvoked")}}},function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return u})),n.d(t,"l",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return E})),n.d(t,"h",(function(){return O}));var r=n(4),a=n(2),i=regeneratorRuntime.mark(O),o={REFRESH_FIELD_ITEMS:"FORM_REFRESH_FIELD_ITEMS",RESET_FORM:"FORM_RESET_FORM",RESET_VALIDATION:"FORM_RESET_VALIDATION",SET_FIELD_VALUE:"FORM_SET_FIELD_VALUE",SET_FIELD_VALIDATION:"FORM_SET_FIELD_VALIDATION",SET_FIELD_ITEMS:"FORM_SET_FIELD_ITEMS",SET_FIELD_ERROR:"FORM_SET_FIELD_ERROR"},c=function(e,t,n){return{type:o.REFRESH_FIELD_ITEMS,payload:{formId:e,fieldId:t,paginator:n}}},s=function(e,t){return{type:o.RESET_FORM,payload:{formId:e,defaultValues:t}}},u=function(e){return{type:o.RESET_VALIDATION,payload:{formId:e}}},l=function(e,t,n){return{type:o.SET_FIELD_VALUE,payload:{formId:e,fieldId:t,value:n}}},d=function(e,t,n){return{type:o.SET_FIELD_VALIDATION,payload:{formId:e,fieldId:t,validation:n}}},p=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:o.SET_FIELD_ITEMS,payload:{formId:e,fieldId:t,items:n,append:r}}},f=function(e,t,n){return{type:o.SET_FIELD_ERROR,payload:{formId:e,fieldId:t,error:n}}},m=Object(r.Map)();function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.REFRESH_FIELD_ITEMS:var n=t.payload,a=n.formId,i=n.fieldId;return e.deleteIn([a,"items",i]);case o.RESET_FORM:var c=t.payload,s=c.formId,u=c.defaultValues;return e.delete(s).updateIn([s,"values"],(function(e){return u?Object(r.Map)(u):e}));case o.RESET_VALIDATION:var l=t.payload.formId;return e.deleteIn([l,"validation"]);case o.SET_FIELD_VALUE:var d=t.payload,p=d.formId,f=d.fieldId,b=d.value;return e.setIn([p,"values",f],b);case o.SET_FIELD_VALIDATION:var g=t.payload,y=g.formId,v=g.fieldId,h=g.validation;return e.setIn([y,"validation",v],h);case o.SET_FIELD_ITEMS:var E=t.payload,O=E.formId,S=E.fieldId,j=E.items,T=E.append;return e.updateIn([O,"items",S],[],(function(e){return T?e.concat(j):j}));case o.SET_FIELD_ERROR:var x=t.payload,_=x.formId,w=x.fieldId,R=x.error;return e.setIn([_,"errors",w],R);default:return e}}var g=function(e,t){return e.forms.get(t)},y=function(e,t){return e.forms.getIn([t,"values"],Object(r.Map)()).toJS()},v=function(e,t,n){return e.forms.getIn([t,"values",n])},h=function(e,t,n){return e.forms.getIn([t,"validation",n])},E=function(e,t,n){return e.forms.getIn([t,"items",n])};function O(e){var t,n,r,o,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.formId,r=t.fieldId,o=t.paginator,i.prev=1,i.next=4,Object(a.put)(f(n,r,null));case 4:return i.next=6,o.run();case 6:return c=i.sent,i.next=9,Object(a.put)(p(n,r,c));case 9:i.next=17;break;case 11:return i.prev=11,i.t0=i.catch(1),i.next=15,Object(a.put)(p(n,r,[]));case 15:return i.next=17,Object(a.put)(f(n,r,i.t0.message));case 17:case"end":return i.stop()}}),i,null,[[1,11]])}},function(e,t,n){"use strict";n.d(t,"b",(function(){return w}));var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(6),s=n(4),u=n(13),l=n(10),d=n(8),p=n(96),f=n(58),m=n(65),b=n(42),g=n(33);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var w=function(e,t){if(!e)return null;var n=["data"].concat(_(t.split(".")));return e.getIn(n)},R=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=O(this,S(t).call(this,e)),e.schema&&(n._validator=new g.d(e.schema)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=p.b[this.props.type],t=this.props,n=t.label,r=t.subtext,i=t.tooltip,o=t.required,s=t.infoText,u=t.warning,l=t.validationError,d=(t.schema,t.value),f=t.secondaryControl,b=h(t,["label","subtext","tooltip","required","infoText","warning","validationError","schema","value","secondaryControl"]),g={label:n?a.a.createElement("span",null,a.a.createElement("span",{className:"".concat(b.readonly?"awsui-util-label":"")},o?"".concat(n,"*"):n),s?a.a.createElement(m.a,{message:s}):null):null,hintText:r,description:i,errorText:l?l.get("message"):u,className:"".concat(this.props.pathInData.replace(/\./g,"-"),"-field"),secondaryControl:f,stretch:"range"===this.props.type},y=(null==d?void 0:d.toJS)?d.toJS():d;return a.a.createElement(c.FormField,v({stretch:!1},g),a.a.createElement(e,v({},b,{onChange:this.props.onFieldChange,value:y})))}}])&&E(n.prototype,r),i&&E(n,i),t}(a.a.Component);x(R,"propTypes",{type:o.a.string.isRequired,pathInData:o.a.string.isRequired,nodeId:o.a.string.isRequired,schema:o.a.object,label:o.a.string,required:o.a.bool,tooltip:o.a.node,infoText:o.a.node,subtext:o.a.node,warning:o.a.oneOfType([o.a.string,o.a.object]),allowManualValues:o.a.bool,secondaryControl:o.a.node,includeChildFieldErrors:o.a.bool,integrationConfig:b.c,value:o.a.any,validationError:o.a.object,onFieldChange:o.a.func.isRequired}),t.a=Object(u.connect)((function(e,t){return{node:Object(d.M)(e,t.nodeId),validationErrors:Object(d.gb)(e,t.nodeId)}}),(function(e){return{dispatch:e}}),(function(e,t,n){var r,a,i,o,c=null!==(r=w(e.node,n.pathInData))&&void 0!==r?r:f.a[n.type];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({value:c,validationError:(a=e.validationErrors,i=n.pathInData,o=n.includeChildFieldErrors,a?a.find((function(e){return o?e.get("dataPath").slice(1).startsWith(i):e.get("dataPath").slice(1)===i})):null),onFieldChange:function(e){var r=Array.isArray(e)?Object(s.List)(e):e;if(t.dispatch(Object(l.W)(r,n.nodeId,n.pathInData)),n.extraOnChange){var a=c&&c.toJS?c.toJS():c;n.extraOnChange(e,a)}}},n)}))(R)},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return O}));var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(6),s=n(56),u=n.n(s),l=n(3),d=n(65);function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var f=function(e){var t=e.children,n=e.header,r=e.counter,i=e.info,o=e.large;return a.a.createElement("div",{className:o?"awsui-util-action-stripe-large":"awsui-util-action-stripe"},a.a.createElement("div",{className:"awsui-util-action-stripe-title"},o?a.a.createElement("h1",null,n):a.a.createElement("h2",null,n,r?a.a.createElement("span",{className:"awsui-util-header-counter"},r):null,i?a.a.createElement(d.a,{message:i}):null)),a.a.createElement("div",{className:"awsui-util-action-stripe-group"},t))};f.propTypes={children:o.a.node,header:o.a.node.isRequired,counter:o.a.node,info:o.a.node,large:o.a.bool};var m=function(e){var t=e.children,n=e.id,r=e.header,i=e.footer,o=e.noGutters;return a.a.createElement("div",{id:n,className:u()("awsui-util-container",{"awsui-util-no-gutters":o})},a.a.createElement("div",{className:"awsui-util-container-header"},r),a.a.createElement("div",null,t),i&&a.a.createElement("div",{className:"awsui-util-container-footer"},i))};m.propTypes={children:o.a.node,id:o.a.string,header:o.a.node.isRequired,footer:o.a.node,noGutters:o.a.bool};var b=function(e){var t=e.id,n=e.noDescription,r=p(e,["id","noDescription"]);return a.a.createElement("div",{className:"awsui-util-t-c"},a.a.createElement("div",{className:"awsui-util-pt-s awsui-util-mb-xs"},a.a.createElement(l.FormattedMessage,{tagName:"b",id:"".concat(t,".header")})),!n&&a.a.createElement("p",{className:"awsui-util-mb-s"},a.a.createElement(l.FormattedMessage,{id:"".concat(t,".description")})),a.a.createElement("div",{className:"awsui-util-mb-m"},a.a.createElement(c.Button,r,a.a.createElement(l.FormattedMessage,{id:"".concat(t,".buttonText")}))))};b.propTypes={id:o.a.string.isRequired,noDescription:o.a.bool};var g=function(e){var t=e.children,n=p(e,["children"]);return a.a.createElement(c.FormSection,n,a.a.createElement(c.ColumnLayout,null,a.a.createElement("div",{"data-awsui-column-layout-root":"true"},t)))};g.propTypes={children:o.a.node.isRequired};var y=function(e){var t=e.children;return a.a.createElement("div",{className:"awsui-grid"},a.a.createElement("div",{className:"awsui-row"},t))};y.propTypes={children:o.a.node.isRequired};var v=function(e,t){return a.a.createElement("div",{key:t},a.a.createElement("div",{className:"awsui-util-label"},e.key),a.a.createElement("span",null,e.value))},h=function(e){var t,n=e.columns,r=e.flat,i=e.items,o=e.variant;return t=r?i.map(v):i.map((function(e,t){return a.a.createElement("div",{key:t},a.a.createElement("div",{className:"awsui-util-spacing-v-s"},e.map(v)))})),a.a.createElement(c.ColumnLayout,{borders:r&&"vertical",columns:Math.min(i.length,n)||1,variant:o||(r?"default":"text-grid")},a.a.createElement("div",{"data-awsui-column-layout-root":"true"},t))};h.propTypes={columns:o.a.number,flat:o.a.bool,items:o.a.array.isRequired,variant:o.a.string};var E={error:{className:"negative",iconName:"negative"},warning:{className:"negative",iconName:"warning"},success:{className:"positive",iconName:"positive"},info:{className:"info",iconName:"info"},stopped:{className:"inactive",iconName:"stopped"},pending:{className:"inactive",iconName:"pending"},inProgress:{className:"inactive",iconName:"in-progress"},loading:{className:"inactive",iconName:"loading"},failed:{className:"negative",iconName:"negative"},ready:{className:"positive",iconName:"positive"}},O=function(e){var t=e.status;if(!E[t])return a.a.createElement("span",null,t);var n,r=E[t],i=r.className,o=r.iconName;return n="loading"===t?a.a.createElement(c.Spinner,null):a.a.createElement(c.Icon,{name:"status-".concat(o)}),a.a.createElement("span",{className:"awsui-util-status-".concat(i)},n," ",a.a.createElement(l.FormattedMessage,{id:"statusIndicator.".concat(t)}))};O.propTypes={status:o.a.string.isRequired}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"j",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return b}));var r=n(4),a=n(47),i={SAVE_ERROR:"SAVE_ERROR",SAVING:"SAVING",SAVED:"SAVED",PENDING_DELETION:"PENDING_DELETION",NOT_CONFIGURED:"NOT_CONFIGURED",NEEDS_SAVE:"NEEDS_SAVE",NEEDS_FIX:"NEEDS_FIX",HAS_VALIDATION_ERRORS:"HAS_VALIDATION_ERRORS"};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"designer.node.state.notConfigured";return Object(r.Map)({id:Object(a.a)(),type:i.NOT_CONFIGURED,level:"info",message:e})}function c(e){return Object(r.Map)({id:Object(a.a)(),type:i.SAVE_ERROR,level:"error",message:e})}function s(e){return Object(r.Map)({id:Object(a.a)(),type:i.SAVING,level:"info",message:e})}function u(){return s("designer.node.state.saving")}function l(){return s("designer.node.state.deleting")}function d(){return Object(r.Map)({id:Object(a.a)(),type:i.SAVED,level:"success",message:"designer.node.state.saved"})}function p(){return Object(r.Map)({id:Object(a.a)(),type:i.PENDING_DELETION,level:"pending",message:"designer.node.state.pendingDeletion"})}function f(){return Object(r.Map)({id:Object(a.a)(),type:i.NEEDS_SAVE,level:"info",message:"designer.node.state.needsSave"})}function m(){return Object(r.Map)({id:Object(a.a)(),type:i.NEEDS_FIX,level:"info",message:"designer.node.state.needsSave"})}function b(){return Object(r.Map)({id:Object(a.a)(),type:i.HAS_VALIDATION_ERRORS,level:"error",message:"designer.node.state.hasValidationErrors"})}},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"PROVIDED",(function(){return b})),n.d(r,"DEFAULT_BOOTSTRAP",(function(){return g})),n.d(r,"CUSTOM_BOOTSTRAP",(function(){return y}));var a={};n.r(a),n.d(a,"DOTNETCORE_2_0",(function(){return S})),n.d(a,"DOTNETCORE_2_1",(function(){return j}));var i={};n.r(i),n.d(i,"GO_1_X",(function(){return _}));var o={};n.r(o),n.d(o,"JAVA_8",(function(){return N})),n.d(o,"JAVA_11",(function(){return C}));var c={};n.r(c),n.d(c,"NODEJS_6_10",(function(){return L})),n.d(c,"NODEJS_8_10",(function(){return F})),n.d(c,"NODEJS_10_X",(function(){return q})),n.d(c,"NODEJS_12_X",(function(){return V}));var s={};n.r(s),n.d(s,"PYTHON_2_7",(function(){return H})),n.d(s,"PYTHON_3_6",(function(){return W})),n.d(s,"PYTHON_3_7",(function(){return K})),n.d(s,"PYTHON_3_8",(function(){return Y}));var u={};n.r(u),n.d(u,"RUBY_2_5",(function(){return X}));var l=n(4);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={configuration:{handler:"hello.handler"},metadata:{custom:!0,editable:!0}},b=p({},m,{id:"provided",name:"Custom runtime"}),g=p({},m,{id:"defaultBootstrap",name:"Default bootstrap"}),y=p({},m,{id:"customBootstrap",name:"Custom bootstrap"});function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={assets:{decryptSnippet:'using System;\nusing System.IO;\nusing System.Text;\nusing System.Threading.Tasks;\nusing Amazon.KeyManagementService;\nusing Amazon.KeyManagementService.Model;\n\nnamespace AWSLambda\n{\n    public class Function\n    {\n        private static string Key1Value;\n        // Read values once, in the constructor\n        public Function()\n        {\n            // Decrypt code should run once and variables stored outside of the\n            // function handler so that these are decrypted once per container\n            Key1Value = DecodeEnvVar("{{key}}").Result;\n        }\n        private static async Task<string> DecodeEnvVar(string envVarName)\n        {\n            // Retrieve env var text\n            var encryptedBase64Text = Environment.GetEnvironmentVariable(envVarName);\n            // Convert base64-encoded text to bytes\n            var encryptedBytes = Convert.FromBase64String(encryptedBase64Text);\n            // Construct client\n            using (var client = new AmazonKeyManagementServiceClient())\n            {\n                // Construct request\n                var decryptRequest = new DecryptRequest\n                {\n                    CiphertextBlob = new MemoryStream(encryptedBytes),\n                };\n                // Call KMS to decrypt data\n                var response = await client.DecryptAsync(decryptRequest);\n                using (var plaintextStream = response.Plaintext)\n                {\n                    // Get decrypted bytes\n                    var plaintextBytes = plaintextStream.ToArray();\n                    // Convert decrypted bytes to ASCII text\n                    var plaintext = Encoding.UTF8.GetString(plaintextBytes);\n                    return plaintext;\n                }\n            }\n        }\n        public void FunctionHandler()\n        {\n            Console.WriteLine("Encrypted environment variable Key1 = " + Key1Value);\n        }\n    }\n}\n',playgroundCode:'using System;\nusing Amazon.Lambda.Core;\nusing Amazon.Lambda.Serialization.Json;\n\nnamespace LambdaTest\n{\n    class LambdaHandler\n    {\n        [LambdaSerializer(typeof(JsonSerializer))]\n        public string handleRequest(object evt, ILambdaContext context)\n        {\n            context.Logger.LogLine(evt.ToString());\n            return "Hello from Lambda!";\n        }\n    }\n}\n'},configuration:{handler:"LambdaTest::LambdaTest.LambdaHandler::handleRequest",memory:512,timeout:15},documentation:{deploymentPackage:"lambda-dotnet-how-to-create-deployment-package.html",programmingModel:"dotnet-programming-model.html"},metadata:{editable:!1,editorMode:"csharp",fileExtension:".cs"}},S=h({},O,{id:"dotnetcore2.0",name:".NET Core 2.0 (C#)",gates:{createDeprecation:"dehydrator1",updateDeprecation:"dehydrator2"}}),j=h({},O,{id:"dotnetcore2.1",name:".NET Core 2.1 (C#/PowerShell)"});function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{assets:{decryptSnippet:'package main\n\nimport (\n\t"encoding/base64"\n\t"github.com/aws/aws-lambda-go/lambda"\n\t"github.com/aws/aws-sdk-go/aws/session"\n\t"github.com/aws/aws-sdk-go/service/kms"\n\t"os"\n)\n\nvar encrypted string = os.Getenv("{{key}}")\nvar decrypted string\n\nfunc init() {\n\tkmsClient := kms.New(session.New())\n\tdecodedBytes, err := base64.StdEncoding.DecodeString(encrypted)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tinput := &kms.DecryptInput{\n\t\tCiphertextBlob: decodedBytes,\n\t}\n\tresponse, err := kmsClient.Decrypt(input)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\t// Plaintext is a byte array, so convert to string\n\tdecrypted = string(response.Plaintext[:])\n}\n\nfunc HandleRequest() (string, error) {\n\t// TODO handle the event here\n\treturn "Hello, World!", nil\n}\n\nfunc main() {\n\tlambda.Start(HandleRequest)\n}\n',playgroundCode:'package main\n\nimport (\n\t"context"\n\t"fmt"\n\t"github.com/aws/aws-lambda-go/lambda"\n)\n\nfunc HandleRequest(ctx context.Context, event interface{}) (string, error) {\n\tfmt.Printf("%v\\n", event)\n\treturn "Hello from Lambda!", nil\n}\n\nfunc main() {\n\tlambda.Start(HandleRequest)\n}\n'},configuration:{handler:"hello",memory:512,timeout:15},documentation:{deploymentPackage:"lambda-go-how-to-create-deployment-package.html",programmingModel:"go-programming-model.html"},metadata:{editable:!1,editorMode:"golang",fileExtension:".go"}},{id:"go1.x",name:"Go 1.x"});function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I={assets:{decryptSnippet:'package example;\n\nimport java.nio.ByteBuffer;\nimport java.nio.charset.Charset;\n\nimport com.amazonaws.services.kms.AWSKMS;\nimport com.amazonaws.services.kms.AWSKMSClientBuilder;\nimport com.amazonaws.services.kms.model.DecryptRequest;\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.util.Base64;\n\npublic class Hello {\n\n    // This variable will hold your decrypted key. Decryption happens on first\n    // invocation when the container is initialized and never again for\n    // subsequent invocations.\n    private static String DECRYPTED_KEY = decryptKey();\n\n    public String myHandler(int someInput, Context context) {\n        // Implement your business logic here\n        // Use DECRYPTED_KEY to refer to the plaintext key\n        return DECRYPTED_KEY;\n    }\n\n    private static String decryptKey() {\n        System.out.println("Decrypting key");\n        byte[] encryptedKey = Base64.decode(System.getenv("{{key}}"));\n\n        AWSKMS client = AWSKMSClientBuilder.defaultClient();\n\n        DecryptRequest request = new DecryptRequest()\n                .withCiphertextBlob(ByteBuffer.wrap(encryptedKey));\n\n        ByteBuffer plainTextKey = client.decrypt(request).getPlaintext();\n        return new String(plainTextKey.array(), Charset.forName("UTF-8"));\n    }\n\n    public static void main(String args[]){\n        Hello h = new Hello();\n        System.out.println(h.myHandler(1, null));\n    }\n}\n',playgroundCode:'package example;\n\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\n\npublic class Hello implements RequestHandler<Object, String> {\n    public String handleRequest(final Object input, final Context context) {\n        System.out.println(input);\n        return "Hello from Lambda!";\n    }\n}\n'},configuration:{handler:"example.Hello::handleRequest",memory:512,timeout:15},documentation:{deploymentPackage:"lambda-java-how-to-create-deployment-package.html",programmingModel:"java-programming-model.html"},metadata:{editable:!1,editorMode:"java",fileExtension:".java"}},N=R({},I,{id:"java8",name:"Java 8"}),C=R({},I,{id:"java11",name:"Java 11",gates:{launch:"diwali"}});function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M={assets:{dataGatewaySample:"const dataGateway = require('@amzn/aws-data-gateway');\nconst pg = require('pg');\n\n\nconst CONNECTION_POOL_ARN = '{{connectionPoolArn}}';\nlet address;\n\n\nfunction processEvent(event, context, callback) {\n    const client = new pg.Client(`postgres://Username:Password@${address}/DBName`);\n    client.connect().then(() => {\n        // TODO handle the event here\n\n        client.end();\n    });\n}\n\nexports.handler = (event, context, callback) => {\n    if (address) {\n        processEvent(event, context, callback);\n    } else {\n        dataGateway.register(CONNECTION_POOL_ARN)\n            .then((res) => {\n                address = res;\n                processEvent(event, context, callback);\n            })\n            .catch((err) => {\n                console.error('Error occurred connecting to the pool', err);\n                callback(err);\n            });\n    }\n};\n",decryptSnippet:"const AWS = require('aws-sdk');\nAWS.config.update({ region: '{{region}}' });\n\nconst encrypted = process.env['{{key}}'];\nlet decrypted;\n\n\nfunction processEvent(event, context, callback) {\n    // TODO handle the event here\n}\n\nexports.handler = (event, context, callback) => {\n    if (decrypted) {\n        processEvent(event, context, callback);\n    } else {\n        // Decrypt code should run once and variables stored outside of the\n        // function handler so that these are decrypted once per container\n        const kms = new AWS.KMS();\n        kms.decrypt({ CiphertextBlob: new Buffer(encrypted, 'base64') }, (err, data) => {\n            if (err) {\n                console.log('Decrypt error:', err);\n                return callback(err);\n            }\n            decrypted = data.Plaintext.toString('ascii');\n            processEvent(event, context, callback);\n        });\n    }\n};\n",playgroundCode:"exports.handler = async (event) => {\n    console.log(event);\n    return 'Hello from Lambda!';\n};\n"},configuration:{handler:"index.handler"},documentation:{deploymentPackage:"nodejs-create-deployment-pkg.html",programmingModel:"programming-model.html"},metadata:{editable:!0,editorMode:"javascript",fileExtension:".js"}},L=P({},M,{id:"nodejs6.10",name:"Node.js 6.10",features:{lambdaAtEdge:!0},gates:{createDeprecation:"nonglucose1",updateDeprecation:"nonglucose2"}}),F=P({},M,{id:"nodejs8.10",name:"Node.js 8.10",features:{lambdaAtEdge:!0},gates:{createDeprecation:"necropolis1",updateDeprecation:"necropolis2"}}),q=P({},M,{id:"nodejs10.x",name:"Node.js 10.x",features:{lambdaAtEdge:!0,startRight:!0},gates:{launch:"nebulosity"}}),V=P({},M,{id:"nodejs12.x",name:"Node.js 12.x",features:{},gates:{launch:"momo"}});function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z={assets:{decryptSnippet:"import boto3\nimport os\n\nfrom base64 import b64decode\n\nENCRYPTED = os.environ['{{key}}']\n# Decrypt code should run once and variables stored outside of the function\n# handler so that these are decrypted once per container\nDECRYPTED = boto3.client('kms').decrypt(CiphertextBlob=b64decode(ENCRYPTED))['Plaintext']\n\ndef lambda_handler(event, context):\n    # TODO handle the event here\n    pass\n",playgroundCode:"def lambda_handler(event, context):\n    print(event)\n    return 'Hello from Lambda!'\n"},configuration:{handler:"lambda_function.lambda_handler"},documentation:{deploymentPackage:"lambda-python-how-to-create-deployment-package.html",programmingModel:"python-programming-model.html"},metadata:{editable:!0,editorMode:"python",fileExtension:".py"}},H=G({},z,{id:"python2.7",name:"Python 2.7",gates:{createDeprecation:"pianissimo1",updateDeprecation:"pianissimo2"}}),W=G({},z,{id:"python3.6",name:"Python 3.6"}),K=G({},z,{id:"python3.7",name:"Python 3.7",features:{lambdaAtEdge:!0}}),Y=G({},z,{id:"python3.8",name:"Python 3.8",gates:{launch:"shiro"}});function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(n,!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{assets:{decryptSnippet:"require 'aws-sdk-kms'\nrequire 'base64'\n\nENCRYPTED = ENV['{{key}}']\n# Decrypt code should run once and variables stored outside of the function\n# handler so that these are decrypted once per container\nDECRYPTED = Aws::KMS::Client.new\n    .decrypt({ ciphertext_blob: Base64.decode64(ENCRYPTED) })\n    .plaintext\n\ndef lambda_handler(event:, context:)\n    # TODO handle the event here\nend\n",playgroundCode:"def lambda_handler(event:, context:)\n    puts event\n    'Hello from Lambda!'\nend\n"},configuration:{handler:"lambda_function.lambda_handler"},documentation:{deploymentPackage:"ruby-package.html",programmingModel:"lambda-ruby.html"},metadata:{editable:!0,editorMode:"ruby",fileExtension:".rb"}},{id:"ruby2.5",name:"Ruby 2.5",gates:{launch:"roundabout"}}),$=n(7),Z=n(9);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"g",(function(){return ae})),n.d(t,"h",(function(){return ie})),n.d(t,"d",(function(){return de})),n.d(t,"a",(function(){return pe})),n.d(t,"e",(function(){return fe})),n.d(t,"l",(function(){return me})),n.d(t,"t",(function(){return be})),n.d(t,"r",(function(){return ge})),n.d(t,"o",(function(){return ye})),n.d(t,"p",(function(){return ve})),n.d(t,"q",(function(){return he})),n.d(t,"s",(function(){return Ee})),n.d(t,"u",(function(){return Oe})),n.d(t,"z",(function(){return Se})),n.d(t,"v",(function(){return je})),n.d(t,"w",(function(){return Te})),n.d(t,"y",(function(){return xe})),n.d(t,"x",(function(){return _e})),n.d(t,"j",(function(){return we})),n.d(t,"b",(function(){return Re})),n.d(t,"f",(function(){return Ie})),n.d(t,"c",(function(){return Ne})),n.d(t,"i",(function(){return Ce})),n.d(t,"k",(function(){return ke})),n.d(t,"n",(function(){return Pe})),n.d(t,"m",(function(){return De}));var re,ae=function(e){return e.split(/\d/)[0]},ie=function(e){var t;return null===(t=e.match(/\d.*$/))||void 0===t?void 0:t[0]},oe={memory:128,timeout:3,tracer:!1,vpcId:"_novpc"},ce=[r,a,i,o,c,s,u].reduce((function(e,t){return e.concat(Object.values(t))}),[]).map((function(e){return te({},e,{configuration:te({},oe,{},e.configuration,{codeSource:e.metadata.editable?"inline":"upload"})})})).sort((function(e,t){return e.name.localeCompare(t.name)})),se=ce.reduce((function(e,t){return te({},e,ne({},t.id,t))}),{}),ue=ce.filter((function(e){var t=e.gates||{},n=t.launch,r=t.updateDeprecation;return!(n&&!Z.f.includes(n))&&(!r||!Z.f.includes(r))})),le=ue.reduce((function(e,t){return te({},e,ne({},t.id,t))}),{}),de=Object.values(ue.filter((function(e){return!e.metadata.custom})).map((function(e){return e.id})).reduce((function(e,t){var n=ae(t);return te({},e,ne({},n,parseFloat(ie(t))>parseFloat(ie(e[n]||"0"))?t:e[n]))}),{})),pe=de.find((function(e){return e.startsWith("nodejs")})),fe=Object.keys(se),me=function(e){return"tooltip.handler.".concat(e)},be=function(e){return"config.code.type.upload.".concat(e)},ge=function(e){var t;return null===(t=se[e])||void 0===t?void 0:t.name},ye=function(e,t){var n,r;return null===(n=se[e])||void 0===n?void 0:null===(r=n.assets)||void 0===r?void 0:r[t]},ve=function(e){var t;return null===(t=se[e])||void 0===t?void 0:t.configuration},he=function(e,t){var n;return null===(n=ve(e))||void 0===n?void 0:n[t]},Ee=function(e){return"".concat(Object($.z)(),"/hello-world-packages/").concat(e,".zip")},Oe=function(e){var t,n=((null===(t=se[e])||void 0===t?void 0:t.gates)||{}).createDeprecation;return!!n&&Z.f.includes(n)},Se=function(e){var t,n=((null===(t=se[e])||void 0===t?void 0:t.gates)||{}).updateDeprecation;return!!n&&Z.f.includes(n)},je=function(e){var t;return!!(null===(t=se[e])||void 0===t?void 0:t.metadata.custom)},Te=function(e){return!se[e]||!!se[e].metadata.editable},xe=function(e){return e<Z.g},_e=function(e,t){return Te(e)&&xe(t)},we=function(e){var t;return(null===(t=se[e])||void 0===t?void 0:t.metadata.editorMode)||"javascript"},Re=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(re=Object(l.Set)(ce.map((function(e){var t=e.id;return we(t)}))).toArray())||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(re)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),["json","rust","yaml"]),Ae=function(e){return ue.filter((function(t){var n=t.features;return!!(null==n?void 0:n[e])}))},Ie=Ae("startRight").map((function(e){var t=e.id;return{text:e.name,value:t}})),Ne=Ae("lambdaAtEdge").map((function(e){return e.id})),Ce=function(e,t){var n,r;return(null===(n=se[t])||void 0===n?void 0:null===(r=n.documentation)||void 0===r?void 0:r[e])||"lambda-runtimes.html"},ke=function(e,t){if(!le[t]||je(t))return null;var n=ae(t),r=e.split(".");return(1===r.length?e:"ruby"===n?r[0]:r.slice(0,r.length-1).join("/"))+function(e){var t;return(null===(t=se[e])||void 0===t?void 0:t.metadata.fileExtension)||""}(t)},Pe=function(){return ue.filter((function(e){var t=e.id;return!je(t)})).map((function(e){return{id:e.id,label:e.name}}))};function De(e,t){var n,r,a,i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=o?"id":"value",s=o?"label":"text",u=o?"options":"children",l=Pe().map((function(e){var t=e.id;return{text:e.label,value:t}}));("create"===t&&(l=l.filter((function(e){var t=e.value;return!Oe(t)}))),l=[(n={},ne(n,s,e.formatMessage({id:"config.code.runtime.latest"})),ne(n,u,l.filter((function(e){var t=e.value;return de.includes(t)})).map((function(e){var t,n=e.value,r=e.text;return ne(t={},c,n),ne(t,s,r),t}))),n),(r={},ne(r,s,e.formatMessage({id:"config.code.runtime.other"})),ne(r,u,l.filter((function(e){var t=e.value;return!de.includes(t)})).map((function(e){var t,n=e.value,r=e.text;return ne(t={},c,n),ne(t,s,r),t}))),r)],Z.f.includes("baboon"))&&("create"===t?l.push((ne(a={},s,e.formatMessage({id:"config.code.runtime.custom"})),ne(a,u,["defaultBootstrap","customBootstrap"].map((function(t){var n;return ne(n={},s,e.formatMessage({id:"config.code.runtime.".concat(t)})),ne(n,c,t),n}))),a)):l.push((ne(i={},s,e.formatMessage({id:"config.code.runtime.custom"})),ne(i,c,"provided"),i)));return l}},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return q})),n.d(t,"e",(function(){return Y})),n.d(t,"a",(function(){return J})),n.d(t,"c",(function(){return Q})),n.d(t,"b",(function(){return X})),n.d(t,"f",(function(){return $}));var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(6),s=n(18),u=n.n(s),l=n(3),d=n(13),p=n(23),f=n(65),m=n(7),b=n(5),g=n(73),y=n(33);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function j(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var P=a.a.createContext(),D=function(e){var t;return(null==e?void 0:null===(t=e.get("values"))||void 0===t?void 0:t.toJS())||{}},M=function(e){return null==e?void 0:e.split(/(?=[A-Z])/).map((function(e){return e.toLowerCase().substring(0,2)})).join("").substring(0,6)},L=function(e,t){var n=t.fieldId,r=t.event,a=t.detail,i=t.successful,o=[M(e),M(n),r,a].filter((function(e){return void 0!==e})).join("_");Object(b.logEvent)(o,i)};function F(e){var t=e.children,n=e.id,r=e.actionsProvider,i=(e.onSubmit,e.schema),o=e.form,s=e.onChange,u=e.refreshItems,l=e.submit,d=k(e,["children","id","actionsProvider","onSubmit","schema","form","onChange","refreshItems","submit"]),p={formId:n,onChange:s,refreshItems:u,schema:i,form:o},f=r?r(l):d.actions;return a.a.createElement(P.Provider,{value:p},a.a.createElement(c.Form,C({id:"".concat(n,"-form"),actions:f},d),t))}F.propTypes={children:o.a.node.isRequired,id:o.a.string.isRequired,actionsProvider:o.a.func,customValidators:o.a.objectOf(o.a.func),onSubmit:o.a.func,schema:o.a.object,form:u.a.map,onChange:o.a.func.isRequired,refreshItems:o.a.func.isRequired,submit:o.a.func.isRequired};var q=Object(d.connect)((function(e,t){return{form:Object(p.d)(e,t.id)}}),(function(e,t){return{refreshItems:function(n,r){return e(Object(p.g)(t.id,n,r))},resetValidation:function(){return e(Object(p.j)(t.id))},setFieldValue:function(n,r){return e(Object(p.l)(t.id,n,r))},setFieldValidation:function(n,r){return e(Object(p.k)(t.id,n,r))}}}),(function(e,t,n){return I({},n,{},e,{},t,{onChange:function(r,a,i){var o;t.setFieldValue(r,a);var c,s=!0;if(n.schema){var u=new y.d(n.schema),l=I({},D(e.form),N({},r,a)),d=u.validateField(l,r);s=d.valid,c=d.errors}var p=null===(o=n.customValidators)||void 0===o?void 0:o[r];p&&s&&(s=!(c=p(a))),t.setFieldValidation(r,s?null:c),s&&i&&i(a)},submit:function(){var r;L(n.id,{detail:"submit"});var a=D(e.form);if(t.resetValidation(),n.schema){var i=new y.d(n.schema).validateForm(a),o=i.valid,c=i.errors;if(!o)return L(n.id,{detail:"submit",successful:!1}),void Object.entries(c).forEach((function(e){var n=R(e,2),r=n[0],a=n[1];t.setFieldValidation(r,a)}))}if(n.customValidators){var s=!0;if(Object.entries(n.customValidators).forEach((function(e){var n=R(e,2),r=n[0],i=(0,n[1])(a[r]);i&&t.setFieldValidation(r,i),s=s&&!i})),!s)return void L(n.id,{detail:"submit",successful:!1})}null===(r=n.onSubmit)||void 0===r||r.call(n,a),L(n.id,{detail:"submit",successful:!0})}})}))(F),V={fallback:!0},U={regions:["description","errorText","hintText","label"]},G={AttributeEditor:{onChangeProp:"onChange",valueProp:"items",forwardErrors:!0},Autosuggest:{onChangeProp:"onInput",valueProp:"value",regions:["empty"],strings:["placeholder"],paginatable:!0,itemsProp:"options",loadingProp:"statusType",loadingValue:"loading"},Checkbox:{onChangeProp:"onChange",valueProp:"checked",regions:["label","description"]},Duration:{onChangeProp:"onChange",valueProp:"value"},FileUpload:{onChangeProp:"onChange",valueProp:"value"},Input:{onChangeProp:"onInput",valueProp:"value",metrics:["focus"],strings:["placeholder"]},Multiselect:{onChangeProp:"onChange",valueProp:"selectedIds",regions:["empty","noMatch"],strings:["filteringPlaceholder","loadingText","placeholder"],paginatable:!0,itemsProp:"options",loadingProp:"loading",loadingValue:!0},RadioGroup:{onChangeProp:"onChange",valueProp:"value",hideErrors:!0,metrics:["change"]},RangeSlider:{onChangeProp:"onChange",valueProp:"value"},Select:{onChangeProp:"onChange",valueProp:"selectedId",regions:["empty","noMatch"],strings:["filteringPlaceholder","loadingText","placeholder"],paginatable:!0,itemsProp:"options",loadingProp:"loading",loadingValue:!0},TagEditor:{onChangeProp:"onChange",valueProp:"tags"},Textarea:{onChangeProp:"onInput",valueProp:"value",metrics:["focus"],strings:["placeholder"]}},B=function(e){var t=a.a.Children.toArray(e);if(1!==t.length)return V;var n=t[0].type.displayName;return G[n]?I({},G[n],{type:n}):V},z=function(e,t){var n,r;return(null===(n=e.regions)||void 0===n?void 0:n.includes(t))?"region":(null===(r=e.strings)||void 0===r?void 0:r.includes(t))?"string":null},H={region:function(e,t){return a.a.createElement(l.FormattedHTMLMessage,{id:t})},string:function(e,t){return e.formatMessage({id:t})}},W=function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];return i.map((function(e){return{prop:e,id:[t,n,r,e].join("."),type:z(a,e)}})).filter((function(e){return!!e.type})).reduce((function(t,n){var r=n.prop,a=n.id,i=n.type;return I({},t,N({},r,H[i](e,a)))}),{})},K=function(e){function t(){return E(this,t),j(this,x(t).apply(this,arguments))}return _(t,e),S(t,[{key:"componentDidMount",value:function(){var e,t,n=this.props,r=n.field,a=n.formContext,i=n.id,o=n.paginator;r.paginatable&&o&&((null===(e=a.form)||void 0===e?void 0:null===(t=e.get("items"))||void 0===t?void 0:t.has(i))||a.refreshItems(i,o))}},{key:"getError",value:function(){var e,t=this.props,n=t.id,r=t.field,a=t.formContext.form;return r.hideErrors||r.forwardErrors?null:(null==a?void 0:a.getIn(["errors",n]))||(null==a?void 0:null===(e=a.getIn(["validation",n]))||void 0===e?void 0:e[0].message)}},{key:"getFieldElement",value:function(){var e,t,n=this.props,r=n.children,i=n.id,o=n.childTextProps,c=n.onChange,s=n.rawOnChange,u=n.paginator,l=n.field,d=n.formContext,p=d.formId,f=d.form,m=d.onChange;if(l.fallback)return r;var b=W(this.context.intl,p,i,"child",l,o),g=(N(e={},l.onChangeProp,(function(e){var t;null==s||s(e);var n=e.detail[l.valueProp];m(i,n,c),(null===(t=l.metrics)||void 0===t?void 0:t.includes("change"))&&L(p,{fieldId:i,event:"c",detail:n})})),N(e,l.valueProp,D(f)[i]),e);if(l.forwardErrors&&(g.errors=null==f?void 0:f.getIn(["validation",i])),l.paginatable&&u){var y=null==f?void 0:f.getIn(["items",i]);g[l.itemsProp]=(y||[]).map((function(e){return e.mapped})),void 0===y&&(g[l.loadingProp]=l.loadingValue),g.empty=this.context.intl.formatMessage({id:"empty"}),g.noMatch=this.context.intl.formatMessage({id:"noMatch"})}return(null===(t=l.metrics)||void 0===t?void 0:t.includes("focus"))&&(g.onFocus=function(){return L(p,{fieldId:i,event:"f"})},g.onBlur=function(){return L(p,{fieldId:i,event:"b"})}),a.a.cloneElement(r,I({},g,{},b,{},r.props))}},{key:"constructLabel",value:function(e){var t=this.props,n=t.infoText,r=t.formContext,i=t.optional,o=this.props.label||e;return o&&r.schema&&i&&(o=a.a.createElement("span",null,o," - ",a.a.createElement(l.FormattedMessage,{tagName:"i",id:"optional"}))),n&&(o=a.a.createElement("span",null,o,a.a.createElement(f.a,{message:n}))),o}},{key:"render",value:function(){var e=this.context.intl,t=this.props,n=(t.children,t.id),r=(t.childTextProps,t.fieldTextProps),i=(t.onChange,t.paginator),o=t.field,s=t.formContext,u=k(t,["children","id","childTextProps","fieldTextProps","onChange","paginator","field","formContext"]),l=null;if(o.paginatable&&i){var d,p=void 0===(null===(d=s.form)||void 0===d?void 0:d.getIn(["items",n]));l=a.a.createElement(c.Button,{icon:"refresh",loading:p,onClick:function(){return s.refreshItems(n,i)}})}var f=W(e,s.formId,n,"field",U,r);return a.a.createElement(c.FormField,C({id:"".concat(s.formId,"-").concat(n,"-field"),errorText:this.getError(),secondaryControl:l},f,u,{label:this.constructLabel(f.label)}),this.getFieldElement())}}]),t}(a.a.Component);function Y(e){var t=B(e.children);return a.a.createElement(P.Consumer,null,(function(n){return a.a.createElement(K,C({},e,{field:t,formContext:n}))}))}N(K,"propTypes",{children:o.a.node.isRequired,id:o.a.string,label:o.a.node,childTextProps:o.a.arrayOf(o.a.string),fieldTextProps:o.a.arrayOf(o.a.string),infoText:o.a.node,onChange:o.a.func,rawOnChange:o.a.func,optional:o.a.bool,paginator:o.a.instanceOf(g.a),field:o.a.object.isRequired,formContext:o.a.object.isRequired}),N(K,"contextTypes",{intl:l.intlShape.isRequired}),Y.propTypes={children:o.a.node.isRequired,id:o.a.string,childTextProps:o.a.arrayOf(o.a.string),fieldTextProps:o.a.arrayOf(o.a.string),infoText:o.a.node,onChange:o.a.func,rawOnChange:o.a.func,optional:o.a.bool,paginator:o.a.instanceOf(g.a)};var J=function(e){function t(){return E(this,t),j(this,x(t).apply(this,arguments))}return _(t,e),S(t,[{key:"handleAddButtonClick",value:function(){var e,t,n=[].concat(h(this.props.items),[{}]);null===(e=(t=this.props).onChange)||void 0===e||e.call(t,{detail:{items:n}})}},{key:"handleRemoveButtonClick",value:function(e){var t,n,r=this.props.items.slice();r.splice(e.detail.itemIndex,1),null===(t=(n=this.props).onChange)||void 0===t||t.call(n,{detail:{items:r}})}},{key:"handleCellChange",value:function(e,t,n,r){var a,i,o=this.props.items.slice(),c=I({},n,N({},e,t));o.splice(r,1,c),null===(a=(i=this.props).onChange)||void 0===a||a.call(i,{detail:{items:o}})}},{key:"render",value:function(){var e=this.props,t=e.definitionProvider,n=e.errors,r=(e.onChange,k(e,["definitionProvider","errors","onChange"])),i=(null==n?void 0:n.reduce((function(e,t){var n=t.dataPath,r=t.message;return I({},e,N({},n.split("/").slice(2).join("/"),r))}),{}))||{};return a.a.createElement(c.AttributeEditor,C({definition:t(this.handleCellChange.bind(this),i),onAddButtonClick:this.handleAddButtonClick.bind(this),onRemoveButtonClick:this.handleRemoveButtonClick.bind(this)},r))}}]),t}(a.a.Component);N(J,"displayName","AttributeEditor"),N(J,"propTypes",{definitionProvider:o.a.func.isRequired,errors:o.a.array,items:o.a.array,onChange:o.a.func});var Q=function(e){function t(){return E(this,t),j(this,x(t).apply(this,arguments))}return _(t,e),S(t,[{key:"handleChange",value:function(e){var t,n;e.preventDefault(),null===(t=(n=this.props).onChange)||void 0===t||t.call(n,{detail:{value:this.fileInput.files[0]}})}},{key:"render",value:function(){var e=this,t=this.props.value;return a.a.createElement("div",null,a.a.createElement(c.Button,{className:"fileUpload",icon:"upload",onClick:function(){return e.fileInput.click()}},a.a.createElement(l.FormattedMessage,{id:"config.code.upload.label"}),a.a.createElement("input",{type:"file",ref:function(t){return e.fileInput=t},onChange:this.handleChange.bind(this)})),t&&a.a.createElement("span",{className:"awsui-util-ml-s"},t.name," (",Object(m.m)(t.size),")"))}}]),t}(a.a.Component);N(Q,"displayName","FileUpload"),N(Q,"propTypes",{onChange:o.a.func,value:o.a.instanceOf(e.File)});var X=function(e){function t(){var e,n;E(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return N(T(n=j(this,(e=x(t)).call.apply(e,[this].concat(a)))),"handleChange",(function(e,t){var r,a,i=n.props,o=i.min,c=i.max,s=Number(n.props.value),u=Math.floor(s/3600),l=Math.floor(s/60)%60,d=s%60,p=parseInt(e.target.value,10);if(!isNaN(p)){var f={hour:3600*p+60*l+d,min:3600*u+60*p+d,sec:3600*u+60*l+p}[t];null===(r=(a=n.props).onChange)||void 0===r||r.call(a,{detail:{value:Object(m.n)(f,o,c)}})}})),n}return _(t,e),S(t,[{key:"render",value:function(){var e=this,t=this.props.max,n=Number(this.props.value),r=Math.floor(n/3600),i=Math.floor(n/60)%60,o=n%60,c=void 0!==t?Math.floor(t/3600):void 0;return a.a.createElement("span",null,t<3600?null:a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{style:{marginRight:5,width:72},type:"number",min:0,max:c,value:r,onChange:function(t){return e.handleChange(t,"hour")}}),a.a.createElement(l.FormattedMessage,{id:"config.timeout.hour.label"})),a.a.createElement("input",{style:{marginLeft:t<3600?0:10,marginRight:5,width:72},type:"number",min:0,max:59,value:i,onChange:function(t){return e.handleChange(t,"min")}}),a.a.createElement(l.FormattedMessage,{id:"config.timeout.min.label"}),a.a.createElement("input",{style:{marginLeft:10,marginRight:5,width:72},type:"number",min:0,max:59,value:o,onChange:function(t){return e.handleChange(t,"sec")}}),a.a.createElement(l.FormattedMessage,{id:"config.timeout.sec.label"}))}}]),t}(a.a.Component);N(X,"displayName","Duration"),N(X,"propTypes",{value:o.a.number,onChange:o.a.func,min:o.a.number,max:o.a.number});var $=function(e){function t(){var e,n;E(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return N(T(n=j(this,(e=x(t)).call.apply(e,[this].concat(a)))),"handleChange",(function(e){var t,r,a=parseInt(e.target.value,10);null===(t=(r=n.props).onChange)||void 0===t||t.call(r,{detail:{value:a}})})),n}return _(t,e),S(t,[{key:"render",value:function(){var e=this.props,t=e.min,n=e.max,r=e.step,i=e.value,o=e.formLabel;return a.a.createElement("div",{className:"range-slider"},a.a.createElement("input",{type:"range",min:t,max:n,step:r,value:i,onMouseUp:this.handleChange,onChange:this.handleChange,className:"rangeSlider"}),a.a.createElement("span",{className:"awsui-util-ml-m"},i," ",o))}}]),t}(a.a.Component);N($,"displayName","RangeSlider"),N($,"propTypes",{onChange:o.a.func,value:o.a.number,min:o.a.number,max:o.a.number,step:o.a.number,formLabel:o.a.string})}).call(this,n(37))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(e){return e.router.result};function a(e){return e.router}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p}));var r=n(0),a=n.n(r),i=n(6),o=n(56),c=n.n(o),s=n(1),u=n.n(s);function l(){return a.a.createElement(i.Spinner,{size:"large"})}function d(e){var t=e.cond,n=e.children,r=e.className,i=e.overlay,o=e.height;if(i){var s=null;return t&&(s=a.a.createElement("div",{className:"overlay"},a.a.createElement(l,null))),a.a.createElement("div",{className:c()("overlay-container",r,{loading:t})},a.a.createElement("div",{className:"overlay-content"},n),s)}return t?a.a.createElement("div",{style:{position:"relative",height:o}},a.a.createElement(l,null)):a.a.createElement("div",null,n)}d.propTypes={cond:u.a.bool,children:u.a.node.isRequired,className:u.a.string,overlay:u.a.bool,height:u.a.number};var p=function(e){var t=Object(r.lazy)(e);return function(){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(l,null)},a.a.createElement(t,null))}}},,function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return T})),n.d(t,"e",(function(){return _})),n.d(t,"g",(function(){return w})),n.d(t,"f",(function(){return M})),n.d(t,"i",(function(){return L})),n.d(t,"h",(function(){return F})),n.d(t,"d",(function(){return B}));var r=n(310),a=n.n(r),i=n(311),o=n.n(i),c=n(4),s=n(316),u=n(7),l=n(27),d=n(9),p=n(88);function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var O=e.validationMessages,S={string:{required:!0,allowEmpty:!1,type:"string",pattern:/.*/,maxLength:Number.MAX_SAFE_INTEGER,minLength:0,messages:{required:O.required,allowEmpty:O.required,type:O.type,pattern:O.pattern,maxLength:O.maxLength,minLength:O.minLength,enum:O.enum}},integer:{required:!0,type:"integer",minimum:Number.MIN_SAFE_INTEGER,maximum:Number.MAX_SAFE_INTEGER,divisibleBy:1,messages:{required:O.required,type:O.type,minimum:O.minimum,maximum:O.maximum,divisibleBy:O.divisibleBy}},array:{required:!0,allowEmpty:!0,type:"array",minItems:0,maxItems:Number.MAX_SAFE_INTEGER,uniqueItems:!0,messages:{required:O.required,allowEmpty:O.required,type:O.type,minItems:O.minItems,maxItems:O.maxItems,uniqueItems:O.uniqueItems,enum:O.enum}},boolean:{required:!0,type:"boolean",messages:{required:O.required,type:O.type}},object:{required:!0,type:"object",messages:{required:O.required,type:O.type,enum:O.enum}}},j=function(){function e(t){var n=this;v(this,e),Object(u.h)("type"in t,"All schemas must specify a type."),Object(u.h)(Object.keys(S).includes(t.type),"Schema types must be one of ".concat(Object.keys(S),".")),Object.assign(this,g({},S[t.type],{},t,{messages:g({},S[t.type].messages,{},t.messages||{})})),Object.keys(this).forEach((function(e){["messages","properties","items"].includes(e)||Object(u.h)(e in n.messages,"Schema rule ".concat(e," has no associated message"))})),"object"===this.type?(Object(u.h)("properties"in this,"Object schemas must specify property schemas."),Object(u.h)(Object.keys(this.properties).length,"Object schemas must specify more than 0 property schemas."),Object.entries(this.properties).forEach((function(t){var r=m(t,2),a=r[0],i=r[1];n.properties[a]=new e(i)}))):"array"===this.type&&(Object(u.h)("items"in this,'Array schemas must specify an "items" schema.'),this.items=new e(this.items)),this.required||(this.type=[this.type,"null"])}return E(e,[{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{additionalProperties:!1},n=this._validate(e,t),r=n[0];return r?r.message:null}},{key:"deeplyValidate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{additionalProperties:!1},n=this._validate(e,t),r=n.reduce((function(e,t){var n=t.property.split(".");return n.shift(),e.mergeIn(n,{message:t.message})}),Object(c.Map)());return r.size>0?r:null}},{key:"_validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{additionalProperties:!1},n=(null==e?void 0:e.toJS)?e.toJS():e,r={value:n},a={type:"object",properties:{value:this}};return Object(s.validate)(r,a,t).errors}}]),e}(),T={MAX_UPLOAD_SIZE:52428800,VALID_FILE_EXTENSIONS:["zip","jar","war"]},x={upload:{type:"object",properties:{size:{type:"integer",maximum:T.MAX_UPLOAD_SIZE,messages:{maximum:O["upload.conform"].replace("{maxSize}",Object(u.m)(T.MAX_UPLOAD_SIZE))}},name:{type:"string",pattern:new RegExp("\\.(".concat(T.VALID_FILE_EXTENSIONS.join("|"),")$"))}},messages:{required:O["upload.required"]}}},_={eventName:new j({type:"string",maxLength:25,pattern:/^[a-zA-Z0-9]*$/,messages:{pattern:O["eventName.pattern"]}}),name:new j({type:"string",maxLength:64,pattern:/^[\w-]*$/,messages:{pattern:O["name.pattern"]}}),description:new j({type:"string",allowEmpty:!0,maxLength:256}),runtime:new j({type:"string",enum:l.e,messages:{enum:O.enum,required:O.required}}),handler:new j({type:"string",maxLength:128,pattern:/^\S*$/,messages:{pattern:O["handler.pattern"]}}),existingRole:new j({type:"string",pattern:new RegExp("^arn:".concat(Object(u.t)(),":iam::\\d{12}:role\\/?[a-zA-Z_0-9+=,.@\\-/]+$")),maxLength:607,messages:{pattern:O["role.pattern"]}}),roleName:new j({type:"string",maxLength:51,pattern:/^[a-zA-Z0-9+=,.@_-]+$/}),memory:new j({type:"integer",minimum:d.k,maximum:d.h}),timeout:new j({type:"integer",minimum:d.l,maximum:d.i}),vpcId:new j({type:"string"}),subnetIds:new j({type:"array",minItems:1,maxItems:16,items:{type:"string"},messages:{minItems:O["vpc.subnetsMin"],maxItems:O["vpc.subnetsMax"]}}),securityGroupIds:new j({type:"array",minItems:1,maxItems:16,items:{type:"string"},messages:{minItems:O["vpc.securityGroupsMin"],maxItems:O["vpc.securityGroupsMax"]}}),upload:{create:new j(g({},x.upload,{required:!0}))},s3:new j({type:"string",required:!1,maxLength:2e3,minLength:10,pattern:new RegExp(u.g),messages:{pattern:O["s3.pattern"]}}),envVars:new j({type:"array",required:!1,items:{type:"object",properties:{key:{type:"string",allowEmpty:!1,pattern:/^[a-zA-Z][a-zA-Z0-9_]*$/,messages:{allowEmpty:O["keyValueList.key.allowEmpty"],pattern:O["envVars.key.pattern"]}},value:{type:"string",allowEmpty:!0,conform:function(e){return!e.startsWith("<enter value here>")},messages:{conform:O["envVars.value.blueprintsPlaceholderNotChanged"]}},isEncrypted:{type:"boolean"},isEncryptingOrDecrypting:{type:"boolean"}}},conform:function(e){return Object(u.M)(e,(function(e){return e.key}))},messages:{conform:O["keyValueList.uniqueKeys"]}}),kmsKeyArn:new j({type:"string",required:!1,pattern:new RegExp("^$|(arn:".concat(Object(u.t)(),":kms:.*:\\d{12}:key\\/[a-z0-9-]+)$")),messages:{pattern:O["kmsKeyArn.pattern"]}}),tags:new j({type:"array",required:!1,maxItems:50,items:{type:"object",properties:{key:{type:"string",allowEmpty:!1,maxLength:128,pattern:/^(?!(aws|lambda):).*$/,messages:{allowEmpty:O["keyValueList.key.allowEmpty"],pattern:O["tags.key.pattern"]}},value:{type:"string",maxLength:256,allowEmpty:!0},isEncrypted:{type:"boolean"},isEncryptingOrDecrypting:{type:"boolean"}}},conform:function(e){return Object(u.M)(e,(function(e){return e.key}))},messages:{conform:O["keyValueList.uniqueKeys"]}})};function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _[e]instanceof j?_[e]:_[e][t]}var R=p.a.MIN_LENGTH_APP_NAME,A=p.a.MAX_LENGTH_APP_NAME,I=p.a.MAX_LENGTH_APP_DESCRIPTION,N=p.a.MAX_LENGTH_REPO_NAME,C=p.a.PATTERN_NAME,k=p.a.REPO_TYPE_CODECOMMIT,P=p.a.REPO_TYPE_GITHUB,D={name:new j({type:"string",minLength:R,maxLength:A,pattern:C}),description:new j({type:"string",allowEmpty:!0,maxLength:I}),permissions:new j({type:"boolean",conform:function(e){return!0===e},messages:{conform:O.required}}),permissionsAcknowledgement:new j({type:"boolean",conform:function(e){return!0===e},messages:{conform:O.required}}),runtime:new j({type:"string",enum:l.e,messages:{enum:O.enum,required:O.required}}),repositoryNameCodeCommit:new j({type:"string",maxLength:N,pattern:/^[\w-]*$/}),repositoryNameGitHub:new j({type:"string",maxLength:N,pattern:/(?!^(?:\.|\.\.)$)^[A-Za-z0-9_.-]+$/,messages:{pattern:O["github.repoName.pattern"]}}),accessTokenGitHub:new j({type:"string",messages:["allowEmpty","required","type"].reduce((function(e,t){return g({},e,y({},t,O["github.auth"]))}),{})})};function M(e){return D[e]}function L(e){var t=["name","kmsKeyArn","envVars"];return"existing"===e.get("roleSelectionType")?t.push("existingRole"):"template"===e.get("roleSelectionType")&&t.push("roleName"),t.reduce((function(t,n){var r=w(n,"create"),a=e.get(n),i=r.deeplyValidate(a);return i&&!i.isEmpty()?t.set(n,r.deeplyValidate(a)):t}),Object(c.Map)())}function F(e){var t=["name","description","runtime"];return e.has("permissions")&&t.push("permissions"),e.has("permissionsAcknowledgement")&&t.push("permissionsAcknowledgement"),e.get("repositorySelectionType")===k?t.push("repositoryNameCodeCommit"):e.get("repositorySelectionType")===P&&t.push("repositoryNameGitHub","accessTokenGitHub"),t.reduce((function(t,n){var r=M(n),a=e.get(n),i=r.deeplyValidate(a);return i&&!i.isEmpty()?t.set(n,r.deeplyValidate(a)):t}),Object(c.Map)())}var q=o()(new a.a({allErrors:!0,jsonPointers:!0,messages:!1}));q.addKeyword("allItemsHaveUniqueProperty",{type:"array",compile:function(e){return function(t){return Object(u.M)(t,(function(t){return t[e]}))}},errors:!1,metaSchema:{type:"string"}}),q.addKeyword("nonEmpty",{type:"string",validate:function e(t,n){var r=!t||!!n;return r||(e.errors=[{keyword:"nonEmpty",message:O.required,params:{keyword:"nonEmpty"}}]),r},errors:!0,metaSchema:{type:"boolean"}}),q.addKeyword("uniqueItemsProperty",{type:"string",validate:function(e,t,n,r,a,i,o){return o[r.split("/")[1]].map((function(e){return e[i]})).filter((function(e){return e===t})).length<=1},errors:!1,metaSchema:{type:"boolean"}});var V=function(e){return"errorMessage"!==e.keyword?e:g({},e,{},e.params.errors[0])},U=function(e){var t=e.dataPath||"";return"required"===e.keyword&&(t+="/".concat(e.params.missingProperty)),g({},e,{dataPath:t})},G=function(e){return g({},e,{message:(e.message||O[e.keyword]||"").replace("%{expected}",e.params.limit||e.params.type)})},B=function(){function e(t){v(this,e),this._validate=q.compile(t)}return E(e,[{key:"validate",value:function(e){return{valid:this._validate(e),errors:(this._validate.errors||[]).map(V).map(U).map(G)}}},{key:"validateField",value:function(e,t){var n=this.validate(e).errors.filter((function(e){return e.dataPath.startsWith("/".concat(t))}));return{valid:!n.length,errors:n}}},{key:"validateForm",value:function(e){var t=this.validate(e);return{valid:t.valid,errors:t.errors.reduce((function(e,t){var n=t.dataPath.split("/")[1];return g({},e,y({},n,[].concat(f(e[n]||[]),[t])))}),{})}}}]),e}()}).call(this,n(37))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r={SAVED:"saved",FAILED:"failed",NO_CHANGE:"noChange",DELETED:"deleted",CREATED:"created"},a={CODE:"code",CONFIG:"config",TAGS:"tags",NODE:"node",CONCURRENCY:"concurrency",ALIAS:"alias"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var r=n(17);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o="viewApplication",c=["CHANGE_TAB","GET_APP_DEPLOYMENTS","GET_APP_DEPLOYMENTS_DONE","GET_APP_DEPLOYMENTS_ERROR","POLL_APP","POLL_APP_CANCEL","POLL_PROJECT","POLL_PROJECT_CANCEL","SET_APP_INFO","SET_APP_LOADING_STATUS","SET_MODAL","SET_PERMISSIONS_INFO","SET_PIPELINE_LOADING_STATUS","SET_PROJECT_INFO","UPDATE_APP_RESOURCE"].reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,i({},t,Object(r.b)(o,t)))}),{})},function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(6),s=n(4),u=n(18),l=n.n(u),d=n(3),p=n(13),f=n(14);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=["success","info","warning","error"],g="validation",y=function(e,t,n){var r;return r="string"==typeof t.message||o.a.isValidElement(t.message)?o.a.createElement("li",{key:n},t.message):o.a.createElement(d.FormattedHTMLMessage,m({key:n,tagName:"li"},t.message)),e.update(t.type,Object(s.List)(),(function(e){return e.push(r)}))};function v(e){var t=e.alerts,n=e.close,r=e.dismissible,a=void 0===r||r,i=(t||Object(s.OrderedMap)()).reduce(y,Object(s.OrderedMap)());return o.a.createElement("span",{className:"lambda-alerts"},i.has(g)?o.a.createElement(c.Alert,{key:g,type:"error",header:o.a.createElement(d.FormattedMessage,{id:"create.error.validation.func"}),dismissible:a,onDismiss:function(){return n(g)}},o.a.createElement("ul",{className:"alert-group"},i.get(g))):null,b.filter((function(e){return i.has(e)})).map((function(e){return o.a.createElement(c.Alert,{key:e,type:e,dismissible:a,onDismiss:function(){return n(e)}},o.a.createElement("ul",{className:"alert-group"},i.get(e)))})))}v.propTypes={dismissible:a.a.bool,scope:a.a.string,alerts:a.a.oneOfType([l.a.orderedMap,l.a.map]),close:a.a.func.isRequired},t.a=Object(p.connect)((function(e,t){return{alerts:e.alerts.getIn([t.scope||"__scope","messages"])}}),(function(e,t){return{close:function(n){return e(Object(f.a)(t.scope||"__scope",n))}}}))(v)},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return S}));var r=n(4),a=n(16),i=n(41),o=n(15);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=Object(r.fromJS)({nodes:[],flourish:{downloadMessages:{},exporting:!1},layer:{deletingLayerVersion:!1,layersList:[],awsLayersList:[],selectedLayerVersions:[]}});function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.c.SET_DOWNLOAD_MESSAGES:return e.setIn(["flourish","downloadMessages"],Object(r.fromJS)(t.messages));case o.c.SET_EXPORTING:return e.setIn(["flourish","exporting"],t.exporting);case o.c.SET_NODES:return e.set("nodes",Object(r.List)(t.nodes)).set("lambdaNode",t.lambdaNode).set("thirdPartyNodes",Object(r.List)(t.thirdPartyNodes));case o.g.LAYERS_SET_STATE:return e.setIn(["layer","layersList"],Object(r.List)(t.layers));case o.g.LAYER_VERSION_SET_STATE:return e.setIn(["layer","selectedLayerVersions"],Object(r.List)(t.versions));case o.g.AWS_VENDED_LAYERS_SET_STATE:return e.setIn(["layer","awsLayersList"],Object(r.List)(t.layers));case o.g.SET_DELETE_LAYER_VERSION_STATUS:return e.setIn(["layer","deletingLayerVersion"],t.inProgress);default:return e}}var d=function(e){return e.componentData},p=Object(a.createSelector)(d,(function(e){return e.getIn(["flourish","downloadMessages"])})),f=Object(a.createSelector)(d,(function(e){return e.getIn(["flourish","exporting"])})),m=Object(a.createSelector)(d,(function(e){return e.getIn(["layer","layersList"])})),b=Object(a.createSelector)(d,(function(e){return e.getIn(["layer","awsLayersList"])})),g=Object(a.createSelector)(d,(function(e){return e.getIn(["layer","selectedLayerVersions"])})),y=Object(a.createSelector)(d,(function(e){return e.getIn(["layer","deletingLayerVersion"])})),v=Object(a.createSelector)(d,(function(e){return e.get("nodes").map((function(e){return new i.a(e)})).reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,s({},t.id,t))}),{})})),h=Object(a.createSelector)(d,(function(e){return new i.a(e.get("lambdaNode"))})),E=Object(a.createSelector)(h,(function(e){return e.icon})),O=Object(a.createSelector)(d,(function(e){return e.get("thirdPartyNodes")})),S={getDownloadMessages:p,getExporting:f,getLayersList:m,getAwsLayersList:b,getLayerVersions:g,getLayerDeletingStatus:y,getNodes:v,getLambdaNode:h,getLambdaIcon:E,getThirdPartyNodes:O}},function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"i",(function(){return y})),n.d(t,"g",(function(){return v})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return O})),n.d(t,"h",(function(){return S})),n.d(t,"a",(function(){return j}));var r=n(7),a=n(5),i=function(e){return"".concat(e,"-").concat(Object(r.H)(),"-").concat(Object(r.K)())},o=function(e,t){try{return e.setItem("a","b"),e.removeItem("a"),e}catch(e){return t}},c=function(e){return{getItem:function(t){var n=e.getItem(i(t));try{return JSON.parse(n)}catch(e){return n}},setItem:function(t,n){try{return e.setItem(i(t),JSON.stringify(n)),!0}catch(e){if(Object(a.logEvent)(a.EVENT_NAMES.PERSIST_ERROR),"DOMException"===e.constructor.name)return Object(a.logEvent)(a.EVENT_NAMES.PERSIST_ERROR_QUOTA),!1;throw e}},removeItem:function(t){return e.removeItem(i(t))},clearItems:function(t){try{if(!t)return void e.clear();var n=null;if(n=t instanceof RegExp?t:new RegExp(t),e.length){for(var r=[],a=0;a<e.length;a++){var i=e.key(a);n.test(i)&&r.push(i)}r.forEach((function(t){return e.removeItem(t)}))}else Object.keys(e).forEach((function(t){n.test(t)&&e.removeItem(t)}))}catch(e){if(e)throw e}}}},s={},u={getItem:function(e){return s[e]},setItem:function(e,t){s[e]=t},removeItem:function(e){delete s[e]},clearItems:function(e){e||(s={});var t=null;t=e instanceof RegExp?e:new RegExp(e),Object.keys(s).forEach((function(e){t.test(e)&&delete s[e]}))}},l=o(e.sessionStorage,u),d=c(l),p=o(e.localStorage,l),f=c(p),m=c(p),b=u.setItem,g=u.getItem,y=u.removeItem,v=d.setItem,h=d.getItem,E=(d.removeItem,d.clearItems,f.setItem),O=f.getItem,S=f.removeItem,j=f.clearItems;m.setItem,m.getItem,m.removeItem,m.clearItems}).call(this,n(37))},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return C})),n.d(t,"i",(function(){return P})),n.d(t,"j",(function(){return L})),n.d(t,"e",(function(){return F})),n.d(t,"g",(function(){return q})),n.d(t,"h",(function(){return V})),n.d(t,"d",(function(){return U})),n.d(t,"f",(function(){return K})),n.d(t,"a",(function(){return Y}));var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(6),s=n(4),u=n(202),l=n.n(u),d=n(454),p=n(455),f=n(65),m=n(243),b=n(7),g=n(11),y=n(9),v=n(5),h=n(33);function E(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function T(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){T(i,r,a,o,c,"next",e)}function c(e){T(i,r,a,o,c,"throw",e)}o(void 0)}))}}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){var t,n=e.body.relation;if("error"===(null===(t=n.exception)||void 0===t?void 0:t.level))throw new Error(n.exception.message);return w({},n,{data:JSON.parse(n.data)})}function I(e,t,n){return N.apply(this,arguments)}function N(){return(N=x(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.createRelation({type:"trigger",source:r.transformIdentifier(n.identifier),target:t,data:JSON.stringify(Object(s.Map)(n).filter((function(e,t){var n,a,i=null===(n=r.widgetAnnotations[t])||void 0===n?void 0:null===(a=n.visible)||void 0===a?void 0:a.preview;return!i||y.f.includes(i)})).toObject())});case 2:return a=e.sent,e.abrupt("return",A(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return k.apply(this,arguments)}function k(){return(k=x(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.deleteRelation(w({},n,{data:JSON.stringify(n.data)}));case 2:return r=e.sent,e.abrupt("return",A(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,n){return D.apply(this,arguments)}function D(){return(D=x(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.updateRelation(w({},r,{data:JSON.stringify(w({},r.data,{enabled:t}))}));case 2:return a=e.sent,e.abrupt("return",A(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){var t=["enabled","eventSourceToken","servicePrincipal","sid","sourceAccount","sourceName","sourceType","sourceUrl","state","uuid","id","persistedState"],n=["http","https","ws"],r=function(e){return n.some((function(t){return e.startsWith("".concat(t,":"))}))};return e.get("data").filterNot((function(e,n){return t.includes(n)||Object(b.R)(e)})).entrySeq().map((function(e){var t=j(e,2),n=t[0],a=t[1];return Object(s.fromJS)({key:n,value:a,link:"string"==typeof a&&r(a)?a:void 0}).filter((function(e){return!Object(b.R)(e)}))})).toList()}function L(e){var t,n=e.get("source"),r={id:e.getIn(["data","sourceType"]),name:e.getIn(["data","sourceName"]),url:e.getIn(["data","sourceUrl"]),exception:e.get("exception"),sourceId:n,details:M(e),enabled:!!e.getIn(["data","enabled"]),sid:e.getIn(["data","sid"]),uuid:e.getIn(["data","uuid"]),state:e.getIn(["data","state"])};y.f.includes("encephalon")&&(r.thirdParty=null===(t=/:rule\/(aws.partner\/.*?)\//.exec(n))||void 0===t?void 0:t[1]);return Object(s.fromJS)(w({},r,{originalTrigger:e}))}function F(e){var t=["enabled","exception","originalTrigger","sourceId","state","url"];"cloudfront"===e.get("id")&&t.push("sid"),"kinesis"===e.get("id")&&"NO_CONSUMER"!==e.getIn(["originalTrigger","id","consumer"])&&t.push("name");var n={cloudfront:["eventType","pathPattern"],"cloudwatch-logs":["filterName"],codecommit:["triggerName"],s3:["notificationName"]}[e.get("id")]||[];return e.filterNot((function(e,n){return t.includes(n)})).update("details",(function(e){return e.filter((function(e){return n.includes(e.get("key"))})).sortBy((function(e){return e.get("key")}))})).hashCode().toString()}function q(e,t){var n=t.get("data"),r=t.get("persistedState");return e.update("data",(function(e){return e?e.merge(n):n})).update("persistedState",(function(e){return e?e.merge(r):r})).update("valid",(function(e){return t.get("valid",e)})).update("validation",(function(e){return t.get("validation",e)}))}function V(e){return e.startsWith("aws.partner/")?"cloudwatch-events":e}function U(e,t){return"boolean"==typeof e?t.formatMessage({id:e?"yes":"no"}):e?Array.isArray(e)?e.join(", "):"object"===S(e)?o.a.createElement("div",{className:"pre-wrap"},o.a.createElement("pre",null,JSON.stringify(e,null,2))):e:o.a.createElement("i",null,t.formatMessage({id:"none"}))}e.registeredWidgets={},e.activeWidgets={};var G,B,z,H,W=function(t){return e.registeredWidgets[e.activeWidgets[t]]},K={load:(B=x(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t)._bus.call("load"));case 1:case"end":return e.stop()}}),e)}))),function(e){return B.apply(this,arguments)}),onCall:function(e,t){return W(e)._bus.handle("widget:call",t)},onChange:function(e,t){return W(e)._bus.on("widget:change",t)},onSubmit:function(e){return W("source")._bus.handle("widget:submit",e)},reset:function(t,n){e.activeWidgets[t]=n,e.registeredWidgets[n]||(e.registeredWidgets[n]={_bus:new m.a}),e.registeredWidgets[n]._bus.reset("widget:")},submit:(G=x(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W("source")._bus.call("widget:submit"));case 1:case"end":return e.stop()}}),e)}))),function(){return G.apply(this,arguments)}),beforeCreate:function(t,n){var r=t.data,a=t.persistedState;e.activeWidgets.source=n.definition.id;var i=(W("source")||{}).beforeCreate;return i?i({data:r,persistedState:a},n):r}};e.awsLambdaWidget={React:o.a,PropTypes:a.a,awsUi:(H=c,w({},H)),customUi:{InfoLink:f.a},locale:Object(b.D)(),widget:{call:(z=x(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W("source")._bus.call("widget:call",t,n));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return z.apply(this,arguments)}),change:function(e){return W("source")._bus.emit("widget:change",e)},onSubmit:function(e){return W("source")._bus.handle("widget:submit",e)},targetChange:function(e){return W("target")._bus.emit("widget:change",e)},register:function(t){var n=t.id;e.registeredWidgets[n]=w({},e.registeredWidgets[n],{},t),e.registeredWidgets[n]._bus.emit("load:response","*")},metrics:{logEvent:v.logEvent}}};var Y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,t),this.schemas=this.schemas||[],this.markdown=new l.a}var t,n,r;return t=e,(n=[{key:"getMessage",value:function(e){return this.messages[e]}},{key:"getDisplayName",value:function(){return this.getMessage("name")}},{key:"formatMessage",value:function(e){var t=this.getMessage(e);if(!t)return null;for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return o.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.markdown.renderInline(t.format.apply(t,r))}})}},{key:"generateDynamicForm",value:function(e,t){var n=this.getSchema(e,t),r=this.widgetAnnotations;return{graph:Object(s.fromJS)(Object(p.a)(r,(function(e){return e.dynamic}))),form:new d.a(this,n,r)}}},{key:"validateLinkInfo",value:function(e){return"custom"===this.widgetType?{valid:!0}:this.getValidator("trigger","source").validate(e)}},{key:"getProperties",value:function(e,t){return Object.keys(this.getSchema(e,t).properties)}},{key:"getSchema",value:function(e,t){var n=this.schemas.find((function(n){return n.type===e&&n.role===t})),r=n?n.schema:{type:"object",properties:{}},a=this.widgetAnnotations.identifier,i=(null==a?void 0:a.format)||"canonical";return w({},r,{properties:w({identifier:{type:"string",pattern:this.identifiers[i].matcher.replace(/\?<(.*?)>/g,"?:")}},r.properties),required:(r.required||[]).concat(["identifier"])})}},{key:"getValidator",value:function(e,t){return this.getValidatorForSchema(this.getSchema(e,t))}},{key:"getValidatorForSchema",value:function(e){return new h.d(e)}},{key:"transformIdentifier",value:function(e){var t,n=this.widgetAnnotations;if(null===(t=n.identifier)||void 0===t?void 0:t.transform){var r=n.identifier.transform,a=r.matcher,i=r.pattern,o=new RegExp(a).exec(e);return null===o?e:i.format.apply(i,E(o.slice(1)))}return e}},{key:"regions",get:function(){return this["x-aws-regions"]||[]}},{key:"isAvailable",get:function(){var e=!this["x-aws-regions"]||this.regions.includes(Object(b.H)()),t=!this["x-lambda"]||!this["x-lambda"].preview||y.f.includes(this["x-lambda"].preview);return e&&t}},{key:"toggle",get:function(){var e;return null===(e=this["x-lambda"])||void 0===e?void 0:e.toggle}},{key:"widgetType",get:function(){var e,t;return(null===(e=this["x-lambda"])||void 0===e?void 0:null===(t=e.widget)||void 0===t?void 0:t.type)?this["x-lambda"].widget.type:"dynamic"}},{key:"widgetAnnotations",get:function(){var e,t;return(null===(e=this["x-lambda"])||void 0===e?void 0:null===(t=e.widget)||void 0===t?void 0:t.properties)||{}}}])&&O(t.prototype,n),r&&O(t,r),e}()}).call(this,n(37))},function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return m}));var r=n(1),a=n.n(r),i=n(18),o=n.n(i),c=a.a.shape({key:a.a.string.isRequired,value:a.a.oneOfType([a.a.node,a.a.object]).isRequired,link:a.a.string}),s=a.a.shape({name:a.a.string,url:a.a.string,message:a.a.string,sourceId:a.a.string,details:a.a.arrayOf(c),enabled:a.a.bool}),u=a.a.shape({id:a.a.string.isRequired,vertex:a.a.string.isRequired}),l=a.a.shape({name:a.a.string.isRequired,icon:a.a.string.isRequired,triggers:a.a.arrayOf(s),toggle:a.a.bool,config:u}),d=a.a.shape({version:a.a.string,weight:a.a.number}),p=o.a.mapContains({id:a.a.string.isRequired,type:a.a.string.isRequired,level:a.a.oneOf(["error","info","success","warning","pending"]).isRequired,message:a.a.oneOfType([a.a.string,a.a.shape({id:a.a.string.isRequired,values:a.a.object})]).isRequired}),f=o.a.mapContains({id:a.a.string.isRequired,type:a.a.oneOf(["destination","function","layer","resource","trigger"]).isRequired,name:a.a.string.isRequired,icon:function(e,t){var n=e[t];if("function"!=typeof n)return/^data:image\/svg\+xml;base64,.*?$/.test(n)?void 0:new Error("Node icon prop must be a data-URI encoded SVG icon")},data:o.a.map,states:o.a.listOf(p).isRequired,editable:a.a.bool,variant:a.a.oneOf(["default","placeholder"])}),m=o.a.mapContains({id:a.a.string.isRequired,source:a.a.string.isRequired,target:a.a.string.isRequired,data:o.a.map})},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return m}));var r=n(32),a=n(99),i=n(20),o=n(7),c=new RegExp("^/functions/([^/]*?)(?:/(?:(?:versions|aliases)/)?([^/]*?))?(?:/(edit|create)(?:/([^/]*?))?)?$");function s(e,t,n,r,a){var i="/functions/".concat(e),c=Object(o.F)(t);return"version"===c?i+="/versions/".concat(t):"alias"===c&&(i+="/aliases/".concat(t)),n&&(i+=a?"/create/".concat(n):"/edit/".concat(n)),r&&(i+="?".concat(r)),i}function u(e,t,n,a,i){return Object(r.h)(s(e,t,n,a,i))}function l(e){var t=new o.e(e),n=t.functionName,a=t.qualifier;return Object(r.h)(s(n,a))}function d(e){var t=c.exec(e),n=null==t?void 0:t[4];n=Object.keys(a).includes(Object(i.i)(n))?n:void 0;var r="create"===(null==t?void 0:t[3]);return{functionName:null==t?void 0:t[1],qualifier:null==t?void 0:t[2],editPage:n,isCreate:r}}function p(e){var t=d(e),n=t.functionName,r=t.qualifier,a=t.editPage,i=t.isCreate;if(!n)return e;var c=new o.e(n);return s(c.functionName||n,r||c.qualifier,a,void 0,i)}function f(e,t){var n=d(e),r=d(t);return n.functionName===r.functionName&&n.qualifier===r.qualifier&&!!n.editPage}function m(e,t){var n=d(e),r=d(t);return n.functionName===r.functionName&&r.editPage&&!n.editPage&&n.qualifier!==r.qualifier}},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n(15);function a(e,t){return{type:r.f.SET_FIELD,id:e,value:t}}function i(e,t){return{type:r.f.VALIDATE_FIELD,id:e,schema:t}}function o(e){return{type:r.f.DESTROY_FIELD,id:e}}function c(e,t,n,a){return{type:r.f.SET_INDEX_IN_KEY_VALUE_LIST,id:e,index:t,keyValue:n,schema:a}}function s(e,t,n){return{type:r.f.DESTROY_INDEX_IN_KEY_VALUE_LIST,id:e,index:t,schema:n}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return d}));var r=n(15),a=function(){return{type:r.c.INIT_NODES}},i=function(e){return{type:r.c.DOWNLOAD_FROM_URL,url:e}},o=function(e){return{type:r.c.SET_DOWNLOAD_MESSAGES,messages:e}},c=function(e){return{type:r.c.SET_EXPORTING,exporting:e}},s=function(e,t,n){return{type:r.c.SET_NODES,nodes:e,lambdaNode:t,thirdPartyNodes:n}},u=function(e){return{type:r.i.SET_HELP_CONTENT,message:e}},l=function(e){return{type:r.i.TOGGLE,force:e}},d=function(e){return{type:r.i.TOGGLE_HELP,force:e}}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(452),a=n.n(r),i=n(232),o=n.n(i);function c(e){return a.a.stringify(o()(e))}function s(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function u(e){return new Array(e).fill(0).map((function(){return Math.random().toString(36)[3]})).join("")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return h})),n.d(t,"l",(function(){return E})),n.d(t,"k",(function(){return O})),n.d(t,"m",(function(){return S})),n.d(t,"o",(function(){return j})),n.d(t,"n",(function(){return T}));var r=n(2),a=n(11),i=n(7),o=n(73);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e){return new o.a({fetch:function(t){return Object(r.call)(a.a.describeAccessProfiles,s({},e,{marker:t}))},getPage:function(e){return e.body.accessProfiles},getToken:function(e){return e.body.nextMarker}})},d=function(){return new o.a([{fetch:function(e){return Object(r.call)(a.a.listRdsClusters,{marker:e})},getPage:function(e){return e.body.dbclusters},getToken:function(e){return e.body.marker}},{fetch:function(e){return Object(r.call)(a.a.listRdsDatabases,{marker:e})},getPage:function(e){return e.body.dbinstances},getToken:function(e){return e.body.marker}}])},p=function(e){return new o.a({fetch:function(t){return Object(r.call)(a.a.listEventSourceMappings,{functionName:e,marker:t})},getPage:function(e){return e.body.eventSourceMappings},getToken:function(e){return e.body.nextMarker}}).takeAll()},f=function(e){return new o.a({fetch:function(t){return Object(r.call)(a.a.describeFileSystems,s({},e,{marker:t}))},getPage:function(e){return e.body.fileSystems},getToken:function(e){return e.body.nextMarker}})},m=function(e){return new o.a({fetch:function(t){return Object(r.call)(a.a.listFunctions,s({},e,{marker:t}))},getPage:function(e){return e.body.functions},getToken:function(e){return e.body.nextMarker}}).takeAll()},b=function(){return new o.a({fetch:function(e){return Object(r.call)(a.a.listKmsKeys2,{service:"lambda",marker:e})},getPage:function(e){return e.body.keys.reduce((function(e,t){var n=t.aliasList,r=t.keyArn,a=t.keyId;return 0===n.length?e.concat([{keyArn:r,name:a}]):e.concat(n.map((function(e){var t=e.alias;return{keyArn:r,name:new i.b(t).resource.substring(6)}})))}),[])},getToken:function(e){return e.body.nextMarker}}).take(1e3)},g=function(){return new o.a({fetch:function(e){return Object(r.call)(a.a.listLayers,{marker:e})},getPage:function(e){return e.body.layers},getToken:function(e){return e.body.nextMarker}}).takeAll()},y=function(e){return new o.a({fetch:function(t){return Object(r.call)(a.a.listLayerVersions,{layerName:e,marker:t})},getPage:function(e){return e.body.layerVersions},getToken:function(e){return e.body.nextMarker}}).takeAll()},v=function(e){return new o.a({fetch:function(t){return Object(r.call)(a.a.listProvisionedConcurrencyConfigs,{functionName:e,marker:t})},getPage:function(e){return e.body.provisionedConcurrencyConfigs},getToken:function(e){return e.body.nextMarker}}).takeAll()},h=function(){return new o.a({fetch:function(){return Object(r.call)(a.a.invokeNodeAction,{id:"sqs",action:"listQueues"})},getPage:function(e){var t=e.body;return JSON.parse(t.payload)},getToken:function(){return null}}).takeAll()},E=function(){return new o.a({fetch:function(e){return Object(r.call)(a.a.listResourceTagMappings,{paginationToken:e,resourceTypeFilters:["lambda"],tagsPerPage:500})},getPage:function(e){return e.body.resourceTagMappingList},getToken:function(e){return e.body.paginationToken}})},O=function(){return new o.a({fetch:function(e){return Object(r.call)(a.a.listRdsProxies,{marker:e})},getPage:function(e){return e.body.dbproxies},getToken:function(e){return e.body.marker}})},S=function(){return new o.a({fetch:function(e){return Object(r.call)(a.a.listRoles2,{marker:e})},getPage:function(e){return e.body.roles},getToken:function(e){return e.body.marker}})},j=function(){return new o.a({fetch:function(e){return Object(r.call)(a.a.listTopics,{nextToken:e})},getPage:function(e){return e.body.topics},getToken:function(e){return e.body.nextToken}})},T=function(){return new o.a({fetch:function(e){return Object(r.call)(a.a.listSecretManagers,{nextToken:e})},getPage:function(e){return e.body.secretList},getToken:function(e){return e.body.nextToken}})}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c}));var r=n(15);function a(e){var t=e.header,n=e.content,a=e.loading,i=void 0!==a&&a,o=e.flashBarType,c=void 0===o?"info":o,s=e.dismissible,u=void 0===s||s,l=e.buttonText,d=void 0===l?void 0:l,p=e.buttonClickActionType,f=void 0===p?void 0:p;return{type:r.d.ENQUEUE_FLASH_BAR,header:t,content:n,loading:i,flashBarType:c,dismissible:u,buttonText:d,buttonClickActionType:f}}function i(){return{type:r.d.REFRESH_FLASH_BAR}}function o(e){var t=e.header,n=e.content,a=e.loading,i=void 0!==a&&a,o=e.flashBarType,c=void 0===o?"info":o,s=e.dismissible,u=void 0===s||s,l=e.buttonText,d=void 0===l?void 0:l,p=e.buttonClickActionType,f=void 0===p?void 0:p;return{type:r.d.POST_FLASH_BAR,header:t,content:n,loading:i,flashBarType:c,dismissible:u,buttonText:d,buttonClickActionType:f}}function c(){return{type:r.d.CLEAN_FLASH_BAR}}},,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n(4),a=new r.Record({key:"",value:"",isEncrypted:!1,isEncryptingOrDecrypting:!1}),i=new a},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u}));var r=n(1),a=n.n(r),i=["button","text","select","code","checkbox","number","duration","file","timestamp","range"],o=a.a.oneOfType([a.a.string,a.a.number]),c={text:o,select:a.a.oneOfType([o,a.a.arrayOf(o)]),code:a.a.string,checkbox:a.a.bool,number:a.a.number,duration:a.a.number,file:a.a.instanceOf(e.File),timestamp:a.a.string},s={text:"",select:void 0,code:"",checkbox:!1,number:0,duration:1,file:void 0,timestamp:""},u=a.a.shape({text:a.a.string.isRequired,value:o,description:a.a.string,children:a.a.arrayOf((function(){return u}))})}).call(this,n(37))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return v}));var r=n(35),a=function(e){return{type:r.a.CHANGE_TAB,tab:e}},i=function(e,t){return{type:r.a.GET_APP_DEPLOYMENTS,appName:e,nextToken:t}},o=function(e,t){return{type:r.a.GET_APP_DEPLOYMENTS_DONE,appDeployments:e,nextToken:t}},c=function(e){return{type:r.a.GET_APP_DEPLOYMENTS_ERROR,error:e}},s=function(){return{type:r.a.POLL_APP_CANCEL}},u=function(e,t){return{type:r.a.POLL_APP,appName:e,isInProject:t}},l=function(){return{type:r.a.POLL_PROJECT_CANCEL}},d=function(){return{type:r.a.POLL_PROJECT}},p=function(e){return{type:r.a.SET_APP_INFO,stackInfo:e}},f=function(e){return{type:r.a.SET_APP_LOADING_STATUS,loading:e}},m=function(e,t){return{type:r.a.SET_MODAL,modalType:e,modalState:t}},b=function(e){return{type:r.a.SET_PERMISSIONS_INFO,permissionsInfo:e}},g=function(e){return{type:r.a.SET_PIPELINE_LOADING_STATUS,loading:e}},y=function(e,t){return{type:r.a.SET_PROJECT_INFO,item:e,info:t}},v=function(e,t,n){return{type:r.a.UPDATE_APP_RESOURCE,physicalResourceId:e,pathArray:t,value:n}}},function(e,t,n){"use strict";var r=n(70),a=n(129),i=n(34),o=regeneratorRuntime.mark(c);function c(e,t){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{status:i.a.NO_CHANGE,node:e});case 1:case"end":return t.stop()}}),o)}var s=n(248);var u=n(72),l=n.n(u),d=n(4),p=n(2),f=n(26),m=n(10),b=n(8),g=n(41),y=n(11);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=regeneratorRuntime.mark(x),S=regeneratorRuntime.mark(_),j=regeneratorRuntime.mark(w),T=regeneratorRuntime.mark(R);function x(e,t,n){var r,a,o,c,s,u,b,y,v,h;return regeneratorRuntime.wrap((function(E){for(;;)switch(E.prev=E.next){case 0:if(r=e.getIn(["data","originalTrigger"]).toJS(),a=t.getIn(["data","originalTrigger"]).toJS(),o=e.getIn(["data","enabled"]),c=t.getIn(["data","enabled"]),!l()(r,a)||o!==c){E.next=6;break}return E.abrupt("return",{status:i.a.NO_CHANGE,node:e});case 6:return E.next=8,Object(p.call)(f.j);case 8:return s=E.sent,E.next=11,Object(p.put)(Object(m.X)(e.get("id"),e.get("states").push(s)));case 11:return u=e.get("states"),E.prev=12,E.next=15,Object(p.call)(g.i,o,n,r);case 15:b=E.sent,E.next=27;break;case 18:return E.prev=18,E.t0=E.catch(12),E.next=22,Object(p.call)(f.h,E.t0.message);case 22:return y=E.sent,E.next=25,Object(p.call)(f.e);case 25:return v=E.sent,E.abrupt("return",{status:i.a.FAILED,node:e.set("states",u.push(y).push(v))});case 27:return E.t1=e.setIn(["data","originalTrigger"],Object(d.fromJS)(b)).updateIn(["data","state"],(function(e){return b.data.state||e})),E.t2=u,E.next=31,Object(p.call)(f.i);case 31:return E.t3=E.sent,E.t4=E.t2.push.call(E.t2,E.t3),h=E.t1.set.call(E.t1,"states",E.t4),E.abrupt("return",{status:i.a.SAVED,node:h});case 35:case"end":return E.stop()}}),O,null,[[12,18]])}function _(e,t){var n,r,a,o,c,s,u;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(p.call)(f.b);case 2:return n=l.sent,l.next=5,Object(p.put)(Object(m.X)(e.get("id"),e.get("states").push(n)));case 5:return r=e.get("states"),l.prev=6,o=e.getIn(["data","originalTrigger"]).toJS(),l.next=10,Object(p.call)(g.c,t,o);case 10:a=l.sent,l.next=22;break;case 13:return l.prev=13,l.t0=l.catch(6),l.next=17,Object(p.call)(f.h,l.t0.message);case 17:return c=l.sent,l.next=20,Object(p.call)(f.g);case 20:return s=l.sent,l.abrupt("return",{status:i.a.FAILED,node:e.set("states",r.push(c).push(s))});case 22:if(!(u=a.data.state)){l.next=25;break}return l.abrupt("return",{status:i.a.SAVED,node:e.setIn(["data","state"],u)});case 25:return l.abrupt("return",{status:i.a.DELETED,node:e});case 26:case"end":return l.stop()}}),S,null,[[6,13]])}function w(e,t){var n,r,o,c,s,u,l,d,b;return regeneratorRuntime.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Object(p.call)(a.d,e,t);case 2:return n=g.sent,g.next=5,Object(p.call)(f.j);case 5:return r=g.sent,g.next=8,Object(p.put)(Object(m.X)(e.get("id"),e.get("states").push(r)));case 8:return o=e.get("states"),c=e,g.prev=10,g.next=13,Object(p.call)(y.a.correctRelation,n);case 13:s=g.sent,u=s.body,l=h({},u.relation,{data:JSON.parse(u.relation.data)}),c=Object(a.c)(l,e),g.next=28;break;case 19:return g.prev=19,g.t0=g.catch(10),g.next=23,Object(p.call)(f.h,g.t0.message);case 23:return d=g.sent,g.next=26,Object(p.call)(f.d);case 26:return b=g.sent,g.abrupt("return",{status:i.a.FAILED,node:c.set("states",o.push(d).push(b))});case 28:return g.t1=i.a.SAVED,g.t2=c,g.t3=o,g.next=33,Object(p.call)(f.i);case 33:return g.t4=g.sent,g.t5=g.t3.push.call(g.t3,g.t4),g.t6=g.t2.set.call(g.t2,"states",g.t5),g.abrupt("return",{status:g.t1,node:g.t6});case 37:case"end":return g.stop()}}),j,null,[[10,19]])}function R(e,t){var n,r,a,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if("placeholder"!==e.get("variant")){c.next=2;break}return c.abrupt("return",{status:i.a.NO_CHANGE,node:e});case 2:return c.next=4,Object(p.select)(b.q);case 4:if(n=c.sent,r=[f.a.SAVE_ERROR,f.a.SAVING,f.a.SAVED,f.a.NEEDS_SAVE,f.a.NEEDS_FIX,f.a.PENDING_DELETION],a=e.update("states",(function(e){return e.filter((function(e){return!r.includes(e.get("type"))}))})),!e.get("states").find((function(e){return e.get("type")===f.a.PENDING_DELETION}))){c.next=13;break}return c.next=10,Object(p.call)(_,a,n);case 10:o=c.sent,c.next=22;break;case 13:if(!e.get("states").find((function(e){return e.get("type")===f.a.NEEDS_FIX}))){c.next=19;break}return c.next=16,Object(p.call)(w,a,n);case 16:o=c.sent,c.next=22;break;case 19:return c.next=21,Object(p.call)(x,a,t,n);case 21:o=c.sent;case 22:return[i.a.SAVED,i.a.DELETED,i.a.CREATED].includes(o.status)&&(o.invalidateTasks=["resourcePolicySource"]),c.abrupt("return",o);case 25:case"end":return c.stop()}}),T)}var A=regeneratorRuntime.mark(I);function I(e,t){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{status:i.a.NO_CHANGE,node:e});case 1:case"end":return t.stop()}}),A)}var N=n(463);function C(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var k=n(9);n.d(t,"c",(function(){return P})),n.d(t,"e",(function(){return D})),n.d(t,"d",(function(){return M})),n.d(t,"f",(function(){return L})),n.d(t,"b",(function(){return f.a})),n.d(t,"a",(function(){return i.a}));var P={initializeFunction:r.d,initializeTriggerFromConfig:a.a,initializeTriggerFromRelationAndConfig:a.b,initializeTriggerFromRelationAndNode:a.c},D={function:s.a,trigger:R,resource:I};k.f.includes("starfish")&&(D.destination=c),k.f.includes("layette")&&(D.layer=function(e){return{status:i.a.NO_CHANGE,node:e}});var M={function:N.a,trigger:function(e,t,n,r,a){var i=[f.a.NEEDS_SAVE,f.a.HAS_VALIDATION_ERRORS],o=e.update("states",(function(e){return e.filter((function(e){return!i.includes(e.get("type"))}))}));return t?function(e,t,n,r){var a=e.setIn(["data"].concat(C(n.split("."))),r);return t.getIn(["data","enabled"])!==a.getIn(["data","enabled"])&&(a=a.update("states",(function(e){return e.push(Object(f.e)())}))),{editedNode:a,validationErrors:null}}(o,t,n,r):function(e,t,n){var r=e,a=n.getIn(["graphToEdit","validation",r.get("id")]),i=Object(d.Map)().set("data",r.get("data").delete("persistedState")).set("persistedState",r.getIn(["data","persistedState"])).set("validation",a),o=Object(g.g)(i,t);r=r.set("data",o.get("data")).setIn(["data","persistedState"],o.get("persistedState"));var c=o.get("validation");return c&&!c.isEmpty()&&(r=r.update("states",(function(e){return e.push(Object(f.c)())}))),{editedNode:r,validationErrors:c}}(o,r,a)}},L={createPendingDeletionState:f.g,createNotConfiguredState:f.f,createNeedsSaveState:f.e,createHasValidationErrorsState:f.c,createNeedsFixState:f.d}},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var r=" : ",a="NO_GROUP",i="SPECIAL",o="(empty)",c="(all values)"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={name:"create.configureFunction.name.label",description:"config.description.label",runtime:"create.configureFunction.runtime.label",handler:"config.handler.label",memory:"config.memory.label",timeout:"config.timeout.label",kmsKeyArn:"envVars.fields.kmsKeyRest.label",envVars:"envVars.fields.envVars.label",inline:"config.code.type.inline",upload:"config.code.upload.controlLabel",s3:"config.code.s3.label",existingRole:"role.existing.label",roleName:"role.name.label",vpcId:"vpc.fields.vpc.label",subnetIds:"vpc.fields.subnets.label",securityGroupIds:"vpc.fields.securityGroups.label",tags:"tags.fields.tags.label"}},function(e,t,n){"use strict";(function(e){n.d(t,"k",(function(){return be})),n.d(t,"j",(function(){return ge})),n.d(t,"l",(function(){return ye})),n.d(t,"s",(function(){return ve})),n.d(t,"q",(function(){return he})),n.d(t,"d",(function(){return Ee})),n.d(t,"t",(function(){return Oe})),n.d(t,"b",(function(){return Se})),n.d(t,"n",(function(){return je})),n.d(t,"a",(function(){return _e})),n.d(t,"m",(function(){return we})),n.d(t,"c",(function(){return Re})),n.d(t,"o",(function(){return Ae})),n.d(t,"u",(function(){return Ie})),n.d(t,"h",(function(){return Ne})),n.d(t,"g",(function(){return Ce})),n.d(t,"p",(function(){return ke})),n.d(t,"r",(function(){return Pe})),n.d(t,"i",(function(){return De})),n.d(t,"f",(function(){return Me})),n.d(t,"e",(function(){return Le}));var r=n(0),a=n.n(r),i=n(2),o=n(4),c=n(3),s=n(32),u=n(10),l=n(137),d=n(99),p=n(43),f=n(60),m=n(24),b=n(248),g=n(507),y=n(8),v=n(91),h=n(481),E=n(20),O=n(21),S=n(45),j=n(14),T=n(50),x=n(23),_=n(44),w=n(106),R=n(41),A=n(39),I=n(29),N=n(80),C=n(7),k=n(11),P=n(9),D=n(5),M=n(15);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=regeneratorRuntime.mark(fe),U=regeneratorRuntime.mark(me),G=regeneratorRuntime.mark(be),B=regeneratorRuntime.mark(ge),z=regeneratorRuntime.mark(ye),H=regeneratorRuntime.mark(ve),W=regeneratorRuntime.mark(he),K=regeneratorRuntime.mark(Ee),Y=regeneratorRuntime.mark(Oe),J=regeneratorRuntime.mark(Se),Q=regeneratorRuntime.mark(je),X=regeneratorRuntime.mark(Te),$=regeneratorRuntime.mark(xe),Z=regeneratorRuntime.mark(_e),ee=regeneratorRuntime.mark(we),te=regeneratorRuntime.mark(Re),ne=regeneratorRuntime.mark(Ae),re=regeneratorRuntime.mark(Ie),ae=regeneratorRuntime.mark(Ne),ie=regeneratorRuntime.mark(Ce),oe=regeneratorRuntime.mark(ke),ce=regeneratorRuntime.mark(Pe),se=regeneratorRuntime.mark(De),ue=regeneratorRuntime.mark(Me),le=regeneratorRuntime.mark(Le),de=Object.values(O.q);function pe(e){return de.includes(e.query.tab)?e.query.tab:O.q.CONFIGURATION}function fe(){var e,t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.select)(y.W);case 2:return e=r.sent,r.next=5,Object(i.call)(E.e);case 5:return t=r.sent,r.next=8,Object(i.call)(v.e,e,t);case 8:return n=r.sent,r.abrupt("return",n);case 10:case"end":return r.stop()}}),V)}function me(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e?d[Object(E.i)(e)].getHelpContentMessageId():"functionDesigner.helpContent",n.next=3,Object(i.put)(Object(S.e)(a.a.createElement(c.FormattedHTMLMessage,{id:t})));case 3:return n.next=5,Object(i.put)(Object(j.g)());case 5:return n.next=7,Object(i.put)(Object(T.d)());case 7:case"end":return n.stop()}}),U)}function be(e,t,n){var r,a,o,c,l,d,f,m,b,g;return regeneratorRuntime.wrap((function(y){for(;;)switch(y.prev=y.next){case 0:if(r=F({},e.query,{tab:pe(e),eventModal:e.query.eventModal,newFunction:e.query.newFunction}),a=!1,o=Object(p.g)(e.pathname),c=o!==e.pathname){y.next=16;break}return l=Object(p.f)(o),d=l.editPage,f=d?Object(E.i)(d):"function-designer",D.startPageLoad(f),y.next=10,Object(i.put)(Object(S.h)(!1));case 10:return y.next=12,Object(i.call)(fe);case 12:if(!(a=y.sent)){y.next=16;break}return y.next=16,Object(i.call)(me,d);case 16:return y.next=18,Object(i.put)(Object(s.i)({query:r,pathname:o}));case 18:if(!c){y.next=20;break}return y.abrupt("return");case 20:return y.next=22,Object(i.select)(I.b);case 22:if(m=y.sent,b=Object(p.b)(t.pathname,n.pathname),g=Object(p.a)(t.pathname,n.pathname),a&&!g){y.next=28;break}return y.next=28,Object(i.put)(u.t(m,b));case 28:case"end":return y.stop()}}),G)}function ge(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.call)(h.a,g);case 2:case"end":return e.stop()}}),B)}function ye(e){var t,n,r,a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.isNavigationToEdit,n=e.location,r=Object(p.f)(n.pathname),a=r.editPage,o.next=4,Object(i.call)(me,a);case 4:if(D.startCustomTimer(D.EVENT_NAMES.DESIGNER_LOAD),!t){o.next=10;break}return o.next=8,Object(i.put)(u.v(["urlParser","resetEditPageState","customerReady"]));case 8:o.next=12;break;case 10:return o.next=12,Object(i.call)(ge);case 12:D.stopCustomTimer(D.EVENT_NAMES.DESIGNER_LOAD);case 13:case"end":return o.stop()}}),z)}function ve(){var e,t,n,r,a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(i.put)(Object(j.g)());case 2:return o.next=4,Object(i.select)(y.y);case 4:return e=o.sent,o.next=7,Object(i.select)(y.z);case 7:return t=o.sent,n=e.get("nodes").groupBy((function(e){return e.get("id")})).map((function(e){return e.get(0)})),r=t.get("nodes").map((function(e){return Object(i.call)(f.e[e.get("type")],e,n.get(e.get("id")))})).toJS(),D.logEventWithValue(D.EVENT_NAMES.PARALLEL_SAVES,r.length),o.next=13,r;case 13:return a=o.sent,o.next=16,Object(i.put)(Object(j.b)("stop-successful"));case 16:return o.next=18,Object(i.put)(u.A(a));case 18:case"end":return o.stop()}}),H)}function he(){var e,t,n,r,a,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(i.put)(Object(j.g)());case 2:return c.next=4,Object(i.select)(y.y);case 4:return e=c.sent,c.next=7,Object(i.select)(y.z);case 7:return t=c.sent,c.next=10,Object(i.select)(y.q);case 10:return n=c.sent,r=t.get("nodes").find((function(e){return e.get("id")===n})),a=e.get("nodes").find((function(e){return e.get("id")===n})),c.next=15,Object(i.call)(b.b,r,a);case 15:return o=c.sent,c.next=18,Object(i.put)(u.z(o));case 18:case"end":return c.stop()}}),W)}function Ee(e){var t,n,r,a,o,c;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.source,n=e.condition,r=e.nodeId,s.next=3,Object(i.put)(Object(j.g)("deleteDestinationModal"));case 3:return s.next=5,Object(i.put)(u.E(!0));case 5:if(s.prev=5,t!==O.g){s.next=13;break}return(a={uUID:r,destinationConfig:{}}).destinationConfig[n]={destination:""},s.next=11,Object(i.call)(k.a.updateEventSourceMapping,a);case 11:s.next=20;break;case 13:return s.next=15,Object(i.select)(y.q);case 15:return o=s.sent,(c={functionName:o,destinationConfig:{}}).destinationConfig[n]={destination:""},s.next=20,Object(i.call)(k.a.updateFunctionEventInvokeConfig,c);case 20:return s.next=22,Object(i.put)(u.m(r,!0));case 22:return s.next=24,Object(i.put)(u.F(!1));case 24:return s.next=26,Object(i.put)(Object(T.c)({flashBarType:"success",dismissible:!0,content:{id:"destination.delete.flashbar.success"}}));case 26:s.next=32;break;case 28:return s.prev=28,s.t0=s.catch(5),s.next=32,Object(i.put)(Object(j.d)({scope:"deleteDestinationModal",message:s.t0.message}));case 32:return s.prev=32,s.next=35,Object(i.put)(u.E(!1));case 35:return s.finish(32);case 36:case"end":return s.stop()}}),K,null,[[5,28,32,36]])}function Oe(e){var t,n,r,a,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.nodeId,n=e.arn,c.prev=1,!n){c.next=10;break}return c.next=5,Object(i.call)(k.a.simulateRolePolicy,{arn:n,actionsName:P.s.permissions});case 5:return r=c.sent,a=r.body,o=P.s.permissions.map((function(e){return a[e]})).reduce((function(e,t){return e&&t}))!==P.o.allowed,c.next=10,Object(i.put)(u.W(o,t,"needsTracerPermissions"));case 10:c.next=16;break;case 12:return c.prev=12,c.t0=c.catch(1),c.next=16,Object(i.put)(Object(j.d)({message:c.t0.message}));case 16:case"end":return c.stop()}}),Y,null,[[1,12]])}function Se(e){var t,n,r,a,o,c,s,l,d;return regeneratorRuntime.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.serviceId,n=e.nodeId,r=e.arn,a=e.resourceArn,p.prev=1,o=P.b.permission[t],s=[],(c=[]).push(o),s.push(a),p.next=9,Object(i.call)(k.a.simulateRolePolicy,{arn:r,actionsName:c,resourceArns:s});case 9:return l=p.sent,d=Object.values(l.body)[0],p.next=13,Object(i.put)(u.W(d,n,"hasDLQPermission"));case 13:p.next=19;break;case 15:return p.prev=15,p.t0=p.catch(1),p.next=19,Object(i.put)(u.W(p.t0.message,n,"dlqErrors"));case 19:case"end":return p.stop()}}),J,null,[[1,15]])}function je(e){var t,n,r,a,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.serviceId,n=e.nodeId,c.prev=1,r="sqs"===t?"listQueues":"listTopics",c.next=5,Object(i.call)(k.a.invokeNodeAction,{id:t,action:r});case 5:return a=c.sent,o=JSON.parse(a.body.payload).filter((function(e){return!e.value.endsWith(".fifo")})).map((function(e){return P.b.formatResources(e.value.split(":"))})),c.next=9,Object(i.put)(u.W(o,n,"resources"));case 9:c.next=17;break;case 11:return c.prev=11,c.t0=c.catch(1),c.next=15,Object(i.put)(u.W([],n,"resources"));case 15:return c.next=17,Object(i.put)(u.W(c.t0.message,n,"dlqErrors"));case 17:case"end":return c.stop()}}),Q,null,[[1,11]])}function Te(){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(i.call)(k.a.listVpcs);case 3:return e=n.sent,t=e.body,n.next=7,Object(i.put)(u.Y({vpcItems:Object(o.List)(t)}));case 7:n.next=18;break;case 9:if(n.prev=9,n.t0=n.catch(0),403!==n.t0.status){n.next=16;break}return n.next=14,Object(i.put)(u.Y({hasVpcPermission:!1}));case 14:n.next=18;break;case 16:return n.next=18,Object(i.put)(Object(j.d)({message:n.t0.message}));case 18:case"end":return n.stop()}}),X,null,[[0,9]])}function xe(e){var t,n,r,a,c;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(t=e.vpcId)){s.next=17;break}return s.prev=2,s.next=5,Object(i.call)(k.a.getSubnetsAndSecurityGroups,{vpcId:t});case 5:return n=s.sent,r=n.body,a=r.subnets,c=r.securityGroups,s.next=11,Object(i.put)(u.Y({subnetItems:Object(o.List)(a),securityGroupItems:Object(o.List)(c)}));case 11:s.next=17;break;case 13:return s.prev=13,s.t0=s.catch(2),s.next=17,Object(i.put)(Object(j.d)({message:s.t0.message}));case 17:case"end":return s.stop()}}),$,null,[[2,13]])}function _e(e){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.vpcId,n=e.nodeId,r.next=3,Object(i.put)(u.W(Object(o.List)(),n,"subnetIds"));case 3:return r.next=5,Object(i.put)(u.W(Object(o.List)(),n,"securityGroupIds"));case 5:if("_novpc"===t){r.next=8;break}return r.next=8,Object(i.call)(xe,{vpcId:t});case 8:case"end":return r.stop()}}),Z)}function we(e){var t,n,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.nodeId,a.next=3,Object(i.call)(Te);case 3:return a.next=5,Object(i.select)(y.M,t);case 5:if(n=a.sent,"_novpc"!==(r=Object(m.b)(n,"vpcId"))){a.next=14;break}return a.next=10,Object(i.put)(u.W(Object(o.List)(),t,"subnetIds"));case 10:return a.next=12,Object(i.put)(u.W(Object(o.List)(),t,"securityGroupIds"));case 12:a.next=17;break;case 14:if(!r){a.next=17;break}return a.next=17,Object(i.call)(xe,{vpcId:r});case 17:case"end":return a.stop()}}),ee)}function Re(e){var t,n,r,a,o,c,s,l,d,f,m;return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return t=e.functionName,b.next=3,Object(i.put)(u.K("alias",!0));case 3:return b.prev=3,b.next=6,Object(i.select)(w.b);case 6:return r=b.sent,a=r.name,o=r.description,c=r.functionVersion,s=r.additionalVersionWeights,b.next=13,Object(i.call)(k.a.createAlias,{name:a,description:o,functionName:t,functionVersion:c,routingConfig:{additionalVersionWeights:s}});case 13:return l=b.sent,d=l.body,f=null===(n=d.routingConfig)||void 0===n?void 0:n.additionalVersionWeights,m={id:"functionDetail.qualifiers.modal.createAlias.alert.".concat(f?"successWithAdditionalVersion":"success"),values:{alias:d.name,version:d.functionVersion,additionalVersion:f&&Object.keys(f)[0]}},b.next=19,Object(i.put)(Object(j.c)({type:"success",message:m}));case 19:return b.next=21,Object(i.put)(_.a("modal.alias"));case 21:return b.next=23,Object(i.put)(u.J("alias",!1));case 23:return b.next=25,Object(i.put)(Object(p.d)(t,d.name));case 25:b.next=31;break;case 27:return b.prev=27,b.t0=b.catch(3),b.next=31,Object(i.put)(Object(j.d)({scope:"create-alias-modal",message:{id:"functionDetail.qualifiers.modal.createAlias.alert.failure",values:{err:b.t0.message}}}));case 31:return b.next=33,Object(i.put)(u.K("alias",!1));case 33:case"end":return b.stop()}}),te,null,[[3,27]])}function Ae(e){var t,n,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.functionName,a.next=3,Object(i.put)(u.K("version",!0));case 3:return a.prev=3,a.t0=i.call,a.t1=k.a.publishVersion,a.t2=t,a.next=9,Object(i.select)(w.e,"publish","description");case 9:return a.t3=a.sent,a.t4={functionName:a.t2,description:a.t3},a.next=13,(0,a.t0)(a.t1,a.t4);case 13:return n=a.sent,r=n.body,a.next=17,Object(i.select)(y.T);case 17:if(!a.sent.get("versions").find((function(e){return e.get("version")===r.version}))){a.next=23;break}return a.next=21,Object(i.put)(Object(j.e)({message:{id:"functionDetail.qualifiers.modal.publish.alert.notPublished",values:{currentVersion:r.version}},scope:"publish-version-modal"}));case 21:a.next=31;break;case 23:return a.next=25,Object(i.put)(Object(j.c)({type:"success",message:{id:"functionDetail.qualifiers.modal.publish.alert.success",values:{version:r.version,functionName:t}}}));case 25:return a.next=27,Object(i.put)(_.a("modal.publish"));case 27:return a.next=29,Object(i.put)(u.J("version",!1));case 29:return a.next=31,Object(i.put)(Object(p.d)(t,r.version));case 31:a.next=37;break;case 33:return a.prev=33,a.t5=a.catch(3),a.next=37,Object(i.put)(Object(j.d)({message:{id:"functionDetail.qualifiers.modal.publish.alert.failure",values:{err:a.t5.message}},scope:"publish-version-modal"}));case 37:return a.next=39,Object(i.put)(u.K("version",!1));case 39:case"end":return a.stop()}}),ne,null,[[3,33]])}function Ie(e){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.functionArn,r.next=3,Object(i.put)(u.K("stop",!0));case 3:return r.prev=3,r.next=6,Object(i.call)(k.a.putFunctionConcurrency,{functionName:t,reservedConcurrentExecutions:0});case 6:return r.next=8,Object(i.put)(Object(N.b)());case 8:return r.next=10,Object(i.put)(u.S(t));case 10:return n={id:"modal.stop.alert.success"},r.next=13,Object(i.put)(Object(j.h)({message:n,key:"stop-successful"}));case 13:return r.next=15,Object(i.put)(u.J("stop",!1));case 15:D.logEvent(D.EVENT_NAMES.STOP_FUNCTION,!0),r.next=23;break;case 18:return r.prev=18,r.t0=r.catch(3),r.next=22,Object(i.put)(Object(j.d)({scope:"stop-function",message:{id:"modal.stop.alert.failure",values:{err:r.t0.message}}}));case 22:D.logEvent(D.EVENT_NAMES.STOP_FUNCTION,!1);case 23:return r.prev=23,D.logEvent(D.EVENT_NAMES.STOP_FUNCTION),r.finish(23);case 26:return r.next=28,Object(i.put)(u.K("stop",!1));case 28:case"end":return r.stop()}}),re,null,[[3,18,23,26]])}function Ne(e){var t,n,r,a,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.functionName,n=e.groupName,r=C.e.fromFunctionName(t),a=r.arn,o={key:"lambda-console-group",type:"success"},c.next=5,Object(i.put)(u.K("group",!0));case 5:if(c.prev=5,!n){c.next=12;break}return c.next=9,Object(i.call)(k.a.addTags,{resource:a,tags:{"lambda-console-group":n}});case 9:o.message={id:"group.alert.success.add",values:{functionName:t,group:n}},c.next=15;break;case 12:return c.next=14,Object(i.call)(k.a.deleteTags,{resource:a,tagKeys:["lambda-console-group"]});case 14:o.message={id:"group.alert.success.remove",values:{functionName:t}};case 15:return c.next=17,Object(i.put)(u.J("group",!1));case 17:return c.next=19,Object(i.put)(u.q(t,n));case 19:return c.next=21,Object(i.put)(Object(j.h)(o));case 21:c.next=27;break;case 23:return c.prev=23,c.t0=c.catch(5),c.next=27,Object(i.put)(Object(j.d)({scope:"function-group",message:{id:"group.alert.failure",values:{error:c.t0.message}}}));case 27:return c.next=29,Object(i.put)(u.K("group",!1));case 29:case"end":return c.stop()}}),ae,null,[[5,23]])}function Ce(){var e,t,n,r,a,c,s,d,f,m,b,g;return regeneratorRuntime.wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return D.logEvent(D.EVENT_NAMES.EDGE_DEPLOY_STARTED),v.next=3,Object(i.put)(u.K("lambdaAtEdge",!0));case 3:return v.next=5,Object(i.put)(Object(j.g)("lambda-at-edge"));case 5:return v.next=7,Object(i.select)(y.q);case 7:return e=v.sent,t=new C.e(e).functionName,v.next=11,Object(i.select)(A.c.getNodes);case 11:return n=v.sent,r=n.cloudfront,v.prev=13,v.next=16,Object(i.call)(R.f.submit);case 16:if((a=v.sent).valid){v.next=19;break}return v.abrupt("return");case 19:return D.logEvent(D.EVENT_NAMES.EDGE_DEPLOY_VALID_TRIGGER),v.next=22,Object(i.put)(u.V(Object(o.fromJS)(a)));case 22:return v.next=24,Object(i.select)(y.L);case 24:return c=v.sent,s=c.get("data").toJS(),v.next=28,Object(i.select)(y.W);case 28:return d=v.sent,v.next=31,Object(i.select)(y.U,"executionRoleSource");case 31:return f=v.sent,v.next=34,Object(i.call)(l.c,d.get("data").toJS(),f,s);case 34:if(!(m=v.sent).length){v.next=39;break}return v.next=38,Object(i.all)(m.map((function(e,t){return Object(i.put)(Object(j.i)({message:e,scope:"lambda-at-edge",key:t}))})));case 38:return v.abrupt("return");case 39:return D.logEvent(D.EVENT_NAMES.EDGE_DEPLOY_VALID_FUNCTION),v.next=42,Object(i.call)(k.a.publishVersion,{functionName:t,description:"Version published for Lambda@Edge"});case 42:return b=v.sent,g=b.body,D.logEvent(D.EVENT_NAMES.EDGE_DEPLOY_VERSION_PUBLISHED),v.next=47,Object(i.call)(R.b,g.functionArn,s,r);case 47:return D.logEvent(D.EVENT_NAMES.EDGE_DEPLOY_TRIGGER_CREATED),v.next=50,Object(i.put)(Object(j.c)({type:"success",key:"created",message:{id:"lambdaAtEdge.alert.success",values:{version:g.version}}}));case 50:return v.next=52,Object(i.put)(Object(p.d)(t,g.version));case 52:D.logEvent(D.EVENT_NAMES.EDGE_DEPLOY_FINISHED,!0),v.next=60;break;case 55:return v.prev=55,v.t0=v.catch(13),D.logEvent(D.EVENT_NAMES.EDGE_DEPLOY_FINISHED,!1),v.next=60,Object(i.put)(Object(j.d)({message:v.t0.message,scope:"lambda-at-edge"}));case 60:return v.prev=60,D.logEvent(D.EVENT_NAMES.EDGE_DEPLOY_FINISHED),v.next=64,Object(i.put)(u.K("lambdaAtEdge",!1));case 64:return v.finish(60);case 65:case"end":return v.stop()}}),ie,null,[[13,55,60,65]])}function ke(){var e,t,n,r,a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=C.e,o.next=3,Object(i.select)(y.q);case 3:return o.t1=o.sent,e=new o.t0(o.t1),t=e.functionName,n=e.qualifier,r=void 0===n?null:n,o.prev=8,o.next=11,Object(i.call)(k.a.invokeFunction,{functionName:t,qualifier:r,sampleEvent:"{}"});case 11:return o.next=13,Object(i.put)(u.v(["functionSource","showFunctionDetailsFlashbar"]));case 13:o.next=25;break;case 15:if(o.prev=15,o.t2=o.catch(8),"ResourceNotReadyException"!==o.t2.response.headers["x-amzn-errortype"]){o.next=21;break}D.logEvent(D.EVENT_NAMES.V2N_RESTORE,!0),o.next=25;break;case 21:return D.logEvent(D.EVENT_NAMES.V2N_RESTORE,!1),a={flashBarType:"error",dismissible:!1,content:{id:"functionDetail.flashBar.restoreFailed",values:{functionName:t,message:o.t2.message}},buttonText:{id:"functionDetail.flashBar.button.restore"},buttonClickActionType:M.h.functionDesigner.RESTORE_FUNCTION},o.next=25,Object(i.put)(Object(T.c)(a));case 25:case"end":return o.stop()}}),oe,null,[[8,15]])}function Pe(e){var t,n,r,a,o,c,s,l;return regeneratorRuntime.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.functionName,n=e.qualifier,r=e.editPage,a=e.data,o=D.EVENT_NAMES.EDIT_PAGE_SAVE(r),D.logEvent(o),f.next=5,Object(i.put)(u.N(!0));case 5:return c=Object(E.i)(r),f.prev=6,f.next=9,Object(i.put)(Object(j.g)(c));case 9:return f.next=11,Object(i.call)(d[c].save,t,n,a);case 11:return s=f.sent,l=d[c].editCacheType||"editPage",f.next=15,Object(i.call)(E.t,t,n,l,"save",s);case 15:return D.logEvent(o,!0),f.next=18,Object(i.put)(Object(p.d)(t,n));case 18:f.next=25;break;case 20:return f.prev=20,f.t0=f.catch(6),D.logEvent(o,!1),f.next=25,Object(i.put)(Object(j.d)({scope:c,message:f.t0.message}));case 25:return f.prev=25,f.next=28,Object(i.put)(u.N(!1));case 28:return f.finish(25);case 29:case"end":return f.stop()}}),ce,null,[[6,20,25,29]])}function De(t){var n,r,a,o,c,s,l,d;return regeneratorRuntime.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return n=t.kmsKey,r=t.index,D.logEvent(D.EVENT_NAMES.EDIT_ENV_VARS_ENCRYPT_SAVE),p.next=4,Object(i.put)(u.K("encrypt",!0));case 4:return p.next=6,Object(i.put)(Object(j.g)("encryptModal"));case 6:return p.next=8,Object(i.select)(x.c,"editEnvironmentVariables","environmentVariables");case 8:return a=p.sent,o=a[r],p.prev=10,p.next=13,Object(i.call)(k.a.kmsEncrypt,{Plaintext:e.btoa(o.value),KeyId:n});case 13:return c=p.sent,s=c.CiphertextBlob,l=a.slice(),d=F({},o,{value:s}),l.splice(r,1,d),p.next=20,Object(i.put)(Object(x.l)("editEnvironmentVariables","environmentVariables",l));case 20:return p.next=22,Object(i.put)(u.J("encrypt",!1));case 22:D.logEvent(D.EVENT_NAMES.EDIT_ENV_VARS_ENCRYPT_SAVE,!0),p.next=30;break;case 25:return p.prev=25,p.t0=p.catch(10),D.logEvent(D.EVENT_NAMES.EDIT_ENV_VARS_ENCRYPT_SAVE,!1),p.next=30,Object(i.put)(Object(j.d)({scope:"encryptModal",message:p.t0.message}));case 30:return p.prev=30,p.next=33,Object(i.put)(u.K("encrypt",!1));case 33:return p.finish(30);case 34:case"end":return p.stop()}}),se,null,[[10,25,30,34]])}function Me(e){var t,n,r,a,o,c;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.functionArn,l.prev=1,l.next=4,Object(i.put)(u.M(!0));case 4:return n=new C.e(t),r=n.functionName,a=n.qualifier,l.next=7,Object(i.call)(k.a.deleteProvisionedConcurrencyConfig,{functionName:r,qualifier:a});case 7:return D.logEvent(D.EVENT_NAMES.PROVISIONED_CONCURRENCY_DELETE,!0),l.next=10,Object(i.put)(Object(j.f)({type:"success",scope:"provisioned-concurrency",message:{id:"modal.delete.alert.success.provisionedConcurrency",values:{functionName:r}}}));case 10:return l.next=12,Object(i.put)(Object(N.b)());case 12:return o={flashBarType:"success",dismissible:!0,content:{id:"modal.delete.alert.success.provisionedConcurrency",values:{functionName:r}}},l.next=15,Object(i.put)(Object(T.c)(o));case 15:return l.next=17,Object(i.put)(u.v(["provisionedConcurrencyConfigsSource","provisionedConcurrencyConfigsParser"]));case 17:l.next=27;break;case 19:return l.prev=19,l.t0=l.catch(1),D.logEvent(D.EVENT_NAMES.PROVISIONED_CONCURRENCY_DELETE,!1),l.next=24,Object(i.put)(Object(j.f)({type:"error",scope:"provisioned-concurrency",message:{id:"error.frontend.deleteModal.failure.provisionedConcurrency",values:{error:l.t0.message}}}));case 24:return c={flashBarType:"error",dismissible:!0,content:{id:"error.frontend.deleteModal.failure.provisionedConcurrency",values:{error:l.t0.message}}},l.next=27,Object(i.put)(Object(T.c)(c));case 27:return l.prev=27,D.logEvent(D.EVENT_NAMES.PROVISIONED_CONCURRENCY_DELETE),l.next=31,Object(i.put)(u.M(!1));case 31:return l.next=33,Object(i.put)(Object(s.h)({query:{deleteModal:void 0}},{persistQuery:!0}));case 33:return l.finish(27);case 34:case"end":return l.stop()}}),ue,null,[[1,19,27,34]])}function Le(e){var t,n,r,a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.functionName,o.prev=1,o.next=4,Object(i.put)(u.G(!0));case 4:return o.next=6,Object(i.select)(y.W);case 6:return n=o.sent,o.next=9,Object(i.call)(k.a.updateFunctionConfiguration2,{functionName:t,fileSystemConfigs:[]});case 9:return r=o.sent,a=r.body,o.next=13,Object(i.put)(u.w(n,a));case 13:return o.next=15,Object(i.put)(u.v(["elasticFileSystemSource"]));case 15:return o.next=17,Object(i.put)(Object(T.c)({flashBarType:"success",dismissible:!0,content:{id:"modal.delete.alert.success.elasticFileSystem",values:{functionName:t}}}));case 17:D.logEvent(D.EVENT_NAMES.EFS_DELETED),o.next=24;break;case 20:return o.prev=20,o.t0=o.catch(1),o.next=24,Object(i.put)(Object(T.c)({flashBarType:"error",dismissible:!0,content:{id:"error.frontend.deleteModal.failure.elasticFileSystem",values:{error:o.t0.message}}}));case 24:return o.prev=24,o.next=27,Object(i.put)(u.G(!1));case 27:return o.next=29,Object(i.put)(u.H(!1));case 29:return o.finish(24);case 30:case"end":return o.stop()}}),le,null,[[1,20,24,30]])}}).call(this,n(37))},,function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(3),s=n(13),u=n(45);function l(e){var t=e.clickInfoLink;return o.a.createElement("a",{className:"awsui-util-help-info-link",onClick:t},o.a.createElement(c.FormattedMessage,{id:"info"}))}l.propTypes={message:a.a.node.isRequired,clickInfoLink:a.a.func.isRequired},t.a=Object(s.connect)(null,(function(e,t){return{clickInfoLink:function(){e(Object(u.e)(t.message)),e(Object(u.g)(!0))}}}))(l)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f}));var r=n(4),a=n(15),i=e.lambda.user,o=Object(r.fromJS)({isLoading:!1,accountId:i.accountId,hasFunctions:i.hasFunctions,settings:i.settings,userPref:{user:{appDesignerExpand:!0,appView:{gettingStartedExpand:!0,gettingStartedDismiss:!1,pipelineSectionExpand:!0,pipelineSectionDismiss:!1},displayInsights:!0}}});function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.j.REFRESH_SETTINGS:return e.set("isLoading",!0);case a.j.REFRESH_SETTINGS_COMPLETE:var n=e.get("settings").remove("exception").mergeDeep(Object(r.fromJS)(t.settings));return e.set("settings",n).set("isLoading",!1);case a.j.USER_PREF_SET_STATE:return e.setIn(["userPref",t.name],Object(r.fromJS)(t.content));case a.j.USER_PREF_MERGE_STATE:return e.mergeDeepIn(["userPref",t.name],Object(r.fromJS)(t.content));default:return e}}function s(e){return e.user.getIn(["settings","exception"])}function u(e){return e.user.get("settings")}function l(e){return e.user.getIn(["userPref","user"])}function d(e){return e.user.getIn(["userPref","user","appDesignerExpand"])}function p(e){return e.user.getIn(["userPref","user","appView"])}function f(e){return e.user.getIn(["userPref","user","displayInsights"])}}).call(this,n(37))},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return h}));var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(96),s=n(33),u=n(44),l=n(24),d=n(10),p=n(8);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){var t=e.state,n=e.nodeId,r=e.context,a=e.field;return n?Object(l.b)(Object(p.M)(t,n),a):t.formFields.getIn(["fields",r,a])}function y(e){var t=e.state,n=e.nodeId,r=e.field;return Object(l.b)(Object(p.h)(t,n),r)}function v(e){var t=e.nodeId,n=e.context,r=e.field,a=e.value;if(t)return Object(d.W)(a,t,r);var i="role"===r?"existingRole":r;return Object(u.c)("".concat(n,".").concat(i),a)}function h(e){if(e.nodeId)return o.a.createElement(l.a,b({pathInData:e.name},e));var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return t.name="role"===t.name?"existingRole":t.name,t.context=t.context||"create",o.a.createElement(c.a,b({id:"".concat(t.context,".").concat(t.name),schema:s.e[t.name]},t))}h.propTypes={name:a.a.string.isRequired,nodeId:a.a.string}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"d",(function(){return v})),n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return E})),n.d(t,"e",(function(){return O})),n.d(t,"h",(function(){return S})),n.d(t,"f",(function(){return j})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return x}));var r=n(72),a=n.n(r),i=n(4),o=n(82),c=n(57),s=n(84),u=n(9),l=n(5),d=n(27);function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object.entries({dlqArn:{id:"dlq",checker:function(e){return!!e}},envVars:{id:"envVars",checker:function(e){return(null==e?void 0:e.length)>0}},kmsKeyArn:{id:"kms",checker:function(e){return!!e}},layers:{id:"layers",checker:function(e){return(null==e?void 0:e.length)>0}},reservedConcurrentExecutions:{id:"concurrency",checker:function(e){return!!e}},subnetIds:{id:"vpc",checker:function(e){return(null==e?void 0:e.length)>0}},tags:{id:"tags",checker:function(e){var t;return(null==e?void 0:null===(t=e.userTags)||void 0===t?void 0:t.length)>0}},tracer:{id:"xray",checker:function(e){return!!e}}}).forEach((function(n){var r=g(n,2),a=r[0],i=r[1],o=i.id;(0,i.checker)(e[a])&&l.logEvent(l.EVENT_NAMES.FEATURE_USED(o,t))}))}function v(e,t,n){var r=e.set("tags",t).set("codeFetchDate",n).set("roleSelectionType","existing").set("roleName","");if(r.get("envVars")){var a=r.get("envVars").reduce((function(e,t,n){return e.push(new c.b({key:n,value:t}))}),Object(i.List)()).sortBy((function(e){return e.get("key")}));r=r.set("envVars",a)}else r=r.set("envVars",Object(i.List)());if((r=(r=r.set("concurrencyPoolType",null!==r.get("reservedConcurrentExecutions")?o.a.RESERVED:o.a.UNRESERVED)).set("tracer",r.get("tracerMode")===u.s.enabled)).get("dlqArn")){var s=r.get("dlqArn").split(":");r=r.set("dlq",s[2])}else r=(r=r.set("dlqArn","")).set("dlq","None");r=r.set("kmsKeyArn",r.get("kmsKeyArn")||"");var p=Object(d.x)(r.get("runtime"),r.get("codeSize"))?"inline":"upload";return r=r.set("codeSource",p),u.f.includes("layette")&&(r=r.set("layers",(r.get("layers")||Object(i.List)()).map((function(e){return e.get("arn")})))),r.get("alias")&&(r=r.update("alias",(function(e){var t=e,n=t.get("additionalVersionWeights");if(n){var r=g(Object.entries(n.toJS())[0],2),a=r[0],o=r[1];t=(t=t.set("additionalVersionWeight",Object(i.Map)({version:a,weight:Math.round(100*o)}))).remove("additionalVersionWeights")}return t}))),function(e,t){var n=e.get("codeSize");l.logEventWithValue(l.EVENT_NAMES.CODE_SIZE(e.get("runtime")),n,"byte"),l.logEvent(l.EVENT_NAMES.CODE_SOURCE(t))}(e,p),y(r.toJS()),r}function h(e){var t,n=e.get("data");u.f.includes("triscuit")&&(t=n.get("tracer")?u.s.enabled:u.s.disabled);var r=Object(s.c)(n.toJS()),a=m({functionName:n.get("name"),description:n.get("description"),runtime:n.get("runtime"),handler:n.get("handler"),memory:n.get("memory"),timeout:n.get("timeout"),vpcId:n.get("vpcId"),subnetIds:n.get("subnetIds")&&n.get("subnetIds").toJS(),securityGroupIds:n.get("securityGroupIds")&&n.get("securityGroupIds").toJS(),tracerMode:t,needsTracerPermissions:n.get("needsTracerPermissions"),dlqArn:n.get("dlqArn"),envVars:Object(i.Map)(n.get("envVars",Object(i.List)()).map((function(e){return[e.key,e.value]}))).toJS(),kmsKeyArn:n.get("kmsKeyArn")||""},r);return u.f.includes("layette")&&(a.layers=n.get("layers")),a}function E(e){var t=e.get("data"),n={functionName:t.get("name"),codeSource:t.get("codeSource")};return m({},n,"upload"===n.codeSource?{upload:t.get("upload")}:"s3"===n.codeSource?{s3:t.get("s3")?t.get("s3").trim():t.get("s3")}:{cloud9RawZip:t.get("cloud9RawZip")})}function O(e){return e.getIn(["data","tags","userTags"],Object(i.Map)()).toJS()}function S(e){var t=e.get("data");return{functionName:t.get("name"),concurrencyPoolType:t.get("concurrencyPoolType"),concurrency:t.get("reservedConcurrentExecutions")}}function j(e){var t=e.getIn(["data","alias"]);if(!t)return t;var n=m({},t.toJS(),{alias:t.get("name"),functionName:e.getIn(["data","name"])}),r=n.additionalVersionWeight;if(r&&r.version){var a=b({},r.version,(r.weight||0)/100);delete n.additionalVersionWeight,n.additionalVersionWeights=a}return n}function T(e){var t=e.codeSource,n=e.cloud9RawZip,r=e.upload,a=e.s3,i=p(e,["codeSource","cloud9RawZip","upload","s3"]);return"inline"===t&&n?m({codeSource:t,cloud9RawZip:n},i):"upload"===t&&r?m({codeSource:t,upload:r},i):"s3"===t&&a?m({codeSource:t,s3:a},i):i}function x(e,t){return u.f.includes("teletubby")&&!a()(O(e),O(t))||!a()(T(E(e)),T(E(t)))||!a()(h(e),h(t))||!a()(j(e),j(t))||!a()(S(e),S(t))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function e(t){return t.reduce((function(t,n){return t.concat(Array.isArray(n)?e(n):n)}),[])},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Array.isArray(t)?this.config=t:this.config=[t]}var t,n,o;return t=e,(n=[{key:"_getPage",value:regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetch(n);case 2:return r=e.sent,e.abrupt("return",{list:t.getPage(r)[Symbol.iterator](),token:t.getToken(r)});case 4:case"end":return e.stop()}}),e)}))},{key:"_runWrapper",value:regeneratorRuntime.mark((function e(t){var n,a,i,o,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.call)([this,this._getPage],t);case 2:n=e.sent,a=0,i=[],o=[];case 6:if(!(this.max&&a>=this.max)){e.next=9;break}return e.abrupt("return",o);case 9:if(c=n.list.next(),s=c.done,u=c.value,s){e.next=16;break}a++,l=this.mapRule?{original:u,mapped:this.mapRule(u)}:u,this.filterRule&&!this.filterRule(l)||(i.push(l),o.push(l)),e.next=25;break;case 16:if(!this.onPageDoneHandler){e.next=19;break}return e.next=19,Object(r.put)(this.onPageDoneHandler(i));case 19:if(i=[],n.token){e.next=22;break}return e.abrupt("return",o);case 22:return e.next=24,Object(r.call)([this,this._getPage],t,n.token);case 24:n=e.sent;case 25:e.next=6;break;case 27:case"end":return e.stop()}}),e,this)}))},{key:"_run",value:regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.max||this.noLimit){e.next=2;break}throw new Error("You must explicitly specify a pagination limit using take() or takeAll()");case 2:return e.next=4,Object(r.all)(this.config.map((function(e){return n._runWrapper(e)})));case 4:return t=e.sent,e.abrupt("return",i(t));case 6:case"end":return e.stop()}}),e,this)}))},{key:"filter",value:function(e){return this.filterRule=e,this}},{key:"map",value:function(e){return this.mapRule=e,this}},{key:"onPageDone",value:function(e){return this.onPageDoneHandler=e,this}},{key:"take",value:function(e){return this.max=e,this.noLimit=!1,this}},{key:"takeAll",value:function(){return this.max=void 0,this.noLimit=!0,this}},{key:"run",value:function(){return Object(r.call)([this,this._run])}}])&&a(t.prototype,n),o&&a(t,o),e}()},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s}));var r=n(15);function a(e){return{type:r.j.USER_PREF_MERGE_STATE,name:"user",content:e}}function i(e){return{type:r.j.USER_PREF_SET_STATE,name:"user",content:e}}function o(e){return{type:r.j.USER_PREF_SET_PREF,name:"user",content:e}}function c(){return{type:r.j.REFRESH_SETTINGS}}function s(e){return{type:r.j.REFRESH_SETTINGS_COMPLETE,settings:e}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={RESERVED:"reserved",UNRESERVED:"unreserved"}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n(7),a=n(9);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="The role defined for the function cannot be assumed by Lambda";function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(e.substring(0,50),"-role-").concat(t)}function l(e){var t=e.roleSelectionType,n="existing"===t?function(e){var t={};return e.tracer&&e.needsTracerPermissions&&(t={roleTemplates:[a.t]}),o({existingRole:e.role||e.existingRole,roleType:"Lambda"},t)}(e):function(e){var t={},n="basic"===e.roleSelectionType,i=n?[]:e.roleTemplates;i=(i||[]).map(JSON.parse.bind(JSON)),e.vpcId&&"_novpc"!==e.vpcId&&i.push(a.u),e.tracer&&i.push(a.t);var c=e.dlqArn;if(c){var s,l=new r.b(c);"sns"===l.service?(s=a.d,t.topicName=l.resource):(s=a.e,t.queueName=l.resource),i.push(s)}var d=i.some((function(e){return"Edge"===e.id}))?"Edge":"Lambda";return i=i.filter((function(e){return"Edge"!==e.id})),o({roleName:n?u(e.name,e.sessionId):e.roleName,roleTemplates:i,roleType:d},t)}(e);return o({functionName:e.name,roleSelectionType:"basic"===t?"template":t},n)}},function(e,t,n){"use strict";n.d(t,"f",(function(){return E})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return T})),n.d(t,"c",(function(){return x}));var r=n(2),a=n(32),i=n(11),o=n(14),c=n(92),s=n(7),u=n(48),l=n(5),d=n(230),p=regeneratorRuntime.mark(h),f=regeneratorRuntime.mark(E),m=regeneratorRuntime.mark(O),b=regeneratorRuntime.mark(S),g=regeneratorRuntime.mark(j),y=regeneratorRuntime.mark(T),v=regeneratorRuntime.mark(x);function h(e){var t,n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(r.select)(d.b);case 2:return t=a.sent,n=t.map((function(e){return e.get("version")})).filter((function(t){return t.toString()!==e.version.toString()})).max(),a.abrupt("return",n?"/layers/".concat(e.layerName,"/versions/").concat(n):"/layers");case 5:case"end":return a.stop()}}),p)}function E(e,t){var n,c,s;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return n=e.layerName,u.prev=1,u.next=4,Object(r.call)(i.a.publishLayerVersion,e);case 4:return c=u.sent,s=c.body.Version,Object(l.logEvent)(l.EVENT_NAMES.LAYERS_CREATE_PUBLISH,!0),u.next=9,Object(r.put)(Object(o.c)({type:"success",key:"created",message:{id:"layerDetail.new.alert.publishSuccess",values:{layerName:n,version:s}},scope:"viewLayer"}));case 9:return u.next=11,Object(r.put)(Object(a.h)("/layers/".concat(n,"/versions/").concat(s)));case 11:u.next=18;break;case 13:return u.prev=13,u.t0=u.catch(1),Object(l.logEvent)(l.EVENT_NAMES.LAYERS_CREATE_PUBLISH,!1),u.next=18,Object(r.put)(Object(o.d)({message:{id:"layerDetail.version.errors.publishLayerVersion.failure",values:{error:u.t0.message}},scope:t}));case 18:return u.prev=18,Object(l.logEvent)(l.EVENT_NAMES.LAYERS_CREATE_PUBLISH),u.finish(18);case 21:case"end":return u.stop()}}),f,null,[[1,13,18,21]])}function O(e){var t,n,s,u;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(t=e.name,n=e.version,s=parseInt(n,10),!isNaN(s)){d.next=4;break}return d.abrupt("return");case 4:return d.prev=4,d.next=7,Object(r.put)(Object(c.c)(!0));case 7:return d.next=9,Object(r.call)(i.a.deleteLayerVersion,{layerName:t,versionNumber:s});case 9:return Object(l.logEvent)(l.EVENT_NAMES.LAYERS_DETAIL_DELETE,!0),d.next=12,Object(r.call)(h,{layerName:t,version:n});case 12:return u=d.sent,d.next=15,Object(r.put)(Object(o.c)({type:"success",key:"delete",message:{id:"modal.delete.alert.success.layerVersion",values:{layerName:t,version:n}},scope:"/layers"===u?"listLayers":"viewLayer"}));case 15:return d.next=17,Object(r.put)(Object(a.h)(u));case 17:d.next=24;break;case 19:return d.prev=19,d.t0=d.catch(4),Object(l.logEvent)(l.EVENT_NAMES.LAYERS_DETAIL_DELETE,!1),d.next=24,Object(r.put)(Object(o.d)({message:{id:"error.frontend.deleteModal.failure.layerVersion",values:{error:d.t0.message}},scope:"viewLayer"}));case 24:return d.prev=24,Object(l.logEvent)(l.EVENT_NAMES.LAYERS_DETAIL_DELETE),d.next=28,Object(r.put)(Object(c.c)(!1));case 28:return d.next=30,Object(r.put)(Object(a.h)({query:{deleteModal:void 0}},{persistQuery:!0}));case 30:return d.finish(24);case 31:case"end":return d.stop()}}),m,null,[[4,19,24,31]])}function S(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.h)().run();case 2:return e=t.sent,t.next=5,Object(r.put)(Object(c.e)(e||[]));case 5:case"end":return t.stop()}}),b)}function j(e){var t,n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.layerName,a.next=3,Object(r.put)(Object(c.d)([]));case 3:return a.next=5,Object(u.g)(t).run();case 5:return n=a.sent,a.next=8,Object(r.put)(Object(c.d)(n||[]));case 8:case"end":return a.stop()}}),g)}function T(){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(r.call)(i.a.listAwsVendedLayers);case 2:return e=n.sent,t=e.body,n.next=6,Object(r.put)(Object(c.b)(Object(s.V)(t).layers||[]));case 6:case"end":return n.stop()}}),y)}function x(e){var t,n,a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.layerArn,o.next=3,Object(r.put)(Object(c.d)([]));case 3:return o.next=5,Object(r.call)(i.a.listAwsVendedLayerVersions,{layerArn:t});case 5:return n=o.sent,a=n.body,o.next=9,Object(r.put)(Object(c.d)(Object(s.V)(a).layerVersions||[]));case 9:case"end":return o.stop()}}),v)}},function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(13),s=n(31),u=n(237);function l(e){var t=e.children,n=e.breadcrumbs,r=e.id,a=e.loading?o.a.createElement(s.a,null):t;return o.a.createElement(u.a,{breadcrumbs:n},o.a.createElement("div",{id:"lambda-".concat(r),className:"lambda-page-container"},a))}l.propTypes={children:a.a.node.isRequired,breadcrumbs:a.a.node,id:a.a.string.isRequired,loading:a.a.bool.isRequired};t.a=Object(c.connect)((function(e,t){return{loading:e.pages[t.id].get("loading")}}))(l)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"n",(function(){return b})),n.d(t,"o",(function(){return g})),n.d(t,"q",(function(){return y})),n.d(t,"r",(function(){return v})),n.d(t,"p",(function(){return h})),n.d(t,"u",(function(){return E})),n.d(t,"v",(function(){return O})),n.d(t,"d",(function(){return S})),n.d(t,"y",(function(){return j})),n.d(t,"b",(function(){return x})),n.d(t,"l",(function(){return _})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return R})),n.d(t,"s",(function(){return A})),n.d(t,"t",(function(){return I})),n.d(t,"k",(function(){return k})),n.d(t,"x",(function(){return P})),n.d(t,"w",(function(){return D})),n.d(t,"f",(function(){return M})),n.d(t,"g",(function(){return L})),n.d(t,"z",(function(){return F})),n.d(t,"A",(function(){return q})),n.d(t,"B",(function(){return V})),n.d(t,"C",(function(){return U}));var r=n(4),a=n(16),i=n(35),o=n(121),c=n(29);function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=Object(r.Map)({modals:Object(r.Map)(),stackInfo:Object(r.Map)(),appDeployments:Object(r.Map)({error:null,items:[],loading:!1,nextToken:null}),projectInfo:Object(r.fromJS)({projectStackInfo:{},pipelineState:{},repository:null,repositoryType:null}),loadingApp:!1,loadingPipeline:!1});function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a.SET_MODAL:return e.setIn(["modals",t.modalType,"isOpen"],t.modalState);case i.a.CHANGE_TAB:return e.set("tab",t.tab);case i.a.GET_APP_DEPLOYMENTS:var n=e;return void 0===t.nextToken&&(n=n.setIn(["appDeployments","items"],[])),n.update("appDeployments",(function(e){return e.set("error",null).set("loading",!0).set("nextToken",null)}));case i.a.GET_APP_DEPLOYMENTS_DONE:return e.update("appDeployments",(function(e){return e.update("items",(function(e){return e.concat(t.appDeployments)})).set("error",null).set("loading",!1).set("nextToken",t.nextToken)}));case i.a.GET_APP_DEPLOYMENTS_ERROR:return e.setIn(["appDeployments","error"],t.error).setIn(["appDeployments","loading"],!1);case i.a.SET_APP_INFO:return e.set("stackInfo",Object(r.fromJS)(t.stackInfo));case i.a.SET_APP_LOADING_STATUS:return e.set("loadingApp",t.loading);case i.a.SET_PERMISSIONS_INFO:return e.set("permissionsInfo",Object(r.fromJS)(t.permissionsInfo));case i.a.SET_PIPELINE_LOADING_STATUS:return e.set("loadingPipeline",t.loading);case i.a.SET_PROJECT_INFO:return e.setIn(["projectInfo",t.item],Object(r.fromJS)(t.info));case i.a.UPDATE_APP_RESOURCE:return e.updateIn(["stackInfo","resources"],(function(e){var n=e.findIndex((function(e){return e.get("physicalResourceId")===t.physicalResourceId}));return n<0?e:e.setIn([n].concat(t.pathArray),t.value)}));default:return e}}var d=function(e){return e.pages.viewApplication},p=function(e){var t;return null===(t=Object(c.b)(e).params)||void 0===t?void 0:t.applicationName},f=function(e){var t;return null===(t=Object(c.b)(e).query)||void 0===t?void 0:t.projectId},m=function(e,t){return d(e).getIn(["modals",t,"isOpen"],!1)},b=Object(a.createSelector)(d,(function(e){return e.get("projectInfo")})),g=Object(a.createSelector)(d,(function(e){return e.getIn(["projectInfo","projectStackInfo","details"])})),y=Object(a.createSelector)(d,(function(e){return e.getIn(["projectInfo","projectStackInfo","resources"])||Object(r.List)()})),v=Object(a.createSelector)(g,(function(e){return null==e?void 0:e.get("stackStatus")})),h=Object(a.createSelector)(d,(function(e){return e.getIn(["projectInfo","projectStackInfo","links"])})),E=Object(a.createSelector)(d,(function(e){return e.getIn(["projectInfo","repository"])})),O=Object(a.createSelector)(d,(function(e){return e.getIn(["projectInfo","repositoryType"])})),S=Object(a.createSelector)(d,(function(e){return e.get("error")})),j=Object(a.createSelector)(d,(function(e){return e.getIn(["stackInfo","details"])})),T=Object(a.createSelector)(j,(function(e){return null==e?void 0:e.get("stackStatus")})),x={REQUIRES_UPDATE:"REQUIRES_UPDATE",CONTAINS_SUPPLEMENTARY:"CONTAINS_SUPPLEMENTARY",SUFFICIENT:"SUFFICIENT"},_=Object(a.createSelector)(d,(function(e){var t;return null===(t=e.getIn(["permissionsInfo","error"]))||void 0===t?void 0:t.toJS()})),w=Object(a.createSelector)(d,(function(e){return e.getIn(["permissionsInfo","policyArn"])})),R=Object(a.createSelector)(d,(function(e){return e.getIn(["permissionsInfo","policyDocument"],Object(r.Map)()).toJS()})),A=Object(a.createSelector)(d,(function(e){return e.getIn(["permissionsInfo","resourceList"],Object(r.List)()).toJS()})),I=function(e){return e.map((function(e){return Object(o.c)(e)})).reduce((function(e,t){return[].concat(s(e),s(t))}),[])},N=Object(a.createSelector)(R,(function(e){var t,n;return(null===(t=e.Statement)||void 0===t?void 0:null===(n=t.find((function(e){return 1===e.Action.length&&"*"===e.Action[0]&&"Allow"===e.Effect&&("*"!==e.Resource||e.Resource.length&&"*"!==e.Resource[0])&&void 0===e.Condition})))||void 0===n?void 0:n.Resource)||[]})),C=new Set(["AWS::ApiGateway::RestApi","AWS::Events::Rule","AWS::Lambda::EventSourceMapping"]),k=Object(a.createSelector)(A,N,(function(e,t){var n,r=(n=function(e){return e.filter((function(e){var t=e.resourceType;return!C.has(t)}))}(e),I(n)),a=new Set(t),i=Array.from(new Set(s(t.filter((function(e){return e.endsWith("*")})).map((function(e){return e.slice(0,-1)})))));return r.filter((function(e){if(a.has(e))return!1;for(var t=0;t<i.length;t++)if(e.startsWith(i[t]))return!1;return!0})).length?x.REQUIRES_UPDATE:x.SUFFICIENT})),P=Object(a.createSelector)(d,(function(e){return e.getIn(["stackInfo","resources"])||Object(r.List)()})),D=Object(a.createSelector)(d,(function(e){return e.getIn(["stackInfo","links"])})),M=Object(a.createSelector)(d,(function(e){return e.get("tab")})),L=Object(a.createSelector)(d,(function(e){return e.get("appDeployments").toJS()})),F=Object(a.createSelector)(d,(function(e){return e.get("loadingApp")})),q=Object(a.createSelector)(d,(function(e){return e.get("loadingPipeline")})),V=Object(a.createSelector)(T,(function(e){return!e||["REVIEW_IN_PROGRESS","CREATE_IN_PROGRESS"].includes(e)})),U=Object(a.createSelector)(g,(function(e){return!!(null==e?void 0:e.has("stackName"))}))},function(e,t,n){"use strict";t.a={MIN_LENGTH_APP_NAME:2,MAX_LENGTH_APP_NAME:20,MAX_LENGTH_APP_DESCRIPTION:1e3,MAX_LENGTH_REPO_NAME:100,PATTERN_NAME:/^[a-z][a-z0-9-]*$/,REPO_TYPE_CODECOMMIT:"codecommit",REPO_TYPE_GITHUB:"github",GITHUB_OAUTH_WINDOW_FEATURES:"resizable=yes,width=600,height=800"}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return H})),n.d(t,"c",(function(){return W})),n.d(t,"d",(function(){return J})),n.d(t,"g",(function(){return Q})),n.d(t,"e",(function(){return X})),n.d(t,"f",(function(){return $})),n.d(t,"i",(function(){return oe})),n.d(t,"h",(function(){return ce}));var r=n(0),a=n.n(r),i=n(4),o=n(3),c=n(32),s=n(2),u=n(16),l=n(14),d=n(235),p=n(17),f=n(66),m=n(128),b=n(7),g=n(11),y=n(48),v=n(9),h=n(5),E=n(40),O=n(27),S=regeneratorRuntime.mark(Z),j=regeneratorRuntime.mark(ee),T=regeneratorRuntime.mark(te),x=regeneratorRuntime.mark(ne),_=regeneratorRuntime.mark(re),w=regeneratorRuntime.mark(ae),R=regeneratorRuntime.mark(ie),A="listFunctions",I=Object(i.Map)({loadingFunctions:!1,deletingFunction:!1,functions:Object(i.OrderedMap)(),groups:Object(i.Set)(),selectedFunction:null,tableConfiguration:Object(i.Map)({contentSelection:["functionName","description","runtime","codeSize","lastModified"],pageSize:10,showReplicas:!1,sortingDescending:!0,wrapLines:!0})});function N(e){var t=e.get("masterArn")||null,n=t?"".concat(e.get("functionName"),":").concat(e.get("version")," (Replica)"):e.get("functionName");return Object(i.Map)({name:n,description:e.get("description"),runtime:Object(O.r)(e.get("runtime"))||e.get("runtime"),lastModified:e.get("lastModified"),arn:e.get("functionArn"),codeSize:e.get("codeSize"),memorySize:e.get("memorySize"),timeout:e.get("timeout"),tags:Object(i.List)(),masterArn:t,version:e.get("version")})}var C=function(e,t){var n=t.payload,r=Object(i.fromJS)(n.functions).map(N).toOrderedMap().mapKeys((function(e,t){return t.get("name")}));return e.set("functions",e.get("functions").concat(r))},k=function(e){return{type:Object(p.b)(A,"BATCH_LOADED"),payload:{functions:e},reducer:C}},P=function(e,t){var n=t.payload,r=Object(i.fromJS)(n.tags).groupBy((function(e){return e.get("resourceARN")})).map((function(e){return e.get(0)}));return e.set("functions",e.get("functions").map((function(e){return r.has(e.get("arn"))?e.set("tags",r.get(e.get("arn")).get("tags")):e}))).set("groups",n.tags.reduce((function(e,t){var n,r=null===(n=t.tags.find((function(e){return"lambda-console-group"===e.key})))||void 0===n?void 0:n.value;return r?e.add(r):e}),Object(i.Set)()))},D=function(e){return{type:Object(p.b)(A,"TAGS_BATCH_LOADED"),payload:{tags:e},reducer:P}},M=function(e,t){var n=t.payload;return e.set("deletingFunction",n.deleting)},L=function(e){return{type:Object(p.b)(A,"SET_IS_DELETING_FUNCTION"),payload:{deleting:e},reducer:M}},F=function(e,t){var n=t.payload,r=e.set("loadingFunctions",n.loading);return n.loading&&(r=r.set("functions",Object(i.OrderedMap)()).set("selectedFunction",null)),r},q=function(e){return{type:Object(p.b)(A,"SET_LOADING_FUNCTIONS"),payload:{loading:e},reducer:F}},V=function(e,t){var n=t.payload,r=e;return null!==r.get("selectedFunction")&&(r=r.setIn(["functions",r.get("selectedFunction"),"isSelected"],!1).set("selectedFunction",null)),Object(b.R)(n.name)?r:r.setIn(["functions",n.name,"isSelected"],!0).set("selectedFunction",n.name)},U=function(e,t){var n=t.payload;return e.mergeIn(["tableConfiguration"],n.configuration)},G=function(e){return{type:Object(p.b)(A,"SET_TABLE_CONFIGURATION"),payload:{configuration:e},reducer:U}},B=function(e){var t=e;if(!t.get("selectedFunction"))return t;var n=t.get("functions"),r=t.get("selectedFunction"),a=n.filter((function(e){return e.get("name")!==r}));return t=t.set("functions",a).set("selectedFunction",null)},z=function(){return{type:Object(p.b)(A,"DELETE_FUNCTION_COMPLETE"),reducer:B}},H=function(e,t){return{type:Object(p.b)(A,"ADD_TO_GROUP"),group:e,functionName:t}},W=function(e){return{type:Object(p.b)(A,"DELETE_FUNCTION"),functionName:e}},K=function(){return{type:Object(p.b)(A,"LOAD_FUNCTIONS")}},Y=function(e){return e.pages[A]},J=Object(u.createSelector)(Y,(function(e){return e.get("groups")})),Q=Object(u.createSelector)(Y,(function(e){return e.get("selectedFunction")||""})),X=Object(u.createSelector)(Y,Q,(function(e,t){var n;return(null===(n=e.getIn(["functions",t,"tags"],Object(i.List)()).find((function(e){return"lambda-console-group"===e.get("key")})))||void 0===n?void 0:n.get("value"))||null})),$=Object(u.createSelector)(Y,(function(e){return e.get("deletingFunction")}));function Z(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.put)(Object(c.i)({query:{deleteModal:void 0}},{persistQuery:!0}));case 2:case"end":return e.stop()}}),S)}function ee(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(y.l)().take(1e4).onPageDone(D).run();case 3:t.next=15;break;case 5:if(t.prev=5,t.t0=t.catch(0),403!==t.t0.status){t.next=13;break}return e=a.a.createElement("span",null,a.a.createElement(o.FormattedMessage,{id:"search.failedToLoad"})," ",a.a.createElement(o.FormattedMessage,{id:"search.failedToLoadUnauthorized"})),t.next=11,Object(s.put)(Object(l.j)({scope:A,message:e,key:"tagging"}));case 11:t.next=15;break;case 13:return t.next=15,Object(s.put)(Object(l.j)({scope:A,message:{id:"search.failedToLoad"},key:"tagging"}));case 15:case"end":return t.stop()}}),j,null,[[0,5]])}function te(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(y.e)(e).filter((function(e){var t=e.runtime;return t&&!t.toLowerCase().startsWith("arn:aws:greengrass:::runtime/function")})).onPageDone(k).run();case 3:t.next=11;break;case 5:if(t.prev=5,t.t0=t.catch(0),Object(m.a)(t.t0,"lambda:ListFunctions")||Object(h.reportError)("clientSideFuncListError",{message:t.t0.message,error:t.t0}),e.masterRegion){t.next=11;break}return t.next=11,Object(s.put)(Object(l.d)({scope:A,message:t.t0.message,key:"errorListing"}));case 11:case"end":return t.stop()}}),T,null,[[0,5]])}function ne(){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.put)(q(!0));case 2:return Object(h.startCustomTimer)(h.EVENT_NAMES.FUNCTION_LOAD),n.next=5,Object(s.fork)(te,{});case 5:return e=n.sent,n.next=8,Object(s.fork)(te,{masterRegion:"ALL",functionVersion:"ALL"});case 8:if(t=n.sent,!e){n.next=12;break}return n.next=12,Object(s.join)(e);case 12:if(!t){n.next=15;break}return n.next=15,Object(s.join)(t);case 15:if(!v.f.includes("tag-search")){n.next=18;break}return n.next=18,ee();case 18:return Object(h.stopCustomTimer)(h.EVENT_NAMES.FUNCTION_LOAD),n.next=21,Object(s.put)(q(!1));case 21:case"end":return n.stop()}}),x)}function re(){var e,t,n,r,a,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return E.i("throttleWarning"),c.next=3,Object(s.call)(E.d,"motd");case 3:if(c.sent){c.next=7;break}return c.next=7,Object(s.spawn)(d.b);case 7:return c.next=9,Object(s.call)(E.b,"lambda-functionList-configuration");case 9:if(!(e=c.sent)){c.next=13;break}return c.next=13,Object(s.put)(G(Object(i.Map)(e)));case 13:return c.next=15,Object(s.select)(f.g);case 15:if(!(t=c.sent)){c.next=20;break}return c.next=19,Object(s.put)(Object(l.d)({scope:A,message:t}));case 19:return c.abrupt("return",!1);case 20:return c.next=22,Object(s.select)(f.f);case 22:return n=c.sent,c.next=25,Object(s.spawn)(ne);case 25:if(r=n.getIn(["accountLimit","totalCodeSize"]),a=n.getIn(["accountUsage","totalCodeSize"]),!(a>r)){c.next=32;break}return o=Object(b.m)(r),c.next=32,Object(s.put)(Object(l.j)({scope:A,message:{id:"functions.limit.codestorage",values:{storageLimit:o}}}));case 32:return c.abrupt("return",!0);case 33:case"end":return c.stop()}}),_)}function ae(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(null==e?void 0:e.functionName)){n.next=15;break}return t=Object(b.G)(e.functionName),n.next=5,Object(s.put)(L(!0));case 5:return n.next=7,Object(s.call)(g.a.deleteFunction,{functionName:e.functionName});case 7:return n.next=9,Object(s.call)(E.a,t);case 9:return n.next=11,Object(s.call)(b.o,t);case 11:return n.next=13,Object(s.put)(Object(l.h)({scope:A,key:"delete",message:{id:"modal.delete.alert.success.func",values:{functionName:e.functionName}}}));case 13:return n.next=15,Object(s.put)(z());case 15:n.next=21;break;case 17:return n.prev=17,n.t0=n.catch(0),n.next=21,Object(s.put)(Object(l.d)({scope:A,message:{id:"error.frontend.deleteModal.failure.func",values:{error:n.t0.message}}}));case 21:return n.prev=21,n.next=24,Object(s.put)(L(!1));case 24:return n.next=26,Object(s.put)(Object(c.h)({query:{deleteModal:void 0}},{persistQuery:!0}));case 26:return n.finish(21);case 27:case"end":return n.stop()}}),w,null,[[0,17,21,27]])}function ie(e){var t,n,r,a,i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.functionName,n=e.group,r=b.e.fromFunctionName(t),a=r.arn,i={scope:A,key:"lambda-console-group"},o.prev=3,!n){o.next=10;break}return o.next=7,Object(s.call)(g.a.addTags,{resource:a,tags:{"lambda-console-group":n}});case 7:i.message={id:"group.alert.success.add",values:{functionName:t,group:n}},o.next=13;break;case 10:return o.next=12,Object(s.call)(g.a.deleteTags,{resource:a,tagKeys:["lambda-console-group"]});case 12:i.message={id:"group.alert.success.remove",values:{functionName:t}};case 13:return o.next=15,Object(s.put)(Object(l.h)(i));case 15:return o.next=17,Object(s.put)(Object(c.h)({query:{groupModal:void 0}},{persistQuery:!0}));case 17:return o.next=19,Object(s.put)(K());case 19:o.next=25;break;case 21:return o.prev=21,o.t0=o.catch(3),o.next=25,Object(s.put)(Object(l.d)({scope:"function-group",message:{id:"group.alert.failure",values:{functionName:t,error:o.t0.message}}}));case 25:case"end":return o.stop()}}),R,null,[[3,21]])}var oe=function(e){var t=Y(e),n=Object(f.f)(e),r=n.getIn(["accountUsage","functionCount"]),a=n.getIn(["accountUsage","totalCodeSize"])>n.getIn(["accountLimit","totalCodeSize"]);return{funcCount:r,functions:t.get("functions"),hasErrors:!!t.get("error"),loadingFunctions:t.get("loadingFunctions"),overLimit:a,selectedFunction:t.getIn(["functions",t.get("selectedFunction")]),tableConfiguration:t.get("tableConfiguration")}},ce=function(e){return{loadFunctions:function(){return e(K())},setSelectedFunction:function(t){return e(function(e){return{type:Object(p.b)(A,"SET_SELECTED_FUNCTION"),payload:{name:e},reducer:V}}(t))},setTableConfiguration:function(t){return e(G(t))}}},se=new p.a({id:A,initialState:I,init:re,load:Z,hasHelpContent:!0,resetStateOnInit:!0,watchers:[{matcher:Object(p.b)(A,"ADD_TO_GROUP"),task:ie},{matcher:Object(p.b)(A,"DELETE_FUNCTION"),task:ae},{matcher:Object(p.b)(A,"LOAD_FUNCTIONS"),task:ne,latest:!0}]});t.b=se},function(e,t,n){"use strict";n.d(t,"e",(function(){return A})),n.d(t,"g",(function(){return I})),n.d(t,"f",(function(){return N})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return D}));var r=n(4),a=n(2),i=n(10),o=n(24),c=n(129),s=n(8),u=n(20),l=n(15),d=n(14),p=n(50),f=n(39),m=n(7),b=n(21),g=n(5),y=n(9),v=n(27),h=n(98);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function j(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var T=regeneratorRuntime.mark(A),x=regeneratorRuntime.mark(N),_=regeneratorRuntime.mark(P),w=regeneratorRuntime.mark(D),R={asyncPolicy:regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("save"!==n){e.next=3;break}return e.next=3,Object(a.put)(Object(i.j)(t,r));case 3:case"end":return e.stop()}}),e)})),destination:regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.f.includes("starfish")||"save"!==n){e.next=7;break}return o=r.get("destNode"),e.next=4,Object(a.put)(Object(i.b)(o));case 4:if(o.get("id").startsWith("stream")){e.next=7;break}return e.next=7,Object(a.put)(Object(i.j)(t,r.get("functionNodeUpdate")));case 7:case"end":return e.stop()}}),e)})),editPage:regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("save"!==n){e.next=3;break}return e.next=3,Object(a.put)(Object(i.w)(t,r));case 3:case"end":return e.stop()}}),e)})),layer:regeneratorRuntime.mark((function(e,t,n){var r,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!y.f.includes("layette")||"add"!==t){c.next=7;break}if(r=n.layer,(o=e.getIn(["data","layers"])).includes(r)){c.next=7;break}return o=o.push(r),c.next=7,Object(a.put)(Object(i.W)(o,e.get("id"),"layers"));case 7:case"end":return c.stop()}}),r)})),relation:regeneratorRuntime.mark((function e(t,n,r){var o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("add"!==n){e.next=13;break}return e.next=3,Object(a.select)(f.c.getThirdPartyNodes);case 3:return o=e.sent,e.next=6,Object(a.call)(c.b,r.relation,r.config,o);case 6:return s=e.sent,e.next=9,Object(a.put)(Object(i.a)(s,!0));case 9:return e.next=11,Object(a.put)(Object(i.v)(["resourcePolicySource","recommendationEngine"]));case 11:e.next=17;break;case 13:if("cancel"!==n||(null==r||!r.isLambdaAtEdge)){e.next=17;break}return Object(g.logEvent)(g.EVENT_NAMES.EDGE_MODAL_OPEN),e.next=17,Object(a.put)(Object(i.J)("lambdaAtEdge",!0));case 17:case"end":return e.stop()}}),e)})),elasticFileSystem:regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.put)(Object(i.w)(t,r));case 2:return e.next=4,Object(a.put)(Object(i.v)(["elasticFileSystemSource"]));case 4:case"end":return e.stop()}}),e)}))};function A(e,t,n){var r,i,o,c;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(r=null==e?void 0:e.get("name"),i=(null==t?void 0:t.qualifier)?"".concat(t.functionName,":").concat(null==t?void 0:t.qualifier):null==t?void 0:t.functionName,e&&i===r){s.next=4;break}return s.abrupt("return",!1);case 4:if(!n||n===t.type){s.next=6;break}return s.abrupt("return",!1);case 6:return o=t.result,c=t.data,s.next=9,Object(a.call)(R[t.type],e,o,c);case 9:return s.next=11,Object(a.call)(u.c);case 11:return s.abrupt("return",!0);case 12:case"end":return s.stop()}}),T)}var I={pollingFunctionStateSpawnTask:void 0};function N(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 3e3,t.next=3,Object(a.call)(m.db,3e3);case 3:if(!Object(u.p)(e)){t.next=6;break}return t.next=6,Object(a.put)(Object(i.v)(["functionSource","showFunctionDetailsFlashbar"]));case 6:case"end":return t.stop()}}),x)}function C(e,t,n,a,i){var o=r.Set.of.apply(r.Set,j(Object.entries(b.a).filter((function(r){return(0,S(r,2)[1])({state:e,stateReasonCode:t,lastUpdateStatus:n,previousCombinedStateSet:a,hasMessageIdCache:i})})).map((function(e){return S(e,1)[0]}))));return(0===o.size||1===o.size&&!o.intersect(b.u).isEmpty())&&(Object(g.logEventWithDetail)(g.EVENT_NAMES.V2N_ERROR_PARSE_STATE,{state:e,stateReasonCode:t,lastUpdateStatus:n}),o=o.add(b.i.ACTIVE)),o}function k(e,t,n,r,i,o){return e.filter((function(e){return e!==b.i.ACTIVE})).map((function(e){var c,s,d;b.m.includes(e)?c={flashBarType:"info",loading:!0,dismissible:!1}:b.p.includes(e)?c={flashBarType:"success",dismissible:!0}:e===b.i.CREATE_FAILED||e===b.i.UPDATE_FAILED?(c={flashBarType:"error",dismissible:!1},s=e===b.i.CREATE_FAILED?r:o,d=e===b.i.CREATE_FAILED?n:i):e===b.i.IDLE_MODE?c={flashBarType:"info",dismissible:!1,buttonText:{id:"functionDetail.flashBar.button.restore"},buttonClickActionType:l.h.functionDesigner.RESTORE_FUNCTION}:e===b.i.RESTORE_FAILED&&(c={flashBarType:"error",dismissible:!1,buttonText:{id:"functionDetail.flashBar.button.restore"},buttonClickActionType:l.h.functionDesigner.RESTORE_FUNCTION},s=r,d=n);var f=function(e,t,n,r){var a=e,i=r;if(e===b.i.CREATE_SUCCESS){var o=Object(u.n)(n);o?(a=o,Object(u.w)(n)):a=b.i.CREATE_SUCCESS}else e!==b.i.CREATE_FAILED&&e!==b.i.RESTORE_FAILED&&e!==b.i.UPDATE_FAILED||(b.k.has(t)?i={id:"functionDetail.flashBar.".concat(t)}:Object(g.logEventWithDetail)(g.EVENT_NAMES.V2N_ERROR_PARSE_STATE,{functionName:n,reasonCode:t}));return{messageId:"functionDetail.flashBar.".concat(a),errorMessage:i}}(e,d,t,s);return c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c,{content:{id:f.messageId,values:{functionName:t,message:f.errorMessage}}}),Object(a.put)(Object(p.b)(c))})).toArray()}function P(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I.pollingFunctionStateSpawnTask){e.next=4;break}return e.next=3,Object(a.cancel)(I.pollingFunctionStateSpawnTask);case 3:I.pollingFunctionStateSpawnTask=null;case 4:case"end":return e.stop()}}),_)}function D(e){var t,n,r,c,u,l;return regeneratorRuntime.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:if(t=e.encodedZip,n=e.nodeId,t){p.next=3;break}return p.abrupt("return");case 3:return p.next=5,Object(a.select)(s.M,n);case 5:return r=p.sent,p.next=8,Object(a.call)(h.e,t,!0);case 8:return c=p.sent,p.next=11,Object(a.put)(Object(i.W)(c,n,"unzippedPackage"));case 11:if(u=Object(o.b)(r,"runtime"),Object(v.w)(u)&&!Object(v.v)(u)){p.next=14;break}return p.abrupt("return");case 14:if(l=Object(v.k)(Object(o.b)(r,"handler"),u)){p.next=19;break}return p.next=18,Object(a.put)(Object(d.j)({key:"runtimeDeprecated",message:{id:"warning.frontend.runtime.deprecated",values:{language:u}},scope:"code-section"}));case 18:return p.abrupt("return");case 19:return p.next=21,Object(a.call)(h.d,c,l);case 21:if(!p.sent){p.next=27;break}return p.next=25,Object(a.put)(Object(d.g)("code-section"));case 25:p.next=29;break;case 27:return p.next=29,Object(a.put)(Object(d.e)({key:"wrongHandler",message:{id:"functionDesigner.wrongHandler",values:{fileName:l}},scope:"code-section"}));case 29:case"end":return p.stop()}}),w)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return s}));var r=n(15),a=function(e,t){return{type:r.g.DELETE_LAYER_VERSION,name:e,version:t}},i=function(e){return{type:r.g.AWS_VENDED_LAYERS_SET_STATE,layers:e}},o=function(e){return{type:r.g.SET_DELETE_LAYER_VERSION_STATUS,inProgress:e}},c=function(e){return{type:r.g.LAYERS_SET_STATE,layers:e}},s=function(e){return{type:r.g.LAYER_VERSION_SET_STATE,versions:e}}},,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(6),s=n(3),u=n(13),l=n(44),d=n(58),p=n(105),f=n(207),m=n(313),b=n.n(m),g=n(7),y=n(9);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T,x,_,w=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=O(this,S(t).call(this,e));var r=h(e.value.split("T"),2),a=r[0],i=r[1];return n.state={date:i?a:"",time:i?i.slice(0,-1):""},n.onChangeDebounced=Object(g.p)((function(t,r){var a=t||n.state.date,i=r||n.state.time||"00:00:00.000",o="".concat(a,"T").concat(i,"Z");Date.parse(o)?e.onChange(new Date(o).toISOString()):e.onChange(o)}),y.c),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.props.readonly||(this._picker=new b.a({field:this.refs.calendar.querySelector("#pikadayInput"),trigger:this.refs.calendar,onSelect:this.onDateChange.bind(this),defaultDate:this.state.date}),this._picker._o.field.removeEventListener("change",this._picker._onInputChange,!1))}},{key:"componentWillUnmount",value:function(){this._picker&&this._picker.destroy()}},{key:"onTimeChange",value:function(e){var t=e.target.component.value;this.setState({time:t}),this.onChangeDebounced(null,t)}},{key:"onDateChange",value:function(e){var t=e.target?e.target.component.value:new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())).toISOString().split("T")[0];this.setState({date:t}),this.onChangeDebounced(t,null)}},{key:"render",value:function(){return this.props.readonly?a.a.createElement("span",null,this.props.value):a.a.createElement("div",{className:"timestamp-field"},a.a.createElement("div",{ref:"calendar",className:"calendar-container"},a.a.createElement(c.Input,{controlId:"pikadayInput",placeholder:"2016-09-01",value:this.state.date,onInput:this.onDateChange.bind(this)}),a.a.createElement(c.Button,{icon:"calendar"})),a.a.createElement(c.Input,{className:"time-input",placeholder:"00:00:00.000",value:this.state.time,onInput:this.onTimeChange.bind(this)}))}}])&&E(n.prototype,r),i&&E(n,i),t}(a.a.Component);T=w,x="propTypes",_={value:d.b.timestamp.isRequired,onChange:o.a.func.isRequired,readonly:o.a.bool},x in T?Object.defineProperty(T,x,{value:_,enumerable:!0,configurable:!0,writable:!0}):T[x]=_;var R=n(65);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return r=this,a=(e=N(t)).call.apply(e,[this].concat(o)),n=!a||"object"!==A(a)&&"function"!=typeof a?C(r):a,P(C(n),"handleChange",(function(e){return n.props.onChange(parseInt(e.target.value,10))})),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:"range-slider"},this.props.readonly?null:a.a.createElement("input",{type:"range",min:this.props.min,max:this.props.max,value:this.props.value,step:this.props.step,onMouseUp:this.handleChange,onChange:this.handleChange}),a.a.createElement("span",{className:"".concat(this.props.readonly?"":"awsui-util-ml-m")},this.props.value," ",this.props.formLabel))}}])&&I(n.prototype,r),i&&I(n,i),t}(a.a.Component);P(D,"propTypes",{value:o.a.number.isRequired,min:o.a.number.isRequired,max:o.a.number.isRequired,step:o.a.number.isRequired,formLabel:o.a.string,onChange:o.a.func,readonly:o.a.bool});var M=n(27),L=n(33);function F(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),e}function H(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?K(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return ne}));var X=function(e){function t(){var e,n;G(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return Q(K(n=H(this,(e=W(t)).call.apply(e,[this].concat(a)))),"handleChange",(function(e){n.props.onChange(e.target.component.value)})),n}return Y(t,e),z(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.disabled,r=void 0!==n&&n,i=e.readonly,o=void 0!==i&&i,s=e.placeholder,u=void 0===s?"":s,l=e.onFocus;return o?a.a.createElement("span",null,t):a.a.createElement(c.Input,{value:t,disabled:r,placeholder:u,onInput:this.handleChange,onFocus:l})}}]),t}(a.a.Component);function $(e){var t=e.value,n=e.disabled,r=void 0!==n&&n,i=e.readonly,o=void 0!==i&&i,s=e.sideText,u=e.onChange;return a.a.createElement(c.Checkbox,{checked:t,disabled:r||o,onChange:function(e){return u(e.target.component.checked)},label:s})}function Z(e){var t=e.value,n=e.disabled,r=void 0!==n&&n,i=e.readonly,o=void 0!==i&&i,c=e.min,s=e.max,u=e.sideText,l=e.onChange;if(o)return a.a.createElement("span",null,t,u);return a.a.createElement("div",null,a.a.createElement("input",{type:"number",min:c,max:s,value:t,onChange:function(e){if(!r){var t=parseInt(e.target.value,10);isNaN(t)||(t<c?t=c:t>s&&(t=s),l(t))}},className:u?"hasSideText":null}),a.a.createElement("span",null,u))}Q(X,"propTypes",{value:d.b.text.isRequired,onChange:o.a.func.isRequired,disabled:o.a.bool,readonly:o.a.bool,placeholder:o.a.string,onFocus:o.a.func}),$.propTypes={value:d.b.checkbox.isRequired,onChange:o.a.func.isRequired,disabled:o.a.bool,readonly:o.a.bool,sideText:o.a.oneOfType([o.a.string,o.a.node])},Z.propTypes={value:d.b.number.isRequired,onChange:o.a.func.isRequired,disabled:o.a.bool,readonly:o.a.bool,min:o.a.number,max:o.a.number,sideText:o.a.string};var ee=function(e){function t(){return G(this,t),H(this,W(t).apply(this,arguments))}return Y(t,e),z(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.disabled,r=void 0!==n&&n,i=e.readonly,o=void 0!==i&&i,c=e.min,u=e.max,l=e.onChange,d=Math.floor(t/60),p=t%60;if(o)return a.a.createElement("span",null,a.a.createElement("span",{style:{paddingRight:5}},d),a.a.createElement(s.FormattedMessage,{id:"config.timeout.min.label"}),a.a.createElement("span",{style:{paddingLeft:5,paddingRight:5}},p),a.a.createElement(s.FormattedMessage,{id:"config.timeout.sec.label"}));var f=function(e,t){if(!r){var n=parseInt(e.target.value,10);if(!isNaN(n)){var a={min:60*n+p,sec:60*d+n}[t];l(Object(g.n)(a,c,u))}}},m=void 0!==u?Math.floor(u/60):void 0;return a.a.createElement("span",null,a.a.createElement("input",{style:{marginRight:5,width:72},type:"number",min:0,max:m,value:d,onChange:function(e){return f(e,"min")}}),a.a.createElement(s.FormattedMessage,{id:"config.timeout.min.label"}),a.a.createElement("input",{style:{marginLeft:10,marginRight:5,width:72},type:"number",min:0,max:59,value:p,onChange:function(e){return f(e,"sec")}}),a.a.createElement(s.FormattedMessage,{id:"config.timeout.sec.label"}))}}]),t}(a.a.Component);Q(ee,"propTypes",{value:d.b.duration.isRequired,onChange:o.a.func.isRequired,disabled:o.a.bool,readonly:o.a.bool,min:o.a.number,max:o.a.number});var te=function(e){function t(){return G(this,t),H(this,W(t).apply(this,arguments))}return Y(t,e),z(t,[{key:"handleChange",value:function(e){var t=e.target,n=t.files[0];t.value="",t.value&&(t.type="text",t.type="file"),this.props.onChange(n)}},{key:"render",value:function(){var e=this,t=this.props.value,n=t?"".concat(t.name," (").concat(Object(g.m)(t.size),")"):"";return a.a.createElement("div",null,a.a.createElement(c.Button,{className:"fileUpload",icon:"upload",onClick:function(){return e.fileInput.click()}},a.a.createElement(s.FormattedMessage,{id:"config.code.upload.label"}),a.a.createElement("input",{ref:function(t){return e.fileInput=t},type:"file",name:"file",id:"fileupload",className:"upload",onChange:this.handleChange.bind(this)})),a.a.createElement("span",null,n))}}]),t}(a.a.Component);Q(te,"propTypes",{value:d.b.file,onChange:o.a.func.isRequired});var ne={button:c.Button,text:X,select:f.a,code:p.a,checkbox:$,number:Z,duration:ee,file:te,timestamp:w,range:D},re=function(e){function t(e,n){var r;return G(this,t),(r=H(this,W(t).call(this,e,n))).state={},r}return Y(t,e),z(t,[{key:"componentDidMount",value:function(){this.props.setFieldValue(this.props.value)}},{key:"onFieldChange",value:function(e){var t=this.props.value,n=this.props.preprocess?this.props.preprocess(e):e;this.props.setFieldValue(n),this.props.validateFieldValue(),this.props.extraOnChange&&this.props.extraOnChange(n,t)}},{key:"shouldShowFreeFormText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return"select"===e.type&&!e.enum&&!e.readonly}},{key:"render",value:function(){var e=this.props,t=e.type,n=V(e,["type"]),r=ne[t];if("code"===t){var i=this.props,o=i.value,s=i.validation;return a.a.createElement(c.FormField,{stretch:!0,errorText:s},a.a.createElement(p.a,q({},n,{value:o,onChange:this.onFieldChange.bind(this)})))}var u=n.label,l=n.subtext,d=n.tooltip,f=n.warning,m=n.error,b=n.required,g=n.secondaryControl,y=V(n,["label","subtext","tooltip","warning","error","required","secondaryControl"]),v=this.props.validation,h=m||v||f,E={label:u?a.a.createElement("span",null,a.a.createElement("span",null,b?"".concat(u,"*"):u),n.infoText?a.a.createElement(R.a,{message:n.infoText}):null):null,hintText:l,description:d,errorText:h,className:"".concat(n.id.replace(/\./g,"-"),"-field"),secondaryControl:g,stretch:"range"===t};return this.shouldShowFreeFormText()&&(y.allowManualValues=!0),a.a.createElement(c.FormField,E,a.a.createElement(r,q({},y,{value:this.props.value,onChange:this.onFieldChange.bind(this)})))}}]),t}(a.a.Component);Q(re,"propTypes",{type:o.a.oneOf(d.d).isRequired,id:o.a.string.isRequired,defaultValue:o.a.oneOfType(Object.values(d.b)),disabled:o.a.bool,readonly:o.a.bool,schema:o.a.instanceOf(L.c),items:o.a.arrayOf(d.c),multi:o.a.bool,enum:o.a.bool,searchable:o.a.bool,placeholder:o.a.string,label:o.a.string,subtext:o.a.node,tooltip:o.a.node,toolbar:o.a.bool,mode:o.a.oneOf(M.b),min:o.a.number,max:o.a.number,sideText:o.a.oneOfType([o.a.string,o.a.node]),warning:o.a.oneOfType([o.a.string,o.a.object]),error:o.a.string,required:o.a.bool,extraOnChange:o.a.func,preprocess:o.a.func,infoText:o.a.node,secondaryControl:o.a.node,onFocus:o.a.func,value:o.a.oneOfType(Object.values(d.b)),validation:o.a.string,setFieldValue:o.a.func.isRequired,validateFieldValue:o.a.func.isRequired});t.a=Object(u.connect)((function(e,t){var n=t.id.split("."),r=void 0===t.defaultValue?d.a[t.type]:t.defaultValue,a=e.formFields.getIn(["fields"].concat(F(n)));void 0===a&&(a=r);var i=e.formFields.getIn(["validation"].concat(F(n)));return{value:a,validation:null==i?void 0:i.flatten().get("message")}}),(function(e,t){return{setFieldValue:function(n){return e(Object(l.c)(t.id,n))},validateFieldValue:function(){t.schema&&e(Object(l.e)(t.id,t.schema))}}}))(re)},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return h}));var r=n(89),a=n.n(r),i=n(7);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,c,"next",e)}function c(e){u(i,r,a,o,c,"throw",e)}o(void 0)}))}}var d={compression:"DEFLATE",platform:"UNIX"};function p(e){return f.apply(this,arguments)}function f(){return(f=l(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.a){e.next=3;break}throw c({},new Error,{message:{id:"error.browser"}});case 3:return e.prev=3,e.next=6,t();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(3),c({},e.t0,{message:{id:"error.invalidCodePackage"}});case 13:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}var m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return p(l(regeneratorRuntime.mark((function s(){var u,l,p,f;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(u=new a.a,!Object(i.R)(t)){s.next=4;break}return u.file(r,e),s.abrupt("return",u.generateAsync(c({type:"blob"},d,{},o)));case 4:return s.next=6,u.loadAsync(t,{base64:n});case 6:return l=s.sent,p=l.file(r),f=p&&c({},p.options,{comment:p.comment,unixPermissions:p.unixPermissions}),l.file(r,e,f),s.abrupt("return",l.generateAsync(c({type:"blob"},d,{},o)));case 11:case"end":return s.stop()}}),s)}))))},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return p(l(regeneratorRuntime.mark((function r(){var i,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&n){r.next=2;break}return r.abrupt("return",null);case 2:return i=null,o=new a.a,r.next=6,o.loadAsync(e,{base64:t});case 6:if(!((c=r.sent)&&n in c.files)){r.next=11;break}return r.next=10,c.file(n).async("string");case 10:i=r.sent;case 11:return r.abrupt("return",i);case 12:case"end":return r.stop()}}),r)}))))},g=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return p(l(regeneratorRuntime.mark((function r(){var i,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return",!1);case 2:if(a.a){r.next=5;break}throw c({},new Error,{message:{id:"error.browser"}});case 5:return r.prev=5,i=new a.a,r.next=9,i.loadAsync(t,{base64:n});case 9:return o=r.sent,r.abrupt("return",e.Object.keys(o.files).length>1);case 13:throw r.prev=13,r.t0=r.catch(5),c({},r.t0,{message:{id:"error.invalidCodePackage"}});case 17:case"end":return r.stop()}}),r,null,[[5,13]])}))))};function y(e){return v.apply(this,arguments)}function v(){return(v=l(regeneratorRuntime.mark((function e(t){var n,r,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]&&s[1],t){e.next=3;break}return e.abrupt("return",null);case 3:if(a.a){e.next=6;break}throw c({},new Error,{message:{id:"error.browser"}});case 6:return r=t,i=null,e.prev=8,o=new a.a,e.next=12,o.loadAsync(r,{base64:n});case 12:i=e.sent,e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(8),c({},e.t0,{message:{id:"error.invalidCodePackage"}});case 19:return e.abrupt("return",i);case 20:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function h(e,t){return E.apply(this,arguments)}function E(){return(E=l(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n in t.files)){e.next=2;break}return e.abrupt("return",t.file(n).async("string"));case 2:return e.abrupt("return",null);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(37))},function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(2),i=n(0),o=n.n(i),c=n(1),s=n.n(c),u=n(6),l=n(3),d=n(13),p=n(25),f=n(23),m=n(28),b=n(7),g=n(48);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T={None:"none",sns:"editAsync.dlqOptions.sns",sqs:"editAsync.dlqOptions.sqs"},x=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=E(this,O(t).call(this,e,n))).getMessage=function(e){return n.intl.formatMessage({id:e})},r}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.dlq,r=t.showDlq,a=null,i=null;"sns"===n?(a=null,i=o.a.createElement(m.e,{id:"snsArn",fieldTextProps:["label"],description:o.a.createElement(l.FormattedMessage,{id:"editAsync.arn.field.description"}),paginator:Object(g.o)().map((function(e){var t=e.topicArn;return{id:t,label:new b.b(t).resource}})).take(1e3)},o.a.createElement(u.Select,{filteringType:"auto"}))):"sqs"===n&&(i=null,a=o.a.createElement(m.e,{id:"sqsArn",fieldTextProps:["label"],description:o.a.createElement(l.FormattedMessage,{id:"editAsync.arn.field.description"}),paginator:Object(g.j)().map((function(e){return{id:e.value,label:e.text}})).filter((function(e){return!e.original.value.endsWith(".fifo")}))},o.a.createElement(u.Select,{filteringType:"auto"})));var c=r?o.a.createElement(p.d,{header:o.a.createElement(l.FormattedMessage,{id:"editAsync.section.dlq.header"})},o.a.createElement(m.e,{id:"dlq",fieldTextProps:["label","description"],infoText:o.a.createElement(l.FormattedHTMLMessage,{tagName:"p",id:"editAsync.dlq.field.infoText"})},o.a.createElement(u.Select,{options:Object.entries(T).map((function(t){var n=v(t,2),r=n[0],a=n[1];return{id:r,label:e.getMessage(a)}}))})),i,a):null;return o.a.createElement(m.d,this.props.formProps,o.a.createElement(p.d,{header:o.a.createElement(l.FormattedMessage,{id:"editAsync.section.eventPolicy.header"})},o.a.createElement(m.e,{id:"maxEventAge",fieldTextProps:["label","description"],infoText:o.a.createElement(l.FormattedHTMLMessage,{tagName:"p",id:"editAsync.maxEventAge.field.infoText"})},o.a.createElement(m.b,{min:60,max:21600})),o.a.createElement(m.e,{id:"maxRetryAttempts",fieldTextProps:["label","description"]},o.a.createElement(u.Select,{options:["0","1","2"].map((function(e){return{id:e,label:e}}))}))),c)}}])&&h(n.prototype,r),a&&h(n,a),t}(o.a.Component);j(x,"propTypes",{formProps:s.a.object.isRequired,dlq:s.a.string,showDlq:s.a.bool}),j(x,"contextTypes",{intl:l.intlShape.isRequired});var _=Object(d.connect)((function(e){return{dlq:Object(f.c)(e,"editAsync","dlq"),showDlq:Object(f.c)(e,"editAsync","showDlq")}}))(x),w=n(21);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){return Object(g.c)(e).map((function(e){var t=e.eventSourceArn;return{id:e.uuid,label:new b.b(t).resource}})).filter((function(e){var t=e.original;return["kinesis","dynamodb"].includes(new b.b(t.eventSourceArn).service)}))},D=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=I(this,N(t).call(this,e,n))).getMessage=function(e){return n.intl.formatMessage({id:e})},r}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,e),n=t,(r=[{key:"getComponentForCreate",value:function(){var e=this.props,t=e.source,n=e.functionArn,r=[w.f,w.g].map((function(e){return{value:e,label:o.a.createElement(l.FormattedMessage,{id:"destination.source.".concat(e)})}})),a=null,i=w.e;t===w.g&&(a=o.a.createElement(m.e,{id:"esmId",fieldTextProps:["label","description"],paginator:P(n)},o.a.createElement(u.Select,{filteringType:"auto"})),i=[w.e[0]]);var c=i.map((function(e){return{value:e,label:o.a.createElement(l.FormattedMessage,{id:"destination.condition.".concat(e)})}}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.e,{id:"source",fieldTextProps:["label","description"],rawOnChange:this.props.setConditionValue},o.a.createElement(u.RadioGroup,{items:r})),a,o.a.createElement(m.e,{id:"condition",fieldTextProps:["label","description"]},o.a.createElement(u.RadioGroup,{items:c})),this.getDestinationField())}},{key:"getComponentForEdit",value:function(){var e=this.props,t=e.source,n=e.condition,r=e.esmSourceArn,a=null;if(t===w.g){var i=new b.b(r).resource;a=o.a.createElement(m.e,{id:"esmId",fieldTextProps:["label","description"]},o.a.createElement("span",null,i))}return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.e,{id:"source",fieldTextProps:["label","description"]},o.a.createElement(l.FormattedMessage,{id:"destination.source.".concat(t)})),a,o.a.createElement(m.e,{id:"condition",fieldTextProps:["label","description"]},o.a.createElement(l.FormattedMessage,{id:"destination.condition.".concat(n)})),this.getDestinationField())}},{key:"getDestinationField",value:function(){var e="editDestination.destArn.field.description";return this.props.source===w.g&&(e=e.concat(".esm")),o.a.createElement(m.e,{id:"destArn",fieldTextProps:["label"],description:o.a.createElement(l.FormattedMessage,{id:e})},o.a.createElement(u.Input,{placeholder:this.getMessage("editDestination.destArn.field.placeholder")}))}},{key:"render",value:function(){var e=this.props.isCreate;return o.a.createElement(m.d,this.props.formProps,o.a.createElement(p.d,{header:o.a.createElement(l.FormattedMessage,{id:"editDestination.section.destination.header"}),description:o.a.createElement(l.FormattedMessage,{id:"editDestination.section.destination.description"})},e?this.getComponentForCreate():this.getComponentForEdit()))}}])&&A(n.prototype,r),a&&A(n,a),t}(o.a.Component);k(D,"propTypes",{formProps:s.a.object.isRequired,condition:s.a.string.isRequired,esmSourceArn:s.a.string,functionArn:s.a.string.isRequired,isCreate:s.a.bool.isRequired,setConditionValue:s.a.func.isRequired,source:s.a.string.isRequired}),k(D,"contextTypes",{intl:l.intlShape.isRequired});var M=Object(d.connect)((function(e){return{condition:Object(f.c)(e,"editDestination","condition"),esmSourceArn:Object(f.c)(e,"editDestination","esmSourceArn"),functionArn:Object(f.c)(e,"editDestination","functionArn"),isCreate:Object(f.c)(e,"editDestination","isCreate"),source:Object(f.c)(e,"editDestination","source")}}),(function(e){return{setConditionValue:function(){return e(Object(f.l)("editDestination","condition",w.e[0]))}}}))(D),L=function(e){return e?Object(g.a)({fileSystemId:e}).map((function(e){var t=e.clientToken,n=e.accessProfileArn,r=e.rootDirectory,a=e.fileSystemId,i=e.posixUser;return{id:n,label:t,description:n,labelTag:a,tags:["POSIX uid: ".concat(i.uid),"POSIX gid: ".concat(i.gid),"Remote path: ".concat(r.path)]}})).take(1e3):null},F=function(){return Object(g.d)().map((function(e){var t=e.creationToken,n=e.fileSystemId,r=e.name,a=e.ownerId;return{id:n,label:t,description:r,labelTag:n,tags:["Owner: ".concat(a)]}})).take(1e3)};function q(e){var t=e.fileSystemId,n=e.formProps,r=e.onChangeFileSystem;return o.a.createElement(m.d,n,o.a.createElement(p.d,{header:o.a.createElement(l.FormattedMessage,{id:"editElasticFileSystem.section.destination.header"})},o.a.createElement(l.FormattedHTMLMessage,{id:"editElasticFileSystem.description"}),o.a.createElement(m.e,{id:"fileSystem",label:o.a.createElement(l.FormattedMessage,{id:"elasticFileSystem.form.efs.label"}),description:o.a.createElement(l.FormattedHTMLMessage,{id:"elasticFileSystem.form.efs.tooltip"}),paginator:F(),onChange:r},o.a.createElement(u.Select,{filteringType:"auto",triggerVariant:"option"})),o.a.createElement(m.e,{id:"accessProfile",label:o.a.createElement(l.FormattedMessage,{id:"elasticFileSystem.form.accessProfile.label"}),description:o.a.createElement(l.FormattedHTMLMessage,{id:"elasticFileSystem.form.accessProfile.tooltip"}),paginator:L(t)},o.a.createElement(u.Select,{filteringType:"auto",triggerVariant:"option",empty:o.a.createElement(l.FormattedMessage,{id:"elasticFileSystem.form.accessProfile.empty"})})),o.a.createElement(m.e,{id:"localPath",label:o.a.createElement(l.FormattedMessage,{id:"elasticFileSystem.form.localPath.label"}),description:o.a.createElement(l.FormattedHTMLMessage,{id:"elasticFileSystem.form.localPath.tooltip"})},o.a.createElement(u.Input,{placeholder:"/mnt/"}))))}q.propTypes={fileSystemId:s.a.string,formProps:s.a.object.isRequired,onChangeFileSystem:s.a.func.isRequired},q.contextTypes={intl:l.intlShape.isRequired};var V=Object(d.connect)((function(e){return{fileSystemId:Object(f.c)(e,"editElasticFileSystem","fileSystem")}}),(function(e){return{onChangeFileSystem:function(t){return e(Object(f.g)("editElasticFileSystem","accessProfile",L(t)))}}}))(q),U=n(10),G=n(8),B=n(36),z=n(105),H=n(5),W=n(27);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=function(){return Object(g.f)().map((function(e){return{value:e.keyArn,label:e.name}})).filter((function(e){return"aws/lambda"!==e.mapped.label}))},te=["default","customer"].map((function(e){return{value:e,label:o.a.createElement(l.FormattedMessage,{id:"editEnvironmentVariables.encryptionSelection.".concat(e,".label")})}}));function ne(e){var t=e.selection;return o.a.createElement(u.ExpandableSection,{variant:"borderless",header:o.a.createElement(l.FormattedMessage,{id:"envVars.encryption.title"}),onChange:function(e){return Object(H.logEvent)(H.EVENT_NAMES.EDIT_ENV_VARS_EXPAND_ENCRYPTION,e.detail.expanded)}},o.a.createElement(u.ColumnLayout,null,o.a.createElement("div",{"data-awsui-column-layout-root":"true"},o.a.createElement(m.e,{id:"encryptionHelpers",label:o.a.createElement(l.FormattedMessage,{id:"editEnvironmentVariables.environmentVariables.encrypt.label"}),infoText:o.a.createElement(l.FormattedHTMLMessage,{tagName:"p",id:"envVars.encryptionDescription.html"})},o.a.createElement(u.Checkbox,{label:o.a.createElement(l.FormattedMessage,{id:"envVars.enableHelpersTransitLabel"})})),o.a.createElement(m.e,{id:"encryptionSelection",fieldTextProps:["label","description"]},o.a.createElement(u.RadioGroup,{items:te})),"customer"===t&&o.a.createElement(m.e,{id:"customerKey",fieldTextProps:["label"],paginator:ee()},o.a.createElement(u.Autosuggest,null)))))}function re(e){var t=e.item,n=e.encrypting,r=e.isOpen,a=e.kmsKey,i=e.runtime,c=e.close,s=e.encrypt,d=i&&Object(W.o)(i,"decryptSnippet"),p=d?d.interpolate("key",null==t?void 0:t.key).interpolate("region",Object(b.H)()):"/* This runtime does not have a code sample currently. */",f=o.a.createElement("div",{className:"awsui-util-f-r"},o.a.createElement(u.Button,{variant:"link",onClick:c},o.a.createElement(l.FormattedMessage,{id:"cancel"})),o.a.createElement(u.Button,{variant:"primary",onClick:s,disabled:!a,loading:n},o.a.createElement(l.FormattedMessage,{id:"editEnvironmentVariables.environmentVariables.encrypt.button"})));return o.a.createElement(u.Modal,{expandToFit:!0,size:"large",header:o.a.createElement(l.FormattedMessage,{id:"editEnvironmentVariables.environmentVariables.encrypt.label"}),footer:f,visible:r,onDismiss:c},o.a.createElement(B.a,{scope:"encryptModal"}),t&&o.a.createElement(o.a.Fragment,null,o.a.createElement(m.e,{id:"transitKey",label:o.a.createElement(l.FormattedMessage,{id:"envVars.fields.kmsKeyTransit.label"}),paginator:ee()},o.a.createElement(u.Autosuggest,null)),o.a.createElement(u.ExpandableSection,{className:"awsui-util-mt-m",header:o.a.createElement(l.FormattedMessage,{id:"modal.decrypt.decryptTitle"})},o.a.createElement(z.a,{id:"decryptSnippet",readonly:!0,mode:Object(W.j)(i),value:p}))))}ne.propTypes={selection:s.a.string.isRequired},re.propTypes={item:s.a.object,encrypting:s.a.bool.isRequired,isOpen:s.a.bool.isRequired,kmsKey:s.a.string,runtime:s.a.string,close:s.a.func.isRequired,encrypt:s.a.func.isRequired};var ae=Object(d.connect)((function(e){return{encrypting:Object(G.E)(e,"encrypt"),isOpen:Object(G.F)(e,"encrypt"),kmsKey:Object(f.c)(e,"editEnvironmentVariables","transitKey"),runtime:Object(G.x)(e)}}),(function(e){return{close:function(){Object(H.logEvent)(H.EVENT_NAMES.EDIT_ENV_VARS_ENCRYPT_CANCEL),e(Object(U.J)("encrypt",!1))},encrypt:function(t,n){return e(Object(U.r)(t,n))}}}),(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{},e,{},t,{encrypt:function(){return t.encrypt(e.kmsKey,n.index)}})}))(re),ie=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=J(this,Q(t).call(this,e,n))).state={},r}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,e),n=t,(r=[{key:"openEncryptModal",value:function(e,t){Object(H.logEvent)(H.EVENT_NAMES.EDIT_ENV_VARS_ENCRYPT_OPEN),this.setState({pairToEncrypt:e,index:t}),this.props.openModal()}},{key:"render",value:function(){var e=this;return o.a.createElement(m.d,this.props.formProps,o.a.createElement(p.d,{header:o.a.createElement(l.FormattedMessage,{id:"editEnvironmentVariables.section.environmentVariables.header"}),footer:o.a.createElement(ne,{selection:this.props.selection})},o.a.createElement(l.FormattedHTMLMessage,{tagName:"p",id:"envVars.description.html"}),o.a.createElement(m.e,{id:"environmentVariables",stretch:!0},o.a.createElement(m.a,{definitionProvider:function(t,n){var r=[{label:o.a.createElement(l.FormattedMessage,{id:"envVars.placeholders.key"}),control:function(e,n){return o.a.createElement(u.Input,{value:e.key,onInput:function(r){return t("key",r.detail.value,e,n)}})},errorText:function(e,t){return n["".concat(t,"/key")]}},{label:o.a.createElement(l.FormattedMessage,{id:"envVars.placeholders.value"}),control:function(e,n){return o.a.createElement(u.Input,{value:e.value,onInput:function(r){return t("value",r.detail.value,e,n)}})},errorText:function(e,t){return n["".concat(t,"/value")]}}];return e.props.encryptionHelpers&&r.push({label:o.a.createElement(l.FormattedMessage,{id:"editEnvironmentVariables.environmentVariables.encrypt.label"}),control:function(t,n){return o.a.createElement(u.Button,{disabled:!t.key||!t.value,onClick:function(){return e.openEncryptModal(t,n)}},o.a.createElement(l.FormattedMessage,{id:"editEnvironmentVariables.environmentVariables.encrypt.button"}))}}),r},addButtonText:this.context.intl.formatMessage({id:"editEnvironmentVariables.environmentVariables.addButtonText"}),removeButtonText:this.context.intl.formatMessage({id:"remove"}),empty:o.a.createElement(l.FormattedMessage,{id:"editEnvironmentVariables.environmentVariables.empty"})})),o.a.createElement(ae,{item:this.state.pairToEncrypt,index:this.state.index})))}}])&&Y(n.prototype,r),a&&Y(n,a),t}(o.a.Component);Z(ie,"propTypes",{formProps:s.a.object.isRequired,encryptionHelpers:s.a.bool.isRequired,selection:s.a.string.isRequired,openModal:s.a.func.isRequired}),Z(ie,"contextTypes",{intl:l.intlShape.isRequired});var oe=Object(d.connect)((function(e){return{encryptionHelpers:Object(f.c)(e,"editEnvironmentVariables","encryptionHelpers"),selection:Object(f.c)(e,"editEnvironmentVariables","encryptionSelection")}}),(function(e){return{openModal:function(){return e(Object(U.J)("encrypt",!0))}}}))(ie),ce=n(9);function se(e){var t=e.formProps;return o.a.createElement(m.d,t,o.a.createElement(p.d,{header:o.a.createElement(l.FormattedMessage,{id:"editBasicSettings.section.basicSettings.header"})},o.a.createElement(m.e,{id:"description",fieldTextProps:["label"]},o.a.createElement(u.Input,{type:"text"})),o.a.createElement(m.e,{id:"memory",fieldTextProps:["label","description"],infoText:o.a.createElement(l.FormattedHTMLMessage,{tagName:"p",id:"warning.frontend.functionDetail.cost.html"})},o.a.createElement(m.f,{min:ce.k,max:ce.h,step:ce.j,formLabel:"MB"})),o.a.createElement(m.e,{id:"timeout",fieldTextProps:["label"],infoText:o.a.createElement(l.FormattedHTMLMessage,{tagName:"p",id:"warning.frontend.functionDetail.cost.html"})},o.a.createElement(m.b,{min:ce.l,max:ce.i}))))}se.propTypes={formProps:s.a.object.isRequired};var ue=n(163),le=n(11);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve=function(e){function t(e,n){var r,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,i=me(t).call(this,e,n),r=!i||"object"!==de(i)&&"function"!=typeof i?be(a):i,ye(be(r),"i18nStrings",(function(){return{keyPlaceholder:r.getMessage("editTags.tagEditor.field.keyPlaceholder"),valuePlaceholder:r.getMessage("editTags.tagEditor.field.valuePlaceholder"),addButton:r.getMessage("editTags.tagEditor.field.addButton"),removeButton:r.getMessage("remove"),undoButton:r.getMessage("editTags.tagEditor.field.undoButton"),undoPrompt:r.getMessage("editTags.tagEditor.field.undoPrompt"),loading:r.getMessage("editTags.tagEditor.field.loading"),keyHeader:r.getMessage("editTags.tagEditor.field.keyHeader"),valueHeader:r.getMessage("editTags.tagEditor.field.valueHeader"),optional:r.getMessage("optional"),keySuggestion:r.getMessage("editTags.tagEditor.field.keySuggestion"),valueSuggestion:r.getMessage("editTags.tagEditor.field.valueSuggestion"),emptyTags:r.getMessage("editTags.tagEditor.field.emptyTags"),tooManyKeysSuggestion:r.getMessage("editTags.tagEditor.field.tooManyKeysSuggestion"),tooManyValuesSuggestion:r.getMessage("editTags.tagEditor.field.tooManyValuesSuggestion"),keysSuggestionLoading:r.getMessage("editTags.tagEditor.field.keysSuggestionLoading"),keysSuggestionError:r.getMessage("editTags.tagEditor.field.keysSuggestionError"),valuesSuggestionLoading:r.getMessage("editTags.tagEditor.field.valuesSuggestionLoading"),valuesSuggestionError:r.getMessage("editTags.tagEditor.field.valuesSuggestionError"),emptyKeyError:r.getMessage("editTags.tagEditor.field.emptyKeyError"),maxKeyCharLengthError:r.getMessage("editTags.tagEditor.field.maxKeyCharLengthError"),maxValueCharLengthError:r.getMessage("editTags.tagEditor.field.maxValueCharLengthError"),duplicateKeyError:r.getMessage("editTags.tagEditor.field.duplicateKeyError"),invalidKeyError:r.getMessage("editTags.tagEditor.field.invalidKeyError"),invalidValueError:r.getMessage("editTags.tagEditor.field.invalidValueError"),awsPrefixError:r.getMessage("editTags.tagEditor.field.awsPrefixError"),tagLimit:function(e){return r.getMessage("editTags.tagEditor.field.tagLimit",{availableTags:e})},tagLimitReached:function(e){return r.getMessage("editTags.tagEditor.field.tagLimitReached",{tagLimit:e})},tagLimitExceeded:function(e){return r.getMessage("editTags.tagEditor.field.tagLimitExceeded",{tagLimit:e})}}})),ye(be(r),"tagsRequest",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.a.listResourceTagMappings({resourceTypeFilters:["lambda"]});case 2:return r=e.sent,a=r.body,e.abrupt("return",(null===(n=a.resourceTagMappingList)||void 0===n?void 0:n[0].tags.map((function(e){return e[t]})))||[]);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){pe(i,r,a,o,c,"next",e)}function c(e){pe(i,r,a,o,c,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}()),r.getMessage=function(e,t){return n.intl.formatMessage({id:e},t)},r}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this;return o.a.createElement(m.d,this.props.formProps,o.a.createElement(p.d,{header:o.a.createElement(l.FormattedMessage,{id:"editTags.section.tags.header"})},o.a.createElement(m.e,{id:"tags"},o.a.createElement(u.TagEditor,{i18nStrings:this.i18nStrings(),keysRequest:function(){return e.tagsRequest("key")},valuesRequest:function(){return e.tagsRequest("value")}}))))}}])&&fe(n.prototype,r),a&&fe(n,a),t}(o.a.Component);ye(ve,"propTypes",{formProps:s.a.object.isRequired}),ye(ve,"contextTypes",{intl:l.intlShape.isRequired});var he=n(50),Ee=n(57),Oe=n(80),Se=n(33);function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(n,!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"editAsync",(function(){return Re})),n.d(t,"editDestination",(function(){return Ae})),n.d(t,"editElasticFileSystem",(function(){return Ie})),n.d(t,"editEnvironmentVariables",(function(){return Ne})),n.d(t,"editBasicSettings",(function(){return Ce})),n.d(t,"editProvisionedConcurrency",(function(){return ke})),n.d(t,"editTags",(function(){return Pe}));var we={type:"string",nonEmpty:!0,pattern:"^$|(arn:".concat(Object(b.t)(),":kms:.*:\\d{12}:key\\/[a-z0-9-]+)$"),errorMessage:{pattern:Se.b["kmsKeyArn.pattern"]}},Re={component:_,dependencies:["functionParser"],editCacheType:"asyncPolicy",init:regeneratorRuntime.mark((function e(){var t,n,r,i,o,c,s,u,l,d,p,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.select)(G.W);case 2:return t=e.sent,n=t.get("data").toJS(),r=n.dlq,i=n.dlqArn,o=n.arn,c=n.eventInvokeConfig,s="sqs"===r?i:"",u="sns"===r?i:"",l=new b.e(o).qualifier,d=c.hasEventInvokeConfig,p=c.maxEventAge,m=c.maxRetryAttempts,e.next=10,Object(a.put)(Object(f.i)("editAsync",{dlq:r,sqsArn:s,snsArn:u,showDlq:!l||"$LATEST"===l,hasEventInvokeConfig:d,maxEventAge:p,maxRetryAttempts:m}));case 10:case"end":return e.stop()}}),e)})),save:regeneratorRuntime.mark((function e(t,n,i){var o,c,s,u,l,d,p,f,m,g,y,v,h,E,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=i.dlq,s=i.hasEventInvokeConfig,u=i.maxEventAge,l=i.maxRetryAttempts,d=i.sqsArn,p=i.snsArn,f="","sns"===c?f=p:"sqs"===c&&(f=d),m={functionName:t,deadLetterConfig:{targetArn:f}},e.next=6,Object(a.call)(le.a.updateFunctionConfiguration2,m);case 6:if(g=e.sent,y=g.body,v={functionName:t,qualifier:n,maximumEventAgeInSeconds:u,maximumRetryAttempts:l},!s){e.next=15;break}return e.next=12,Object(a.call)(le.a.updateFunctionEventInvokeConfig,v);case 12:e.t0=e.sent,e.next=18;break;case 15:return e.next=17,Object(a.call)(le.a.putFunctionEventInvokeConfig,v);case 17:e.t0=e.sent;case 18:return h=e.t0,E=h.body,e.next=22,Object(a.put)(Object(he.b)({flashBarType:"success",dismissible:!0,content:{id:"edit.saveSuccess"}}));case 22:return O=null===(o=y.deadLetterConfig)||void 0===o?void 0:o.targetArn,e.abrupt("return",Object(r.fromJS)({dlq:O?new b.b(O).service:"None",dlqArn:O,eventInvokeConfig:{hasEventInvokeConfig:!0,maxEventAge:E.maximumEventAgeInSeconds,maxRetryAttempts:E.maximumRetryAttempts.toString()}}));case 24:case"end":return e.stop()}}),e)})),getHelpContentMessageId:function(){return"edit.helpContent"},isReadonly:function(){return!ce.f.includes("bananaslug")}},Ae={component:M,dependencies:["functionParser"],editCacheType:"destination",init:regeneratorRuntime.mark((function e(t){var n,r,i,o,c,s,u,l,d,p,m,b,g,y,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.isCreate,r=t.query,e.next=3,Object(a.select)(G.W);case 3:if(i=e.sent,o=i.get("data").toJS(),c=o.arn,s=o.eventInvokeConfig,u=r.uuid,l=r.condition,d=w.f,!u){e.next=17;break}return e.next=10,Object(a.call)(le.a.getEventSourceMapping,{uUID:u});case 10:g=e.sent,y=g.body,p=null===(b=y.destinationConfig.onFailure)||void 0===b?void 0:b.destination,m=y.eventSourceArn,d=w.g,e.next=18;break;case 17:n||(p=null===(v=s.destinationConfig[l])||void 0===v?void 0:v.destination);case 18:return e.next=20,Object(a.put)(Object(f.i)("editDestination",{source:d,condition:l||w.e[0],destArn:p,esmId:u,esmSourceArn:m,functionArn:c,hasEventInvokeConfig:s.hasEventInvokeConfig,isCreate:n}));case 20:case"end":return e.stop()}}),e)})),save:regeneratorRuntime.mark((function e(t,n,i){var o,c,s,u,l,d,p,f,m,g,y,v,h,E,O,S,j,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.source,c=i.condition,s=i.destArn,u=i.esmId,l=i.functionArn,d=i.hasEventInvokeConfig,e.next=3,Object(a.call)(le.a.getServiceData,{identifiers:[s]});case 3:if(p=e.sent,f=p.body,m=new b.b(s),g=m.service,y={type:"destination",name:f[g].name,icon:f[g].icon,condition:c,destArn:s,editable:!1,source:o,states:[]},o!==w.g){e.next=18;break}return(h={uUID:u,destinationConfig:{}}).destinationConfig[c]={destination:s},e.next=12,Object(a.call)(le.a.updateEventSourceMapping,h);case 12:E=e.sent,O=E.body,y.id=u,y.sourceArn=O.eventSourceArn,e.next=33;break;case 18:if((S={functionName:l,destinationConfig:{}}).destinationConfig[c]={destination:s},!d){e.next=26;break}return e.next=23,Object(a.call)(le.a.updateFunctionEventInvokeConfig,S);case 23:e.t0=e.sent,e.next=29;break;case 26:return e.next=28,Object(a.call)(le.a.putFunctionEventInvokeConfig,S);case 28:e.t0=e.sent;case 29:j=e.t0,T=j.body,v={eventInvokeConfig:{hasEventInvokeConfig:!0,destinationConfig:T.destinationConfig}},y.id=c;case 33:return e.abrupt("return",Object(r.fromJS)({destNode:y,functionNodeUpdate:v}));case 34:case"end":return e.stop()}}),e)})),getHelpContentMessageId:function(){return"editDestination.section.destination.header.info"},isReadonly:function(e,t,n){if(!t&&!n)return!0;if(!t){var r=n.condition,a=n.uuid;if(!r||!w.e.includes(r)||a&&r!==w.e[0])return!0}return!ce.f.includes("starfish")},schema:{type:"object",properties:{destArn:{type:"string",pattern:"^arn:(aws[a-zA-Z0-9-]*?):([a-zA-Z0-9-]+?):([a-zA-Z0-9-]*?):(\\d{12})?:(.+?)$"}},anyOf:[{properties:{source:{enum:["async"]}},required:["destArn"]},{properties:{source:{enum:["stream"]}},required:["esmId","destArn"]}]}},Ie={component:V,dependencies:["functionParser"],editCacheType:"elasticFileSystem",getHelpContentMessageId:function(){return"edit.helpContent"},init:regeneratorRuntime.mark((function e(t){var n,r,i,o,c,s,u,l,d,p,m,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.isCreate,e.next=3,Object(a.select)(G.W);case 3:if(i=e.sent,!(o=(null==i?void 0:null===(n=i.getIn(["data","fileSystemConfigs",0]))||void 0===n?void 0:n.toJS())||null)||!o.arn){e.next=15;break}return d=new b.a(o.arn).accessProfileId,e.next=9,Object(a.call)(le.a.describeAccessProfiles,{accessProfileId:d});case 9:p=e.sent,m=p.body,g=null==m?void 0:null===(l=m.accessProfiles)||void 0===l?void 0:l[0],c=null==g?void 0:g.fileSystemId,s=null==g?void 0:g.accessProfileArn,u=null==o?void 0:o.localMountPath;case 15:return e.next=17,Object(a.put)(Object(f.i)("editElasticFileSystem",{fileSystem:c,accessProfile:s,localPath:u,isCreate:r}));case 17:case"end":return e.stop()}}),e)})),save:regeneratorRuntime.mark((function e(t,n,i){var o,c,s,u,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.accessProfile,c=i.localPath,(s=i.isCreate)?Object(H.logEvent)(H.EVENT_NAMES.EFS_CLICK("sadd")):Object(H.logEvent)(H.EVENT_NAMES.EFS_CLICK("sedit")),u={functionName:t,fileSystemConfigs:[{arn:o,localMountPath:c}]},e.next=5,Object(a.call)(le.a.updateFunctionConfiguration2,u);case 5:return l=e.sent,d=l.body,s?Object(H.logEvent)(H.EVENT_NAMES.EFS_CREATED):Object(H.logEvent)(H.EVENT_NAMES.EFS_EDITED),e.abrupt("return",Object(r.fromJS)(d));case 9:case"end":return e.stop()}}),e)})),isReadonly:function(){return!ce.f.includes("evanescent")},schema:{type:"object",properties:{fileSystem:{pattern:"^[0-9a-z-]+$",maxLength:60},accessProfile:{minLength:20},localPath:{maxLength:1024,pattern:"^/mnt/[a-zA-Z0-9-_.]+$",errorMessage:{pattern:Se.b["efs.invalidMount"]}}},required:["fileSystem","accessProfile","localPath","isCreate"]}},Ne={component:oe,dependencies:["functionParser"],getHelpContentMessageId:function(){return"edit.helpContent"},init:regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.select)(G.W);case 2:return t=e.sent,n=t.getIn(["data","envVars"]).toJS(),r=t.getIn(["data","kmsKeyArn"]),e.next=7,Object(a.put)(Object(f.i)("editEnvironmentVariables",{customerKey:r,encryptionHelpers:!1,encryptionSelection:r?"customer":"default",environmentVariables:n}));case 7:case"end":return e.stop()}}),e)})),save:regeneratorRuntime.mark((function e(t,n,i){var o,c,s,u,l,d,p,f,m,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=i.customerKey,u=i.encryptionSelection,l=i.environmentVariables,d="customer"===u?s:"",p=l.reduce((function(e,t){return xe({},e,_e({},t.key,t.value))}),{}),f={functionName:t,environment:{variables:p},kMSKeyArn:d},e.next=6,Object(a.call)(le.a.updateFunctionConfiguration2,f);case 6:return m=e.sent,b=m.body,d&&Object(H.logEvent)(H.EVENT_NAMES.EDIT_ENV_VARS_CMK),e.next=11,Object(a.put)(Object(he.b)({flashBarType:"success",dismissible:!0,content:{id:"edit.saveSuccess"}}));case 11:return e.abrupt("return",Object(r.fromJS)({envVars:Object.entries((null===(o=b.environment)||void 0===o?void 0:o.variables)||{}).map((function(e){var t=je(e,2);return{key:t[0],value:t[1]}})),envVarsError:null===(c=b.environment)||void 0===c?void 0:c.error,kmsKeyArn:b.kmskeyArn||""}));case 12:case"end":return e.stop()}}),e)})),isReadonly:function(e){var t=!!e&&"$LATEST"!==e;return!ce.f.includes("superlunar1")||t},schema:{type:"object",properties:{environmentVariables:{type:"array",items:{type:"object",properties:{key:{type:"string",minLength:2,nonEmpty:!0,pattern:"^[a-zA-Z][a-zA-Z0-9_]*$",uniqueItemsProperty:!0,errorMessage:{pattern:Se.b["envVars.key.pattern"],uniqueItemsProperty:Se.b["keyValueList.uniqueKeys"]}},value:{type:"string",pattern:"^(?!<enter value here>).*$",errorMessage:{pattern:Se.b["envVars.value.blueprintsPlaceholderNotChanged"]}}},required:["key","value"]}},transitKey:we},required:["environmentVariables"],anyOf:[{properties:{encryptionSelection:{enum:["default"]}}},{properties:{encryptionSelection:{enum:["customer"]},customerKey:we},required:["customerKey"]}]}},Ce={component:se,dependencies:["functionParser"],getHelpContentMessageId:function(){return"edit.helpContent"},init:regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.select)(G.W);case 2:return t=e.sent,n=t.getIn(["data","description"]),r=t.getIn(["data","memory"]),i=t.getIn(["data","timeout"]),e.next=8,Object(a.put)(Object(f.i)("editBasicSettings",{description:n,memory:r,timeout:i}));case 8:case"end":return e.stop()}}),e)})),save:regeneratorRuntime.mark((function e(t,n,i){var o,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.description,c=i.memory,s=i.timeout,e.next=3,Object(a.call)(le.a.updateFunctionConfiguration2,{functionName:t,description:o,memorySize:c,timeout:s});case 3:return e.next=5,Object(a.put)(Object(he.b)({flashBarType:"success",dismissible:!0,content:{id:"edit.saveSuccess"}}));case 5:return e.abrupt("return",Object(r.fromJS)({description:o,memory:c,timeout:s}));case 6:case"end":return e.stop()}}),e)})),isReadonly:function(e){var t=!!e&&"$LATEST"!==e;return!ce.f.includes("superlunar3")||t},schema:{type:"object",properties:{description:{type:"string",allowEmpty:!0,maxLength:256},memory:{type:"integer",minimum:ce.k,maximum:ce.h},timeout:{type:"integer",minimum:ce.l,maximum:ce.i}}}},ke={component:ue.a,dependencies:["provisionedConcurrencyConfigsParser"],getHelpContentMessageId:function(){return"editProvisionedConcurrency.helpContent"},init:regeneratorRuntime.mark((function e(){var t,n,r,i,o,c,s,u,l,d,p,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.put)(Object(U.v)(["provisionedConcurrencyConfigsSource","provisionedConcurrencyConfigsParser"]));case 2:return e.next=4,Object(a.select)(G.q);case 4:if(t=e.sent,n=new b.e(t),!(r=n.qualifier)){e.next=23;break}return e.next=9,Object(a.select)(G.P);case 9:if(i=e.sent,!Object(b.S)(r)){e.next=17;break}return u=null==i?void 0:null===(o=i.get("versions"))||void 0===o?void 0:null===(c=o.toArray())||void 0===c?void 0:null===(s=c.find((function(e){return e.get("qualifier")===r})))||void 0===s?void 0:s.get("requestedConcurrency"),e.next=15,Object(a.put)(Object(f.i)(ue.b,{provisionedConcurrencyTypeSelection:"version",provisionedConcurrencyVersion:r,provisionedConcurrencyRequestedConcurrency:u?"".concat(u):""}));case 15:e.next=20;break;case 17:return m=null==i?void 0:null===(l=i.get("aliases"))||void 0===l?void 0:null===(d=l.toArray())||void 0===d?void 0:null===(p=d.find((function(e){return e.get("qualifier")===r})))||void 0===p?void 0:p.get("requestedConcurrency"),e.next=20,Object(a.put)(Object(f.i)(ue.b,{provisionedConcurrencyTypeSelection:"alias",provisionedConcurrencyAlias:r,provisionedConcurrencyRequestedConcurrency:m?"".concat(m):""}));case 20:Object(H.logEvent)(H.EVENT_NAMES.PROVISIONED_CONCURRENCY_UPDATE),e.next=27;break;case 23:return e.next=25,Object(a.put)(Object(f.i)(ue.b,{provisionedConcurrencyTypeSelection:"alias"}));case 25:Object(H.logEvent)(H.EVENT_NAMES.PROVISIONED_CONCURRENCY_CREATE),Object(H.startCustomTimer)(H.EVENT_NAMES.PROVISIONED_CONCURRENCY_CREATE_TIME);case 27:case"end":return e.stop()}}),e)})),save:regeneratorRuntime.mark((function e(t,n,i){var o,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.provisionedConcurrencyTypeSelection,c=i.provisionedConcurrencyAlias,s=i.provisionedConcurrencyVersion,u=i.provisionedConcurrencyRequestedConcurrency,l="version"===o?s:c,e.next=4,Object(a.call)(le.a.putProvisionedConcurrencyConfig,{functionName:t,qualifier:l,provisionedConcurrentExecutions:parseInt(u,10)});case 4:return e.next=6,Object(a.put)(Object(Oe.b)());case 6:return e.next=8,Object(a.put)(Object(U.v)(["provisionedConcurrencyConfigsSource","provisionedConcurrencyConfigsParser"]));case 8:return e.next=10,Object(a.put)(Object(he.b)({flashBarType:"info",dismissible:!0,content:{id:"editProvisionedConcurrency.sentRequest.successful"}}));case 10:return e.t0=b.e,e.next=13,Object(a.select)(G.q);case 13:return e.t1=e.sent,!!new e.t0(e.t1).qualifier?Object(H.logEvent)(H.EVENT_NAMES.PROVISIONED_CONCURRENCY_UPDATE,!0):(Object(H.logEvent)(H.EVENT_NAMES.PROVISIONED_CONCURRENCY_CREATE,!0),Object(H.stopCustomTimer)(H.EVENT_NAMES.PROVISIONED_CONCURRENCY_CREATE_TIME)),e.abrupt("return",Object(r.fromJS)(Object(r.Map)()));case 17:case"end":return e.stop()}}),e)})),isReadonly:function(){return!ce.f.includes("hyperion")||!1},schema:{type:"object",anyOf:[{properties:{provisionedConcurrencyTypeSelection:{enum:["alias"]},provisionedConcurrencyAlias:{type:"string"},provisionedConcurrencyRequestedConcurrency:{type:"string",nonEmpty:!0}},required:["provisionedConcurrencyTypeSelection","provisionedConcurrencyAlias","provisionedConcurrencyRequestedConcurrency"]},{properties:{provisionedConcurrencyTypeSelection:{enum:["version"]},provisionedConcurrencyVersion:{type:"string"},provisionedConcurrencyRequestedConcurrency:{type:"string",nonEmpty:!0}},required:["provisionedConcurrencyTypeSelection","provisionedConcurrencyVersion","provisionedConcurrencyRequestedConcurrency"]}]}},Pe={component:ve,dependencies:["functionParser"],getHelpContentMessageId:function(){return"edit.helpContent"},init:regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.select)(G.W);case 2:return t=e.sent,n=t.getIn(["data","tags","userTags"]).toJS().map((function(e){return xe({},e,{existing:!0})})),e.next=6,Object(a.put)(Object(f.i)("editTags",{tags:n}));case 6:case"end":return e.stop()}}),e)})),save:regeneratorRuntime.mark((function e(t,n,i){var o,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.tags,c=b.e.fromFunctionName(t),s=c.arn,u=o.filter((function(e){return e.markedForRemoval})),l=o.filter((function(e){return!e.markedForRemoval})),!(u.length>0)){e.next=7;break}return e.next=7,Object(a.call)(le.a.deleteTags,{resource:s,tagKeys:u.map((function(e){return e.key}))});case 7:if(!(l.length>0)){e.next=10;break}return e.next=10,Object(a.call)(le.a.addTags,{resource:s,tags:l.reduce((function(e,t){return xe({},e,_e({},t.key,t.value))}),{})});case 10:return e.next=12,Object(a.put)(Object(he.b)({flashBarType:"success",dismissible:!0,content:{id:"edit.saveSuccess"}}));case 12:return e.abrupt("return",Object(r.fromJS)({tags:{userTags:l.map((function(e){return new Ee.b(e)}))}}));case 13:case"end":return e.stop()}}),e)})),isReadonly:function(e){var t=Object(b.F)(e);return!ce.f.includes("superlunar4")||"version"===t||"alias"===t},schema:{type:"object",properties:{tags:{type:"array",maxItems:50,items:{type:"object",properties:{key:{type:"string"},value:{type:"string"}}}}}}}},,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return v}));var r=n(180),a=n.n(r),i=n(47),o=n(7),c=n(5);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t;return(null===(t=e.response)||void 0===t?void 0:t.data)&&(e.response.data.message||e.response.data.Message)||e.message||{id:"error.unknown"}}function p(t){var n,r="Please (re)authenticate or return to https://console.".concat(Object(o.x)());throw 403===t.status&&(null===(n=t.response)||void 0===n?void 0:n.body)&&JSON.stringify(t.response.body).includes(r)&&e.location.reload(),t}function f(e){Object(c.reportError)("clientSideApiError",{message:e.message,status:e.status});var t;throw e.message.includes("The request signature we calculated does not match the signature you provided")?(Object(c.logEvent)("FEApi",!1),t=u({},e,{message:{id:"error.browser"}})):t=e,t}function m(e){return{status:e.status,body:e.data,headers:e.headers}}function b(t){var n="proxyAwsCall"===t.operation?t.api:t.operation,r="api_".concat(n),s={params:{operation:n,locale:Object(o.D)()},timeout:61e3},u=Object(o.B)("aws-userInfo");return u&&(s.headers={"X-Csrf-Token":Object(i.c)(u)}),Object(c.startCustomTimer)(r),a.a.post("/".concat(e.productName,"/services/ajax"),t,s).catch((function(e){throw"ECONNABORTED"===e.code&&Object(c.logEvent)(c.EVENT_NAMES.API_TIMEOUT(r)),e})).catch(p).finally((function(){return Object(c.stopCustomTimer)(r)}))}function g(e){var t=Object(o.B)("aws-userInfo");return new Promise((function(n,r){a()(u({},e,{headers:{"X-Csrf-Token":Object(i.c)(t)}})).then(n,r)}))}function y(e){var t,n,r="api_".concat(e.operation),i={method:e.method.toLowerCase(),url:e.response.url,headers:(t=e.response.headers,n=["Content-Length","Host"],Object.keys(t).filter((function(e){return!n.includes(e)})).reduce((function(e,n){return u({},e,l({},n,t[n]))}),{})),data:e.encoded};return Object(c.startCustomTimer)(r),a.a.request(i).catch(p).catch(f).finally((function(){Object(c.stopCustomTimer)(r),Object(c.logEvent)("FEApi")}))}function v(e){return 2===parseInt(e.status/100,10)}a.a.interceptors.response.use(m,(function(e){var t={message:d(e)};throw e.response&&(t.response=m(e.response),t.status=t.response.status),t}))}).call(this,n(37))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(7);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f,m,b,g=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),l(this,d(n).apply(this,arguments))}var r,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,t),r=n,(i=[{key:"componentDidMount",value:function(){this.editor=function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.ace.edit(t);return a.$blockScrolling=1/0,((null===(n=e.navigator.userAgent)||void 0===n?void 0:n.toLowerCase().includes("firefox"))||r.readonly)&&a.getSession().setOption("useWorker",!1),a.setFontSize(14),a.setReadOnly(r.readonly||!1),a.getSession().setMode("ace/mode/".concat(r.mode)),a}(this.props.id,this.props),this.editor.setTheme("ace/theme/dawn"),this.editor.setValue(this.props.value||"",1),this.props.readonly||this.editor.on("change",this.onChange.bind(this)),"json"===this.props.mode&&this.editor.on("paste",(function(e){var t=e;t.text=Object(c.q)(t.text)}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.mode!==e.mode&&this.editor.getSession().setMode("ace/mode/".concat(e.mode)),this.props.readonly!==e.readonly&&this.editor.setReadOnly(!!e.readonly),this.editor.getValue()!==e.value&&(this.silent=!0,this.editor.setValue(e.value||"",1),this.silent=!1)}},{key:"componentWillUnmount",value:function(){this.editor.destroy(),this.editor=null}},{key:"onChange",value:function(){var e=this.editor.getValue();!this.silent&&this.props.onChange&&e!==this.props.value&&this.props.onChange(e)}},{key:"render",value:function(){return a.a.createElement("div",{id:this.props.id})}}])&&u(r.prototype,i),o&&u(r,o),n}(a.a.Component);f=g,m="propTypes",b={id:o.a.string.isRequired,mode:o.a.string.isRequired,readonly:o.a.bool,value:o.a.string,onChange:o.a.func},m in f?Object.defineProperty(f,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):f[m]=b}).call(this,n(37))},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return E}));var r=n(4),a=n(57),i=n(84),o=n(15);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t,n){var r=n.deeplyValidate(e.getIn(["fields"].concat(l(t))));return r?e.setIn(["validation"].concat(l(t)),r):e.deleteIn(["validation"].concat(l(t)))}var p=Object(r.Map)({fields:Object(r.Map)(),validation:Object(r.Map)()});function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.f.SET_FIELD:var n=t.id.split(".");return e.setIn(["fields"].concat(l(n)),t.value);case o.f.VALIDATE_FIELD:return d(e,t.id.split("."),t.schema);case o.f.DESTROY_FIELD:var i=t.id.split(".");return e.deleteIn(["fields"].concat(l(i))).deleteIn(["validation"].concat(l(i)));case o.f.SET_INDEX_IN_KEY_VALUE_LIST:var c=t.id.split("."),s=e.getIn(["fields"].concat(l(c)))||Object(r.List)();return d(t.keyValue.equals(a.a)&&t.index===s.size-1?e.deleteIn(["fields"].concat(l(c),[t.index])):e.setIn(["fields"].concat(l(c)),s.set(t.index,t.keyValue)),c,t.schema);case o.f.DESTROY_INDEX_IN_KEY_VALUE_LIST:var u=t.id.split(".");return d(e.deleteIn(["fields"].concat(l(u),[t.index])),u,t.schema);default:return e}}function m(e,t){return e.formFields.getIn(["fields",t])}function b(e,t,n){return e.formFields.getIn(["fields",t,n])}function g(e,t,n){return e.formFields.getIn(["fields","modal",t,n])}function y(e){var t,n=g(e,"alias","additionalVersionWeight");return(null==n?void 0:n.get("version"))&&(t=u({},n.get("version"),n.get("weight")/100)),{name:g(e,"alias","name"),description:g(e,"alias","description"),functionVersion:g(e,"alias","version"),additionalVersionWeights:t}}var v=["cloud9RawZip","codeSource","concurrencyPoolType","description","dlqArn","handler","memory","needsTracerPermissions","rawZip","reservedConcurrentExecutions","runtime","securityGroupIds","subnetIds","timeout","tracer","upload","vpcId"];function h(e){return t=m(e,"create"),a=Object(i.c)(t.toJS()),o=t.get("envVars"),c=v.reduce((function(e,n){return s({},e,u({},n,t.get(n)))}),{}),s({},c,{functionName:t.get("name"),s3:null===(n=t.get("s3"))||void 0===n?void 0:n.trim(),kmsKeyArn:t.get("kmsKeyArn")||"",envVars:o&&Object(r.Map)(o.map((function(e){return[e.key,e.value]}))).toJS(),tags:t.get("tags",Object(r.List)()).toJS(),roleData:a});var t,n,a,o,c}function E(e){return m(e,"trigger")}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return b}));var r=n(4),a=n(7),i=n(61);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={group:i.e,value:i.b,final:!0},l={group:i.e,value:i.a,final:!0};function d(e,t,n,i){var o=n.key,c=n.value,s=e,u=Object(a.E)(i,o);s[u]?s[u].values=s[u].values.add(c):s[u]={metadata:t,group:Object(a.E)(i,t.group),key:u,values:Object(r.Set)([c])}}function p(e,t,n){var r={};return e.forEach((function(e){return t.forEach((function(t){if(!t.hideFromSuggestion)if(t.pairs){t.pairs(e).forEach((function(e){return d(r,t,e,n)}))}else{var a=t.value(e);if(Array.isArray(a)){a.map((function(e){return{key:t.key,value:e}})).forEach((function(e){return d(r,t,e,n)}))}else{var i={key:t.key,value:a};d(r,t,i,n)}}}))})),Object.values(r).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{values:e.values.toJS().filter((function(e){return e}))})}))}function f(e){return"".concat(e.metadata.prefix?"".concat(e.metadata.prefix,":"):"").concat(e.key)}function m(e,t){return e.group===i.e&&t.group!==i.e?-1:e.group===i.e&&t.group===i.e?e.value.toLowerCase().localeCompare(t.value.toLowerCase()):t.group===i.e?1:e.group===t.group?e.value.toLowerCase().localeCompare(t.value.toLowerCase()):e.group.toLowerCase().localeCompare(t.group.toLowerCase())}function b(e,t,n){return function(e,t,n){var r=o(t.split(i.d),2),a=r[0],c=r[1],s=n>=a.length+Math.ceil(i.d.length/2);if((c||t.includes(i.d))&&s){var d=e.find((function(e){return f(e)===a}));if(d){var p=d.values.filter((function(e){return!c||c.filters(e)})).map((function(e){return{value:e,final:!0,group:i.c}})),m=[];return!c&&d.metadata.includeEmptySuggestion&&m.push(u),!c&&d.metadata.includeAllValuesSuggestion&&m.push(l),p.concat(m)}return[]}return a&&!s?e.filter((function(e){return a.filters(f(e))})).map((function(e){return{value:e.key,final:!1,group:e.group}})):e.map((function(e){return{value:e.key,final:!1,group:e.group}}))}(e,t,n).filter((function(e){return e.value.length<256})).sort(m)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n(0),a=n.n(r),i=n(6),o=n(56),c=n.n(o),s=n(1),u=n.n(s),l=n(3);function d(e){var t=e.children,n=e.href,r=e.noIcon,o=e.onClick;return void 0===n?a.a.createElement("span",null,t):a.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:c()({"force-nowrap":!r}),onClick:o},t," ",r?null:a.a.createElement(i.Icon,{variant:"link",name:"external"}))}function p(e){var t=e.links;return a.a.createElement("ul",null,t.map((function(e,t){var n=e.href,r=e.content;return a.a.createElement("li",{key:t},a.a.createElement(d,{href:n,noIcon:!0},r))})))}function f(e){var t=e.href,n=e.onClick;return a.a.createElement(d,{href:t,onClick:n},a.a.createElement(l.FormattedMessage,{id:"learnMore"}))}d.propTypes={children:u.a.node.isRequired,href:u.a.string,noIcon:u.a.bool,onClick:u.a.func},p.propTypes={links:u.a.arrayOf(u.a.shape({href:u.a.string.isRequired,content:u.a.node.isRequired}))},f.propTypes={href:u.a.string.isRequired,onClick:u.a.func}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),a=n.n(r),i=n(6),o=n(1),c=n.n(o),s=n(3);function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l=c.a.shape({text:c.a.string.isRequired,href:c.a.string.isRequired});function d(e,t){var n=e.items,r=e.rightSide,o=void 0===r?null:r,c=t.intl,s=null;o&&(s=a.a.createElement("span",{className:"awsui-util-f-r"},o));var l={text:c.formatMessage({id:"productName"}),href:"#/"};return a.a.createElement("div",{id:"header",className:"awsui-util-clearfix",style:{width:"100%"}},a.a.createElement(i.BreadcrumbGroup,{className:"awsui-util-f-l",items:[l].concat(u(n))}),s)}d.propTypes={items:c.a.arrayOf(l).isRequired,rightSide:c.a.node},d.contextTypes={intl:s.intlShape.isRequired}},,,,,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u}));var r=n(4),a=n(20);function i(e,t,n,i){var o;if(!e)return[];var c=[];"$LATEST"===e&&c.push({dataPath:"/provisionedConcurrencyVersions",keyword:"latest",message:i.formatMessage({id:"editProvisionedConcurrency.provisionedConcurrencyVersion.errorText.latest"})});var s=Object(r.Set)(Object(a.o)((null==t?void 0:t.get("aliases"))||[])[e]||[]),u=Object(r.Set)((null===(o=n.get("aliases"))||void 0===o?void 0:o.map((function(e){return e.get("qualifier")})))||[]);if(!s.intersect(u).isEmpty()){var l=s.intersect(u);c.push({dataPath:"/provisionedConcurrencyVersions",keyword:"setOnAlias",message:i.formatMessage({id:"editProvisionedConcurrency.provisionedConcurrencyVersion.errorText.setOnAlias"},{aliasName:l.first()})})}return c}function o(e,t,n){var r;if(!e)return[];var a=[];return(null===(r=t.get("versions"))||void 0===r?void 0:r.find((function(t){return t.get("qualifier")===e})))&&a.push({dataPath:"/provisionedConcurrencyVersions",keyword:"alreadyCreated",message:n.formatMessage({id:"editProvisionedConcurrency.provisionedConcurrencyVersion.errorText.alreadyCreated"})}),a}function c(e,t,n,r){var a,i;if(!e)return[];var o=[],c=t.getIn(["aliases",e,"version"]),s=t.getIn(["aliases",e,"additionalVersionWeight","version"]);return s&&o.push({dataPath:"/provisionedConcurrencyAlias",keyword:"createForWeightedAlias",message:r.formatMessage({id:"editProvisionedConcurrency.provisionedConcurrencyAlias.errorText.weightedAlias"})}),(null===(a=n.get("versions"))||void 0===a?void 0:a.find((function(e){return e.get("qualifier")===c})))&&o.push({dataPath:"/provisionedConcurrencyAlias",keyword:"setOnVersion",message:r.formatMessage({id:"editProvisionedConcurrency.provisionedConcurrencyAlias.errorText.setOnVersion"})}),(null===(i=n.get("versions"))||void 0===i?void 0:i.find((function(e){return e.get("qualifier")===s})))&&o.push({dataPath:"/provisionedConcurrencyAlias",keyword:"setOnVersion",message:r.formatMessage({id:"editProvisionedConcurrency.provisionedConcurrencyAlias.errorText.setOnVersion"})}),"$LATEST"!==c&&"$LATEST"!==s||o.push({dataPath:"/provisionedConcurrencyVersions",keyword:"pointsToLatest",message:r.formatMessage({id:"editProvisionedConcurrency.provisionedConcurrencyAlias.errorText.setOnLatestVersion"})}),o}function s(e,t,n){var r;if(!e)return[];var a=[];return(null===(r=t.get("aliases"))||void 0===r?void 0:r.find((function(t){return t.get("qualifier")===e})))&&a.push({dataPath:"/provisionedConcurrencyAlias",keyword:"alreadyCreated",message:n.formatMessage({id:"editProvisionedConcurrency.provisionedConcurrencyAlias.errorText.alreadyCreated"})}),a}function u(e,t,n,r,a,i){var o=[];e&&e.includes(".")&&o.push({dataPath:"/provisionedConcurrency",keyword:"setOnConcurrency",message:i.formatMessage({id:"editProvisionedConcurrency.provisionedConcurrency.errorText.noDecimal"})}),e<=0&&o.push({dataPath:"/provisionedConcurrency",keyword:"setOnConcurrency",message:i.formatMessage({id:"editProvisionedConcurrency.provisionedConcurrency.errorText.lowerOrEqualToZero"})});var c=t?t-n:r-a;return t&&e>t-n?o.push({dataPath:"/provisionedConcurrency",keyword:"setOnConcurrency",message:i.formatMessage({id:"editProvisionedConcurrency.provisionedConcurrency.errorText.aboveReserved"},{provisionedConcurrencyLimit:c,reservedConcurrency:t,provisionedConcurrency:n})}):e>r-a&&o.push({dataPath:"/provisionedConcurrency",keyword:"setOnConcurrency",message:i.formatMessage({id:"editProvisionedConcurrency.provisionedConcurrency.errorText.aboveUnreserved"},{provisionedConcurrencyLimit:c,unreservedConcurrency:r,unreservedConcurrencyMinimum:a})}),o.length>0?o:null}},function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return x})),n.d(t,"f",(function(){return _}));var r=n(2),a=n(308),i=n(35),o=n(7),c=n(11),s=regeneratorRuntime.mark(h),u=regeneratorRuntime.mark(T);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={FAILED:"Failed",IN_PROGRESS:"InProgress",SUCCEEDED:"Succeeded"},m=function(e,t){var n=e.find((function(e){return e.error})),r="".concat(t,"Name"),a="stage"===t?"name":"".concat(t,"Name");if(n)return d({},n.error,p({},r,n[a]))},b=function(e){return e.map((function(e){var t,n,r,a;(null===(t=e.latestExecution)||void 0===t?void 0:t.status)===f.FAILED&&(r={message:null===(a=e.latestExecution.errorDetails)||void 0===a?void 0:a.message,externalUrl:e.latestExecution.externalExecutionUrl,timestamp:e.latestExecution.lastStatusChange});return d({},e,{status:null===(n=e.latestExecution)||void 0===n?void 0:n.status,error:r})}))};function g(e){return e.map((function(e){var t,n=b(e.actionStates),r=m(n,"action");return{actions:n,name:e.stageName,error:r,status:null===(t=e.latestExecution)||void 0===t?void 0:t.status,inboundTransitionState:e.inboundTransitionState}}))}var y=function(e){return e.every((function(e){return!!e.status}))},v=function(e){return e.every((function(e){var t=e.status;return!Object(o.R)(t)&&t!==f.IN_PROGRESS}))};function h(e){var t,n,a,i,o,c,u,l,d;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.created,n=e.pipelineName,a=e.stageStates,i=e.updated,s.next=3,Object(r.call)(g,a);case 3:return o=s.sent,u=f.SUCCEEDED,o.find((function(e){return e.status===f.FAILED}))?(u=f.FAILED,c=m(o,"stage")):o.find((function(e){return e.status===f.IN_PROGRESS}))&&(u=f.IN_PROGRESS),l=v(o),d=y(o),s.abrupt("return",{created:t,hasReachedLastStage:d,updated:i,pipelineName:n,ready:l,stages:o,status:u,error:c});case 9:case"end":return s.stop()}}),s)}var E=["AWS::ApiGateway::Account","AWS::ApiGateway::ApiKey","AWS::ApiGateway::DomainName","AWS::AppSync::DataSource","AWS::CloudWatch::Alarm","AWS::CodeDeploy::DeploymentConfig","AWS::EC2::SecurityGroup","AWS::EC2::Subnet","AWS::EC2::VPC","AWS::Events::Rule","AWS::IoT::TopicRule","AWS::KMS::Alias","AWS::KMS::Key","AWS::Kinesis::Stream","AWS::KinesisFirehose::DeliveryStream","AWS::Lambda::Alias","AWS::Lambda::EventSourceMapping","AWS::Lambda::Function","AWS::Lambda::LayerVersion","AWS::Lambda::Version","AWS::SNS::Subscription","AWS::SNS::Topic","AWS::SQS::Queue","AWS::SecretsManager::Secret","AWS::StepFunctions::Activity"],O={"AWS::ApiGateway::RestApi":function(e){var t=e.endsWith("/")?new o.b(e.slice(0,-1)):new o.b(e),n=t.resource.replace("/restapis/","");return[t.arn,"".concat(t.arn,"/*"),"arn:aws:execute-api:".concat(t.region,":").concat(Object(o.r)(),":").concat(n),"arn:aws:execute-api:".concat(t.region,":").concat(Object(o.r)(),":").concat(n,"/*")]},"AWS::AppSync::GraphQLApi":function(e){return[e,"".concat(e,"/*")]},"AWS::CodeDeploy::Application":function(e){return[e,"".concat(e.replace("application","deploymentgroup"),"/*")]},"AWS::DynamoDB::Table":function(e){return[e,"".concat(e,"/*")]},"AWS::Glue::Database":function(e){return[e,"".concat(e.replace("database","table"),"/*")]},"AWS::IAM::Role":function(){return[]},"AWS::Logs::LogGroup":function(e){return[e,"".concat(e,":*")]},"AWS::S3::Bucket":function(e){var t=e.endsWith("/")?e.slice(0,-1):e;return[t,"".concat(t,"/*")]},"AWS::StepFunctions::StateMachine":function(e){return[e,"".concat(e.replace("stateMachine","execution"),":*")]}},S=function(e){var t=e.resourceType,n=e.resourceArn;return E.includes(t)?[n]:O[t]?O[t](n):[]},j=function(e){return"serverlessrepo-".concat(e,"-toolchain")};function T(e){var t,n,i,o,s;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(r.call)(c.a.describeStackEvents,{stackName:e});case 2:return t=u.sent,n=t.body,i=n.stackEvents,o=[a.a.CREATE_IN_PROGRESS,a.a.UPDATE_IN_PROGRESS],s=i.findIndex((function(e){var t=e.stackId,n=e.physicalResourceId,r=e.resourceStatus;return t===n&&o.includes(r)})),u.abrupt("return",i.slice(0,s+1));case 8:case"end":return u.stop()}}),u)}var x=function(e){return e.filter((function(e){var t=e.resourceStatus;return null==t?void 0:t.endsWith("_FAILED")}))},_=function(e){return e.map((function(e,t){return{key:t,message:{id:"applications.detail.error.failedStackEvent",values:{resource:e.logicalResourceId,reason:e.resourceStatusReason}},scope:i.b}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"actions",(function(){return o})),n.d(t,"reducer",(function(){return s})),n.d(t,"selectors",(function(){return u}));var r=n(4),a=n(16),i=n(15).h.status,o={statusPageError:function(e){return{type:i.INIT_ERROR,error:e}},statusPageFetchStackResourcesComplete:function(e){return{type:i.FETCH_STACK_RESOURCES_COMPLETE,payload:e}},statusPageFetchStackStatusComplete:function(e){return{type:i.FETCH_STACK_STATUS_COMPLETE,payload:e}},statusPageInit:function(e){return{type:i.INIT,payload:e}},statusPageFetchApplicationComplete:function(e){return{type:i.FETCH_APPLICATION_COMPLETE,payload:e}},statusPageStackResourcesPollCancel:function(){return{type:i.STACK_RESOURCES_POLL_CANCEL}},statusPageStackResourcesPollInit:function(e){return{type:i.STACK_RESOURCES_POLL_INIT,payload:e}}},c=Object(r.Map)({loading:!0,hasErrors:!1,error:Object(r.Map)(),application:Object(r.Map)(),stackStatus:Object(r.Map)(),stackResources:Object(r.List)()});function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.INIT:return c;case i.FETCH_APPLICATION_COMPLETE:return e.set("application",Object(r.fromJS)(t.payload.application));case i.FETCH_STACK_STATUS_COMPLETE:return e.set("loading",!1).set("hasErrors",!1).set("stackStatus",Object(r.fromJS)(t.payload.stackStatus)).set("error",Object(r.Map)());case i.FETCH_STACK_RESOURCES_COMPLETE:return e.set("loading",!1).set("hasErrors",!1).set("error",Object(r.Map)()).set("stackResources",Object(r.fromJS)(t.payload.stackResources));case i.INIT_ERROR:return e.set("loading",!1).set("hasErrors",!0).set("error",Object(r.fromJS)(t.error));default:return e}}var u={getStackStatus:Object(a.createSelector)((function(e){return e.pages.status.get("stackStatus")}),(function(e){return e.toJS()})),getStackResources:Object(a.createSelector)((function(e){return e.pages.status.get("stackResources")}),(function(e){return e.toJS()})),getError:Object(a.createSelector)((function(e){return e.pages.status.get("error")}),(function(e){return e.toJS()})),getApplication:Object(a.createSelector)((function(e){return e.pages.status.get("application")}),(function(e){return e.toJS()}))}},,,,,,function(e,t,n){"use strict";function r(e,t){return 403===e.status&&(void 0===t||!(!e.message||!e.message.includes(t)))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return m}));var r=n(4),a=n(26),i=n(41),o=n(47),c=n(7);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n,i="default",s=new c.e(t).qualifier;return"cloudfront"!==e.id||s&&"$LATEST"!==s||(i="placeholder",n="lambdaAtEdge.state.deploymentPending"),Object(r.fromJS)({data:{id:e.id,enabled:!0},id:Object(o.a)(),name:e.getDisplayName(),icon:e.icon,type:"trigger",states:[Object(a.f)(n)],variant:i})}function p(e,t,n){var a=Object(i.j)(Object(r.fromJS)(e)),o=t.getDisplayName(),c=t.icon;if(a.get("thirdParty")){var s=null==n?void 0:n.find((function(e){return e.id===a.get("thirdParty")}));s&&(o=s.name,c=s.logo)}return Object(r.fromJS)({id:Object(i.e)(a),type:"trigger",name:o,icon:c,data:a,states:[]})}function f(e,t){var n=Object(i.j)(Object(r.fromJS)(e));return Object(r.fromJS)({id:Object(i.e)(n),type:"trigger",name:t.get("name"),icon:t.get("icon"),data:n,states:[]})}function m(e){var t=e.get("data"),n=t.get("originalTrigger").toJS();return u({},n,{data:JSON.stringify(u({},n.data,{enabled:t.get("enabled")}))})}},function(e,t,n){"use strict";n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return _})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return R})),n.d(t,"f",(function(){return A}));var r=n(2),a=n(4),i=n(22),o=n(8),c=n(20),s=n(14),u=n(29),l=n(7),d=n(11),p=n(9),f=n(5),m=n(40),b=regeneratorRuntime.mark(T),g=regeneratorRuntime.mark(x),y=regeneratorRuntime.mark(_),v=regeneratorRuntime.mark(w),h=regeneratorRuntime.mark(R),E=regeneratorRuntime.mark(A);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){var t,n,a,o,c,u;return regeneratorRuntime.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.functionName,n=e.eventId,p.next=3,Object(r.put)(Object(s.g)("event-modal"));case 3:return p.next=5,Object(r.select)(i.e.getSavedEvents);case 5:if(a=p.sent,o=a.find((function(e){return e.id===n})),c=o,!o||o.template){p.next=23;break}return p.prev=9,p.next=12,Object(r.call)(d.a.getTestEvent,{functionName:t,eventId:n});case 12:u=p.sent.body,c=S({},o,{template:Object(l.q)(u.template)}),p.next=23;break;case 16:return p.prev=16,p.t0=p.catch(9),p.next=20,Object(r.put)(Object(s.d)({scope:"event-modal",message:p.t0.message}));case 20:return p.next=22,Object(r.put)(i.c.loadTestEventFail());case 22:return p.abrupt("return",null);case 23:return p.next=25,Object(r.put)(i.c.loadTestEventSuccess(c));case 25:return p.abrupt("return",c);case 26:case"end":return p.stop()}}),b,null,[[9,16]])}function x(e){var t,n,o,c;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.functionName,u.next=3,Object(r.put)(Object(s.g)("event-modal"));case 3:return u.prev=3,u.next=6,Object(r.call)(d.a.listTestEvents,{functionName:t});case 6:return n=u.sent.body,o=Object(a.List)(n).map((function(e){return S({},e,{group:p.q})})),u.next=10,Object(r.put)(i.c.refreshTestEventsSuccess(o));case 10:u.next=18;break;case 12:return u.prev=12,u.t0=u.catch(3),u.next=16,Object(r.put)(Object(s.d)({scope:"event-modal",message:u.t0.message}));case 16:return u.next=18,Object(r.put)(i.c.refreshTestEventsFail());case 18:return u.next=20,Object(r.select)(i.e.getEventModalState,"savedEventId");case 20:return c=u.sent,u.next=23,Object(r.put)(i.c.loadTestEvent(t,c));case 23:case"end":return u.stop()}}),g,null,[[3,12]])}function _(e){var t,n,a,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.functionName,n=e.qualifier,a=e.eventId,o=e.eventCode,c.next=3,Object(r.put)(Object(s.g)("event-modal"));case 3:return c.prev=3,c.next=6,Object(r.call)(d.a.putTestEvent,{functionName:t,qualifier:n,eventId:a,eventCode:o});case 6:c.next=15;break;case 8:return c.prev=8,c.t0=c.catch(3),c.next=12,Object(r.put)(Object(s.d)({scope:"event-modal",message:c.t0.message}));case 12:return c.next=14,Object(r.put)(i.c.saveTestEventFail());case 14:return c.abrupt("return");case 15:return c.next=17,Object(r.put)(i.c.saveTestEventSuccess(a,o));case 17:return c.next=19,Object(r.put)(i.c.toggleEventModal());case 19:case"end":return c.stop()}}),y,null,[[3,8]])}function w(e){var t,n,u,b,g,y,h,E,O,j,T,x,_,w,R;return regeneratorRuntime.wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return t=e.functionName,n=e.qualifier,v.next=3,Object(r.put)(Object(s.g)("event-modal"));case 3:return v.prev=3,v.next=6,Object(r.call)(m.c,"sampleEvents");case 6:if(u=v.sent){v.next=14;break}return v.next=10,Object(r.call)(d.a.listSampleEvents);case 10:return g=v.sent.body,u=g.map((function(e){return S({},e,{template:Object(l.q)(e.template)})})),v.next=14,Object(r.call)(m.f,"sampleEvents",u);case 14:u=Object(a.List)(u),v.next=22;break;case 17:return v.prev=17,v.t0=v.catch(3),v.next=21,Object(r.put)(Object(s.c)({type:"error",scope:"event-modal",message:v.t0.message}));case 21:u=Object(a.List)();case 22:return v.prev=22,v.next=25,Object(r.call)(d.a.listTestEvents,{functionName:t});case 25:y=v.sent.body,b=Object(a.List)(y).map((function(e){return S({},e,{group:p.q})})),f.logEventWithValue(f.EVENT_NAMES.TESTEVENT_FD_NUM,b.size),v.next=39;break;case 30:return v.prev=30,v.t1=v.catch(22),v.next=34,Object(r.put)(Object(s.d)({scope:"event-modal",message:v.t1.message}));case 34:return v.next=36,Object(r.put)(Object(s.f)({message:v.t1.message,type:"error"}));case 36:return v.next=38,Object(r.put)(i.c.initEventModalFail());case 38:return v.abrupt("return");case 39:return v.prev=39,v.next=42,Object(r.call)(m.b,Object(c.j)(t));case 42:if(!(h=v.sent)){v.next=55;break}return v.next=46,Object(r.call)(Date.now);case 46:return E=v.sent,O="event".concat(Math.floor(E/1e3).toString()),v.next=50,Object(r.call)(d.a.putTestEvent,{functionName:t,qualifier:n,eventId:O,eventCode:h});case 50:return v.next=52,Object(r.call)(m.h,Object(c.j)(t));case 52:return v.next=54,Object(r.put)(Object(s.f)({message:{id:"functionDetail.testEvents.transition",values:{eventName:O}},type:"info"}));case 54:b=b.push({group:p.q,id:O,name:O,template:h});case 55:v.next=59;break;case 57:v.prev=57,v.t2=v.catch(39);case 59:return j=null,v.next=62,Object(r.call)(m.b,Object(c.k)(t));case 62:if((T=v.sent)&&b.find((function(e){return e.id===T}))?j=T:b.isEmpty()||(j=b.get(0).id),!p.f.includes("teletubby")){v.next=70;break}return v.next=67,Object(r.select)(o.d);case 67:_=v.sent,w=function(e){return"blueprints"in e&&e.blueprints.includes(_)},x=u.find(w);case 70:return R="hello-world",x&&(R=x.id),v.next=74,Object(r.put)(i.c.initEventModalSuccess(u,b,j,R));case 74:return v.next=76,Object(r.put)(i.c.loadTestEvent(t,j||R));case 76:case"end":return v.stop()}}),v,null,[[3,17],[22,30],[39,57]])}function R(e){var t,n,a,o,c;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.functionName,n=e.eventId,u.next=3,Object(r.put)(Object(s.g)("event-modal"));case 3:return u.prev=3,u.next=6,Object(r.call)(d.a.deleteTestEvent,{eventId:n,functionName:t});case 6:u.next=15;break;case 8:return u.prev=8,u.t0=u.catch(3),u.next=12,Object(r.put)(Object(s.d)({scope:"event-modal",message:u.t0.message}));case 12:return u.next=14,Object(r.put)(i.c.deleteTestEventFail());case 14:return u.abrupt("return");case 15:return u.next=17,Object(r.select)(i.e.getSavedEvents);case 17:return a=u.sent,o=a.find((function(e){return e.id!==n})),u.next=21,Object(r.select)(i.e.getBestBlueprintEventId);case 21:if(c=u.sent,!o){u.next=25;break}return u.next=25,Object(r.put)(i.c.loadTestEvent(t,o.id));case 25:return u.next=27,Object(r.put)(i.c.deleteTestEventSuccess(n,o?o.id:null,c));case 27:case"end":return u.stop()}}),h,null,[[3,8]])}function A(){var e,t,n,a,s,p,b,g,y,v;return regeneratorRuntime.wrap((function(h){for(;;)switch(h.prev=h.next){case 0:return h.t0=l.e,h.next=3,Object(r.select)(o.q);case 3:return h.t1=h.sent,e=new h.t0(h.t1),t=e.functionName,n=e.qualifier,a=void 0===n?null:n,h.next=10,Object(r.select)(i.e.getSavedEvents);case 10:if(!(s=h.sent).isEmpty()){h.next=16;break}return f.logEvent(f.EVENT_NAMES.TESTEVENT_FD("open")),h.next=15,Object(r.put)(i.c.toggleEventModal());case 15:return h.abrupt("return");case 16:return h.next=18,Object(r.select)(i.e.getEventIdToInvoke);case 18:if(p=h.sent,b=s.find((function(e){return e.id===p})),g=b.template){h.next=26;break}return h.next=24,Object(r.call)(T,{functionName:t,eventId:p});case 24:y=h.sent,g=y.template;case 26:return h.prev=26,h.next=29,Object(r.call)(d.a.invokeFunction,{functionName:t,qualifier:a,sampleEvent:g});case 29:return v=h.sent,f.logEvent("editInvoke",!0),f.logEvent(f.EVENT_NAMES.TESTEVENT_FD_RESULT,!v.body.error),h.next=34,Object(r.select)(i.e.getHasInvoked);case 34:if(h.sent){h.next=39;break}return f.logEvent("customerInvoke",!v.body.error),h.next=39,Object(r.put)(i.c.setHasInvoked());case 39:return h.next=41,Object(r.select)(u.b);case 41:return h.sent.query.newFunction&&f.logEvent("newFuncInvoke",!v.body.error),h.next=45,Object(r.put)(i.c.testSuccess(v.body));case 45:Object(m.e)(Object(c.k)(encodeURIComponent(t)),p),h.next=53;break;case 48:return h.prev=48,h.t2=h.catch(26),f.logEvent("editInvoke",!1),h.next=53,Object(r.put)(i.c.testFail(h.t2.message));case 53:case"end":return h.stop()}}),E,null,[[26,48]])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(3),s=n(7);function u(e,t){var n=e.value,r=t.intl;return a.a.createElement("span",{title:r.formatMessage({id:"functions.lastModified.tooltip"},{timestamp:n})},a.a.createElement(c.FormattedRelative,{value:Object(s.W)(n)}))}u.propTypes={value:o.a.oneOfType([o.a.string,o.a.instanceOf(Date)]).isRequired},u.contextTypes={intl:c.intlShape.isRequired}},,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return T})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return R}));var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(6),s=n(18),u=n.n(s),l=n(3),d=n(13),p=n(32),f=n(10),m=n(8),b=n(20),g=n(36),y=n(14),v=n(184),h=n(39),E=n(31),O=n(7),S=n(5),j=n(27);function T(e,t,n){var r=[],a=function(e,t,n){t||r.push({id:"lambdaAtEdge.validation.error.".concat(e),values:n})};return a("dlq","None"===e.dlq||!e.dlqArn),a("envVars",!e.envVars||0===e.envVars.length),a("layers",!e.layers||0===e.layers.length),a("vpc",!e.securityGroupIds||0===e.securityGroupIds.length),a("xray",!e.tracer),a("runtime",j.c.includes(e.runtime),{runtimes:j.c.map(j.r).sort().join(", ")}),n.eventType.startsWith("origin-")&&a("timeout",e.timeout<=30),n.eventType.startsWith("viewer-")&&(a("codeSize",e.codeSize<=1048576),a("memory",e.memory<=128),a("timeout",e.timeout<=5)),a("role",!t||t.trustedEntities.includes("edgelambda.amazonaws.com")),r}function x(e){var t=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(c.Button,{variant:"link",onClick:e.close},a.a.createElement(l.FormattedMessage,{id:"cancel"})),a.a.createElement(c.Button,{variant:"primary",loading:e.deploying,onClick:e.deploy},a.a.createElement(l.FormattedMessage,{id:"lambdaAtEdge.button.deploy"}))),n=a.a.createElement(E.a,null);return e.isOpen&&e.sourceDefinition&&e.targetDefinition&&e.target&&(n=a.a.createElement(v.a,{type:"trigger",source:e.trigger.getIn(["data","identifier"]),target:e.target,data:e.trigger.get("data"),persistedState:e.trigger.get("persistedState"),validation:e.trigger.get("validation"),focus:"lambda",sourceDefinition:e.sourceDefinition,targetDefinition:e.targetDefinition,onChange:function(t){return e.updateTrigger(t)}})),a.a.createElement(c.Modal,{className:"lambdaAtEdgeModal",size:"large",expandToFit:!0,header:a.a.createElement(l.FormattedMessage,{id:"lambdaAtEdge.modal.title"}),footer:t,visible:e.isOpen,onDismiss:e.close},a.a.createElement(g.a,{scope:"lambda-at-edge"}),n)}x.propTypes={deploying:o.a.bool.isRequired,isOpen:o.a.bool.isRequired,sourceDefinition:o.a.object,target:o.a.string,targetDefinition:o.a.object,trigger:u.a.map.isRequired,close:o.a.func.isRequired,deploy:o.a.func.isRequired,updateTrigger:o.a.func.isRequired};var _=Object(d.connect)((function(e){return{deploying:Object(m.E)(e,"lambdaAtEdge"),isOpen:Object(m.F)(e,"lambdaAtEdge"),sourceDefinition:h.c.getNodes(e).cloudfront,target:Object(m.q)(e),targetDefinition:h.c.getLambdaNode(e),trigger:Object(m.L)(e)}}),(function(e){return{close:function(){Object(S.logEvent)(S.EVENT_NAMES.EDGE_MODAL_CLOSE),e(Object(f.J)("lambdaAtEdge",!1)),e(Object(f.g)()),e(Object(y.g)("lambda-at-edge"))},deploy:function(){return e(Object(f.o)())},updateTrigger:function(t){return e(Object(f.V)(t))}}}))(x);function w(e){var t=e.isDeployDisabled,n=e.openDeployModal,r=e.sourceDefinition,i=e.target;return"alias"===Object(O.F)(new O.e(i).qualifier)?a.a.createElement(c.Alert,{type:"error"},a.a.createElement(l.FormattedMessage,{id:"trigger.cloudFront.error"})):a.a.createElement("div",null,a.a.createElement(l.FormattedMessage,{tagName:"p",id:"lambdaAtEdge.latest.blurb"}),a.a.createElement(l.FormattedMessage,{tagName:"h3",id:"lambdaAtEdge.latest.step2.header"}),a.a.createElement(l.FormattedMessage,{tagName:"p",id:"lambdaAtEdge.latest.step2.description"}),a.a.createElement(c.Button,{disabled:t,onClick:n},a.a.createElement(l.FormattedMessage,{id:"lambdaAtEdge.modal.title"})),a.a.createElement("p",{className:"awsui-util-mt-m"},r.formatMessage("blurb")))}w.propTypes={sourceDefinition:o.a.object.isRequired,target:o.a.string.isRequired,isDeployDisabled:o.a.bool.isRequired,openDeployModal:o.a.func.isRequired};var R=Object(d.connect)((function(e){return{isDeployDisabled:!Object(m.H)(e)}}),(function(e,t){var n=t.target;return{openDeployModal:function(){var t=new O.e(n),r=t.friendlyName,a=t.qualifier;Object(b.t)(r,a,"relation","cancel",{isLambdaAtEdge:!0}),e(Object(p.h)("/functions/".concat(n)))}}}))(w)},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return h}));var r=n(4),a=n(2),i=n(80),o=n(66),c=n(11),s=n(9),u=n(7),l=n(5);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=regeneratorRuntime.mark(g),m=regeneratorRuntime.mark(v),b=regeneratorRuntime.mark(h);function g(){var e,t,n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(a.call)(c.a.getSettings);case 3:return e=o.sent,t=e.body,o.next=7,Object(a.put)(Object(i.c)(t));case 7:return o.abrupt("return",Object(r.fromJS)(t));case 10:return o.prev=10,o.t0=o.catch(0),n={exception:o.t0.message},o.next=15,Object(a.put)(Object(i.c)(n));case 15:return o.abrupt("return",Object(r.fromJS)(n));case 16:case"end":return o.stop()}}),f,null,[[0,10]])}var y=function(t,n){return new Promise((function(r,a){var i,o=null===(i=e.AWSC)||void 0===i?void 0:i.UserPrefs[t];o&&"devo"!==Object(u.J)()?o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({partition:"lambda-console"},n),r,(function(e,t,n){return a(new Error(n))})):r()}))};function v(e){var t,n,r,c;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(t=e.name,n=e.content,!s.f.includes("up")){u.next=16;break}return u.next=4,Object(a.put)(Object(i.a)(n));case 4:return u.next=6,Object(a.select)(o.e);case 6:return r=u.sent,c=JSON.stringify(r.toJS()),u.prev=8,u.next=11,Object(a.call)(y,"setPref",{name:t,value:c});case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(8),l.logEvent(l.EVENT_NAMES.USER_PREF_SET);case 16:case"end":return u.stop()}}),m,null,[[8,13]])}function h(e){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!s.f.includes("up")){r.next=13;break}return r.prev=1,r.next=4,Object(a.call)(y,"getPref",{name:e});case 4:return t=r.sent,n=(null==t?void 0:t.Preferences[e])?JSON.parse(t.Preferences[e]):{},r.next=8,Object(a.put)(Object(i.e)(n));case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),l.logEvent(l.EVENT_NAMES.USER_PREF_GET);case 13:case"end":return r.stop()}}),b,null,[[1,10]])}}).call(this,n(37))},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return w}));var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(3),s=n(6),u=n(56),l=n.n(u),d=n(202),p=n.n(d),f=n(41),m=n(42),b=n(9);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,E(t).call(this,e))).state={expanded:!1},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),n=t,(r=[{key:"toggleDetails",value:function(){this.setState((function(e){return{expanded:!e.expanded}}))}},{key:"isCompositeDetail",value:function(e){return"object"===y(e.value)&&!Array.isArray(e.value)}},{key:"render",value:function(){var e=this,t=this.props.details.map((function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{name:(n=e.props.service.config,r=t.key,n.getMessage("data.".concat(r))||n.getMessage("schema.".concat(r,".name"))||r),formatted:Object(f.d)(t.value,e.context.intl)});var n,r})).filter((function(e){return!!e.formatted})).filter((function(t){var n,r,a=null===(n=e.props.service.config.widgetAnnotations[t.key])||void 0===n?void 0:null===(r=n.visible)||void 0===r?void 0:r.preview;return!a||b.f.includes(a)})).sort((function(e,t){return e.name.localeCompare(t.name)})),n=null,r=null;return(t.length>3||t.some(this.isCompositeDetail))&&(n=o.a.createElement(s.Button,{variant:"icon",icon:this.state.expanded?"caret-down-filled":"caret-right-filled",onClick:this.toggleDetails.bind(this)}),r=o.a.createElement("span",{className:"title"},o.a.createElement(c.FormattedMessage,{tagName:"strong",id:"details"}))),o.a.createElement("ul",{className:l()("trigger-details",{expanded:this.state.expanded})},n,r,t.map((function(t,n){var r=o.a.createElement("strong",null,t.link?o.a.createElement("a",{href:t.link,target:"_blank",rel:"noopener noreferrer"},t.formatted):t.formatted);return o.a.createElement("li",{key:n,className:l()({overflow:n>=3||e.isCompositeDetail(t)})},o.a.createElement(c.FormattedMessage,{id:"separator",values:{key:t.name,value:r}}))})))}}])&&v(n.prototype,r),a&&v(n,a),t}(o.a.Component);S(j,"propTypes",{details:a.a.arrayOf(m.f),service:m.d}),S(j,"contextTypes",{intl:c.intlShape.isRequired});var T={info:"status-info",warning:"status-warning",error:"status-negative",fatal:"status-negative"},x={info:"info",warning:"warning",error:"error",fatal:"error"},_={info:"link",warning:"warning",error:"error",fatal:"error"};function w(e){var t=e.level,n=e.message;return o.a.createElement("p",{className:l()("trigger-exception",t)},o.a.createElement(s.Icon,{variant:_[t],name:T[t]}),o.a.createElement("span",{dangerouslySetInnerHTML:{__html:(new p.a).renderInline(n)}}))}w.propTypes={level:a.a.string,message:a.a.string}},,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"l",(function(){return R})),n.d(t,"m",(function(){return I})),n.d(t,"k",(function(){return W})),n.d(t,"j",(function(){return K})),n.d(t,"d",(function(){return J})),n.d(t,"f",(function(){return Q})),n.d(t,"g",(function(){return X})),n.d(t,"i",(function(){return $})),n.d(t,"h",(function(){return Z})),n.d(t,"e",(function(){return ee})),n.d(t,"a",(function(){return oe}));var r=n(4),a=n(2),i=n(16),o=n(253),c=n(121),s=n(14),u=n(17),l=n(11),d=n(5);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var f=regeneratorRuntime.mark(te),m=regeneratorRuntime.mark(ne),b=regeneratorRuntime.mark(re),g=regeneratorRuntime.mark(ae),y=regeneratorRuntime.mark(ie),v=regeneratorRuntime.mark(ce),h=regeneratorRuntime.mark(se);function E(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var O="listApplications",S="AWS::Lambda::Function",j=["ROLLBACK_COMPLETE"],T=Object(r.Map)({appLoaded:!1,appLoading:!1,applications:Object(r.List)(),pinnedApplications:Object(r.List)(),deleteApplication:Object(r.Map)(),modals:Object(r.Map)()}),x=function(e,t){var n=t.payload;return e.update("applications",(function(e){var t=n.filteredApplication;return e.push.apply(e,E(Array.isArray(t)?t:[t]))}))},_=function(e){return{type:Object(u.b)(O,"ADD_FILTERED_APPLICATION"),payload:{filteredApplication:e},reducer:x}},w=function(e){return e.set("appLoaded",!1).set("appLoading",!1).set("applications",Object(r.List)())},R=function(){return{type:Object(u.b)(O,"REFRESH"),reducer:w}},A=function(e,t){var n=t.payload;return e.update("applications",(function(e){return e.filter((function(e){return e.stackName!==n.appName}))}))},I=function(e){return{type:Object(u.b)(O,"REMOVE"),payload:{appName:e},reducer:A}},N=function(e,t){var n=t.payload;return e.set("appLoaded",n.appLoaded)},C=function(e){return{type:Object(u.b)(O,"SET_IS_APP_LOADED"),payload:{appLoaded:e},reducer:N}},k=function(e,t){var n=t.payload;return e.set("appLoading",n.appLoading)},P=function(e){return{type:Object(u.b)(O,"SET_IS_APP_LOADING"),payload:{appLoading:e},reducer:k}},D=function(e,t){var n=t.payload;return e.set("pinnedApplications",n.pinnedApplications)},M=function(e){return{type:Object(u.b)(O,"SET_PINNED_APPLICATIONS"),payload:{pinnedApplications:e},reducer:D}},L=function(e,t){var n=t.payload;return e.setIn(["modals",n.modalType,"isOpen"],n.modalState)},F=function(e,t){return{type:Object(u.b)(O,"SET_MODAL"),payload:{modalType:e,modalState:t},reducer:L}},q=function(e,t){var n=t.payload;return e.setIn(["deleteApplication","loading"],n.loading)},V=function(e){return{type:Object(u.b)(O,"SET_DELETE_APPLICATION_LOADING"),payload:{loading:e},reducer:q}},U=function(e,t){var n=t.payload;return e.setIn(["deleteApplication","error"],n.error)},G=function(e){return{type:Object(u.b)(O,"SET_DELETE_APPLICATION_ERROR"),payload:{error:e},reducer:U}},B=function(e,t){var n=t.payload;return e.setIn(["deleteApplication","toolchainStack"],n.toolchainStack)},z=function(e){return{type:Object(u.b)(O,"SET_DELETE_APPLICATION_TOOLCHAIN_STACK"),payload:{toolchainStack:e},reducer:B}},H=function(){return{type:Object(u.b)(O,"LIST_PINNED_APPLICATIONS")}},W=function(e){return{type:Object(u.b)(O,"INIT_DELETE_APPLICATION_MODAL"),payload:{appName:e}}},K=function(){return{type:Object(u.b)(O,"HIDE_DELETE_APPLICATION_MODAL")}},Y=function(e){return e.pages[O]},J=Object(i.createSelector)(Y,(function(e){return e.get("applications")})),Q=Object(i.createSelector)(Y,(function(e){return e.get("appLoaded")})),X=Object(i.createSelector)(Y,(function(e){return e.get("appLoading")})),$=Object(i.createSelector)(Y,(function(e){return e.get("pinnedApplications")})),Z=function(e,t){return Y(e).getIn(["modals",t,"isOpen"],!1)},ee=Object(i.createSelector)(Y,(function(e){return e.get("deleteApplication").toJS()}));function te(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(a.call)(l.a.listStackResources,{stackArn:e.stackId});case 2:if(t=n.sent,!t.body.some((function(e){return e.resourceType===S}))){n.next=7;break}return n.next=7,Object(a.put)(_(e));case 7:case"end":return n.stop()}}),f)}function ne(){var e,t,n,r,i,c,u,f,b,g,y;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Object(a.put)(P(!0));case 2:Object(d.startCustomTimer)(d.EVENT_NAMES.APPS_LIST_APPS_LOAD),t=[],m.prev=4;case 5:return m.next=7,Object(a.call)(l.a.listStacks,{nextToken:e});case 7:n=m.sent,r=n.body,t=t.concat(r.stacks.filter((function(e){return!j.includes(e.stackStatus)}))),e=r.token;case 11:if(e){m.next=5;break}case 12:m.next=24;break;case 14:if(m.prev=14,m.t0=m.catch(4),!m.t0.message){m.next=23;break}return m.next=19,Object(a.put)(Object(s.d)({message:m.t0.message,scope:O}));case 19:return Object(d.stopCustomTimer)(d.EVENT_NAMES.APPS_LIST_APPS_LOAD),m.next=22,Object(a.put)(P(!1));case 22:return m.abrupt("return");case 23:throw m.t0;case 24:return i=t.length,Object(d.logEventWithValue)(d.EVENT_NAMES.APPS_LIST_STACKS_NUM,i),c=Object(o.b)(t),u=p(c,2),f=u[0],b=u[1],m.next=29,Object(a.put)(_(f));case 29:g=0;case 30:if(!(g<Math.ceil(i/3))){m.next=36;break}return m.next=33,Object(a.all)(b.slice(3*g,3*g+3).map((function(e){return Object(a.call)(te,e)})));case 33:g++,m.next=30;break;case 36:return m.next=38,Object(a.select)(J);case 38:return y=m.sent,Object(d.logEventWithValue)(d.EVENT_NAMES.APPS_LIST_APPS_NUM,y.size),Object(d.stopCustomTimer)(d.EVENT_NAMES.APPS_LIST_APPS_LOAD),m.next=43,Object(a.put)(C(!0));case 43:return m.next=45,Object(a.put)(P(!1));case 45:case"end":return m.stop()}}),m,null,[[4,14]])}function re(){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(a.put)(H());case 2:return n.next=4,Object(a.select)(Q);case 4:return e=n.sent,n.next=7,Object(a.select)(X);case 7:if(t=n.sent,e||t){n.next=11;break}return n.next=11,Object(a.spawn)(ne);case 11:return n.abrupt("return",!0);case 12:case"end":return n.stop()}}),b)}function ae(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(r.fromJS)([{name:"serverless-hello-world-python3",lambda:2,apigw:2,iam:1},{name:"serverless-kinesis-firehose-apachelog-to-csv",lambda:1,apigw:1,iam:0},{name:"serverless-serverless-survey23",lambda:3,apigw:1,iam:0}]),t.next=3,Object(a.put)(M(e));case 3:case"end":return t.stop()}}),g)}function ie(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.spawn)(ne);case 2:case"end":return e.stop()}}),y)}var oe="DELETE_APPLICATION_MODAL";function ce(e){var t,n,r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,i.next=3,Object(a.put)(z());case 3:return i.next=5,Object(a.put)(F(oe,!0));case 5:return i.next=7,Object(a.put)(V(!0));case 7:return i.prev=7,i.next=10,Object(a.call)(l.a.describeStack,{stackArn:Object(c.d)(t.appName)});case 10:return n=i.sent,r=n.body,i.next=14,Object(a.put)(z(r));case 14:i.next=21;break;case 16:if(i.prev=16,i.t0=i.catch(7),400===i.t0.status){i.next=21;break}return i.next=21,Object(a.put)(G(i.t0.message));case 21:return i.next=23,Object(a.put)(V(!1));case 23:case"end":return i.stop()}}),v,null,[[7,16]])}function se(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.put)(F(oe,!1));case 2:case"end":return e.stop()}}),h)}var ue=new u.a({id:O,initialState:T,init:re,hasHelpContent:!0,watchers:[{matcher:Object(u.b)(O,"LIST_PINNED_APPLICATIONS"),task:ae},{matcher:Object(u.b)(O,"REFRESH"),task:ie},{matcher:Object(u.b)(O,"INIT_DELETE_APPLICATION_MODAL"),task:ce},{matcher:Object(u.b)(O,"HIDE_DELETE_APPLICATION_MODAL"),task:se}]});t.c=ue},,function(e,t,n){"use strict";var r=n(4),a=n(15),i=n(158),o=n(324),c=n(187),s=n(325),u=n(17),l="createApplicationDiscover",d=Object(r.Map)();var p=new u.a({id:l,preview:"huesillo",initialState:d,init:function(){return!0},resetStateOnInit:!0}),f=n(428),m=n(35),b=n(87),g=n(201),y=new u.a({id:m.b,initialState:b.a,init:g.e,hasHelpContent:!0,resetStateOnInit:!0,customReducer:b.c,watchers:[{matcher:m.a.GET_APP_DEPLOYMENTS,task:g.d},{matcher:m.a.POLL_APP,task:g.f,latest:!0},{matcher:m.a.POLL_PROJECT,task:g.g,latest:!0}]}),v=n(429),h=n(203),E=n(159),O=n(430),S=n(235),j=n(244),T=n(63),x=n(155),_=n(90),w=n(431),R=n(191),A=n(210),I=n(9),N=n(230),C=n(432);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"c",(function(){return M})),n.d(t,"a",(function(){return L})),n.d(t,"d",(function(){return q})),n.d(t,"b",(function(){return V}));var M=[i.b,o.a,c.a,v.a,E.a,s.a,p,f.a,h.b,O.a,C.a,S.a,x.c,_.b,w.a,j.a,y,N.a],L={init:function(e){return{type:a.h.INIT,page:e}}},F=Object(r.Map)(P({},M.reduce((function(e,t){return P({},e,D({},t.config.id,t.reducer))}),{}),{functionDesigner:n(963).reducer,configureApplication:n(204).reducer,status:n(122).reducer}));function q(e,t){var n=function(e,t){var n=F.map((function(n,r){return n(e&&e[r]||void 0,t)}));return!e||n.filter((function(t,n){return t!==e[n]})).size?P({currentPage:(null==e?void 0:e.currentPage)||{}},n.toObject()):e}(e,t);switch(t.type){case a.h.INIT:return P({},n,{currentPage:t.page});default:return n}}var V={functionDesigner:T.k};I.f.includes("serverless-registry")&&(V.configureApplication=R.b,V.status=A.c),M.forEach((function(e){var t=e.config,n=t.id,r=t.preview;r&&!I.f.includes(r)||(V[n]=e.loadTask)}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"d",(function(){return z})),n.d(t,"c",(function(){return H}));var r=n(4),a=n(2),i=n(16),o=n(14),c=n(23),s=n(17),u=n(29),l=n(11),d=n(7),p=n(43),f=n(9),m=n(5);function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var g=regeneratorRuntime.mark(k),y=regeneratorRuntime.mark(P),v=regeneratorRuntime.mark(D),h=regeneratorRuntime.mark(L),E=regeneratorRuntime.mark(F),O=regeneratorRuntime.mark(q),S=regeneratorRuntime.mark(V),j=regeneratorRuntime.mark(U),T=regeneratorRuntime.mark(G),x=regeneratorRuntime.mark(B),_="addDatabaseProxy",w=Object(r.Map)({creating:!1,selection:"createNew"}),R=function(e){return e.set("creating",!0)},A=function(){return{type:Object(s.b)(_,"CREATE_PROXY_CHECK_ROLE")}},I=function(e,t){var n=t.payload;return e.set("creating",n.isCreating)},N=function(e){return{type:Object(s.b)(_,"CREATE_PROXY_STATUS"),payload:{isCreating:e},reducer:I}},C=Object(i.createSelector)((function(e){return e.pages[_]}),(function(e){return e.get("creating")}));function k(e,t,n,r){var i,c,s,u,d;return regeneratorRuntime.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return i=null,c=null,p.prev=2,s={dBProxyName:e,engineFamily:"MYSQL",vpcSubnetIds:t,roleArn:r,auth:[{authScheme:"SECRETS",secretArn:n}]},p.next=6,Object(a.call)(l.a.createRdsProxy,s);case 6:u=p.sent,d=u.body,i=d.dbproxy.dbproxyName,c=d.dbproxy.dbproxyArn,p.next=18;break;case 12:return p.prev=12,p.t0=p.catch(2),p.next=16,Object(a.put)(Object(o.d)({scope:"addDatabaseProxyAlerts",message:{id:"addDatabaseProxy.createNew.failure.default",values:{error:p.t0.message||""}}}));case 16:return p.next=18,Object(a.put)(N(!1));case 18:return p.abrupt("return",!(!i||!c)&&{dbproxyName:i,dbproxyArn:c});case 19:case"end":return p.stop()}}),g,null,[[2,12]])}function P(){var e,t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=[],r.prev=1,r.next=4,Object(a.call)(l.a.listRdsSubnets);case 4:t=r.sent,n=t.body.dbsubnetGroups,e=n,r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),e=[];case 12:return r.abrupt("return",e);case 13:case"end":return r.stop()}}),y,null,[[1,9]])}function D(e){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=null,r.prev=1,r.next=4,Object(a.call)(l.a.getFunctionConfiguration,{functionName:e});case 4:n=r.sent,t=(null==n?void 0:n.body)||null,r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(a.put)(Object(o.d)({scope:"addDatabaseProxyAlerts",message:{id:"addDatabaseProxy.createNew.failure.incorrectFunction",values:{error:e}}}));case 12:return r.next=14,Object(a.put)(N(!1));case 14:return r.abrupt("return",t);case 15:case"end":return r.stop()}}),v,null,[[1,8]])}function M(e){return e}function L(e,t){var n,r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=[],i.prev=1,r=t.map((function(t){var n=t.id,r=t.dbType,i={dBProxyName:e,targetGroupName:"default"};return i["dB".concat("cluster"===r?"Cluster":"Instance","Identifiers")]=[n],Object(a.call)(l.a.registerRdsProxyTargets,i)})),i.next=5,Object(a.all)(r);case 5:i.sent.forEach((function(e){var t;200===e.status&&(n=n.concat((null==e?void 0:null===(t=e.body)||void 0===t?void 0:t.dbproxyTargets)||[]))})),i.next=15;break;case 9:return i.prev=9,i.t0=i.catch(1),i.next=13,Object(a.put)(Object(o.d)({scope:"addDatabaseProxyAlerts",message:{id:"addDatabaseProxy.createNew.failure.default",values:{error:i.t0.message||""}}}));case 13:return i.next=15,Object(a.put)(N(!1));case 15:return i.abrupt("return",n.length>0&&n);case 16:case"end":return i.stop()}}),h,null,[[1,9]])}function F(e,t){var n,r,i,c,s;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return n=!1,r="".concat(e.split(":rds:").join(":rds-db:").split(":db-proxy:").join(":dbuser:"),"/*"),u.prev=2,i=new d.f(r),c={roleType:"Lambda",roleSelectionType:"existing",existingRole:t,roleTemplates:[f.m],dbProxy:i.proxyUuid},u.next=7,Object(a.call)(l.a.updateRole,c);case 7:(s=u.sent)&&200===s.status&&(n=!0),u.next=17;break;case 11:return u.prev=11,u.t0=u.catch(2),u.next=15,Object(a.put)(Object(o.d)({scope:"addDatabaseProxyAlerts",message:{id:"addDatabaseProxy.createNew.failure.executionRole"}}));case 15:return u.next=17,Object(a.put)(N(!1));case 17:return u.abrupt("return",n);case 18:case"end":return u.stop()}}),E,null,[[2,11]])}function q(){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(a.select)(M);case 2:return e=n.sent,t=Object(c.c)(e,_,"functionName"),n.next=6,Object(a.put)(Object(p.d)(t,null,null,null));case 6:case"end":return n.stop()}}),O)}function V(){var e,t,n,r,i,s,u,d,p;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Object(a.select)(M);case 2:if(e=m.sent,t=Object(c.c)(e,_,"secretManagerArn"),n=Object(c.c)(e,_,"existingRole"),!t||!n){m.next=20;break}return i=Object(c.a)(e,_,"secretManagerArn"),s=["secretsmanager:GetResourcePolicy","secretsmanager:GetSecretValue","secretsmanager:DescribeSecret","secretsmanager:ListSecretVersionIds"],((null===(r=i.find((function(e){return e.mapped.value===t})))||void 0===r?void 0:r.needsKms)||!1)&&s.concat(["kms:Decrypt"]),m.next=12,Object(a.call)(l.a.simulateRolePolicy,{arn:n,actionsName:s,resourceArns:[t]});case 12:if(u=m.sent,d=u.body,!((p=s.filter((function(e){return d[e]!==f.o.allowed}))).length>0)){m.next=20;break}return m.next=18,Object(a.put)(Object(o.d)({scope:"addDatabaseProxyAlerts",message:{id:"addDatabaseProxy.createNew.failure.incorrectPermissions",values:{error:p.join(", ")}}}));case 18:return m.next=20,Object(a.put)(N(!1));case 20:case"end":return m.stop()}}),S)}function U(e){var t,n,r,i,s,u,l,d,f,g,y,v,h,E,O,S;return regeneratorRuntime.wrap((function(j){for(;;)switch(j.prev=j.next){case 0:return t=e.payload.formData,j.next=3,Object(a.put)(Object(o.g)(_));case 3:return n=t.proxySelection,r=t.functionName,i=t.existingEndpoint,j.next=6,Object(a.call)(D,r);case 6:if(s=j.sent,u=[t.rdsInstance],s){j.next=10;break}return j.abrupt("return");case 10:if(l=null,"chooseExisting"!==n){j.next=15;break}l=i,j.next=47;break;case 15:return j.next=17,Object(a.select)(M);case 17:if(d=j.sent,f=!1,g=Object(c.a)(d,"addDatabaseProxy","rdsInstance"),y=[],v=g.reduce((function(e,t){var n=e?b(e):[];return u.includes(t.mapped.id)&&(f||(f="cluster"===t.mapped.dbType),n.push(t.original),y.push({id:t.mapped.id,dbType:t.mapped.dbType})),n}),null),!f){j.next=28;break}return j.next=25,Object(a.call)(P);case 25:j.t0=j.sent,j.next=29;break;case 28:j.t0=[];case 29:return h=j.t0,E=v.reduce((function(e,t){var n=e?b(e):[];if(t.dbsubnetGroup&&t.dbsubnetGroup.subnets&&(n=b(new Set(n.concat(t.dbsubnetGroup.subnets.map((function(e){return e.subnetIdentifier})))))),t.dbsubnetGroup&&t.dbclusterIdentifier&&!t.dbinstanceIdentifier){var r=h.find((function(e){return e.dbsubnetGroupName===t.dbsubnetGroup}));n=b(new Set(n.concat(r.subnets.map((function(e){return e.subnetIdentifier})))))}return n}),null),j.next=33,Object(a.call)(k,t.databaseProxyIdentifier,E,t.secretManagerArn,t.existingRole);case 33:if(!(O=j.sent)){j.next=46;break}return j.next=37,Object(a.call)(L,O.dbproxyName,y);case 37:if(!((S=j.sent)&&S.length>0)){j.next=43;break}l=O.dbproxyArn,Object(m.logEvent)(m.EVENT_NAMES.PROXY_CREATED),j.next=44;break;case 43:return j.abrupt("return");case 44:j.next=47;break;case 46:return j.abrupt("return");case 47:return j.next=49,Object(a.call)(F,l,s.role);case 49:if(!j.sent){j.next=55;break}return j.next=53,Object(a.put)(N(!1));case 53:return j.next=55,Object(a.put)(Object(p.d)(r,null,null,null));case 55:case"end":return j.stop()}}),j)}function G(e){var t,n,r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(a.put)(Object(c.i)(_,{proxySelection:"createNew"}));case 2:return t=e.query,n=t.function,r=t.databaseProxy,i.abrupt("return",{functionName:n,databaseProxy:r});case 4:case"end":return i.stop()}}),T)}function B(e){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.functionName,n=e.databaseProxy,r.next=3,Object(a.put)(Object(c.i)(_,{roleSelectionType:"existing",proxySelection:f.f.includes("hectograph")?"chooseExisting":"createNew"}));case 3:if(!t){r.next=6;break}return r.next=6,Object(a.put)(Object(c.l)(_,"functionName",t));case 6:if(!n){r.next=9;break}return r.next=9,Object(a.put)(Object(c.l)(_,"existingProxy",n));case 9:return r.abrupt("return",!0);case 10:case"end":return r.stop()}}),x)}var z=function(e){return{creating:C(e),selection:Object(c.c)(e,_,"proxySelection")||"createNew",showFunctionSelector:!Object(u.b)(e).query.function}},H=function(e){return{add:function(t){var n=t.proxySelection;return Object(m.logEvent)(m.EVENT_NAMES.PROXY_ADD("chooseExisting"===n?"e":"n")),e(function(e){return{type:Object(s.b)(_,"CREATE_PROXY"),payload:{formData:e},reducer:R}}(t))},cancel:function(){return Object(m.logEvent)(m.EVENT_NAMES.PROXY_CANCEL),e({type:Object(s.b)(_,"CANCEL")})}}},W=new s.a({id:_,preview:"dittograph",initialState:w,init:B,load:G,hasHelpContent:!1,resetStateOnInit:!0,watchers:[{matcher:Object(s.b)(_,"CANCEL"),task:q},{matcher:Object(s.b)(_,"CREATE_PROXY"),task:U},{matcher:Object(s.b)(_,"CREATE_PROXY_CHECK_ROLE"),task:V}]});t.b=W},function(e,t,n){"use strict";n.d(t,"b",(function(){return ee})),n.d(t,"d",(function(){return ae})),n.d(t,"c",(function(){return ie}));var r=n(4),a=n(32),i=n(2),o=n(16),c=n(203),s=n(45),u=n(14),l=n(50),d=n(44),p=n(106),f=n(41),m=n(57),b=n(39),g=n(43),y=n(20),v=n(17),h=n(29),E=n(47),O=n(11),S=n(7),j=n(9),T=n(5),x=n(40),_=n(27),w=n(98),R=regeneratorRuntime.mark($),A=regeneratorRuntime.mark(Z),I=regeneratorRuntime.mark(ee),N=regeneratorRuntime.mark(te),C=regeneratorRuntime.mark(ne),k=regeneratorRuntime.mark(re),P="configureBlueprint",D="newFunction=true",M=Object(r.Map)({creating:!1,existingFunctionNames:[],trigger:Object(r.Map)({data:Object(r.Map)(),validation:Object(r.Map)()})}),L=function(e){return e.set("creating",!0)},F=function(e){return e.set("creating",!1)},q=function(){return{type:Object(v.b)(P,"CREATE_DONE"),reducer:F}},V=function(e,t){var n=t.payload;return e.set("existingFunctionNames",n.functionNames)},U=function(e){return{type:Object(v.b)(P,"FETCH_EXISTING_FUNCTION_NAMES_COMPLETE"),payload:{functionNames:e},reducer:V}},G=function(e,t){var n=t.payload;return e.set("blueprint",n.blueprint).set("code",n.code).setIn(["trigger","data","id"],n.triggerId||"").updateIn(["trigger","data","enabled"],(function(e){return!n.triggerId&&e}))},B=function(e,t,n){return{type:Object(v.b)(P,"SET_BLUEPRINT"),payload:{blueprint:e,code:t,triggerId:n},reducer:G}},z=function(e,t){var n=t.payload;return e.set("trigger",Object(f.g)(e.get("trigger"),n.data))},H=function(e){return e.pages[P]},W=Object(o.createSelector)(H,(function(e){return e.get("blueprint")})),K=Object(o.createSelector)(H,(function(e){return e.get("existingFunctionNames")})),Y=Object(o.createSelector)(H,(function(e){return e.get("creating")})),J=Object(o.createSelector)(H,(function(e){return e.get("trigger")})),Q={Description:"description",Runtime:"runtime",Handler:"handler",MemorySize:"memory",Timeout:"timeout",Variables:"envVars"};function X(e){var t=Object(r.fromJS)(e.config.config.lambda);if((t=t.set("Variables",Object(r.List)())).hasIn(["Environment","Variables"])){var n=t.getIn(["Environment","Variables"]).reduce((function(e,t,n){return e.push(new m.b({key:n,value:t}))}),Object(r.List)());t=t.set("Variables",n)}return Object(r.Map)(t.filter((function(e,t){return Q[t]})).map((function(e,t){return[Q[t],e]})).values())}function $(e,t,n){var r,a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=Object(_.k)(t,n),o.next=3,Object(i.call)(w.f,e.encodedZip,!0,r);case 3:return a=o.sent,o.next=6,Object(i.put)(d.c("create.rawZip",e.encodedZip));case 6:return o.next=8,Object(i.call)(w.c,e.encodedZip,!0);case 8:if(!0!==o.sent){o.next=12;break}return o.next=12,Object(i.put)(Object(u.e)({scope:P,message:{id:"warning.frontend.containsLibraries.create"}}));case 12:return o.abrupt("return",a);case 13:case"end":return o.stop()}}),R)}function Z(){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.call)(c.e);case 2:return e=n.sent,t=e.functionNames,n.next=6,Object(i.put)(U(t));case 6:case"end":return n.stop()}}),A)}function ee(e){var t,n,a,o,c,s,u,l,p;return regeneratorRuntime.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.blueprintName,f.next=3,Object(i.call)(O.a.getBlueprint,{blueprint:t});case 3:return n=f.sent,a=n.body,o=X(a),c=Object(r.Map)(Object(_.p)(o.get("runtime"))),s=c.merge(o),f.next=10,s.sortBy((function(e,t){return t}),(function(e,t){return e.localeCompare(t)})).map((function(e,t){return Object(i.put)(d.c("create.".concat(t),e))})).toList().toJS();case 10:return f.next=12,Object(i.call)($,a,s.get("handler"),s.get("runtime"));case 12:return u=f.sent,f.next=15,Object(i.put)(d.c("create.inline",u));case 15:return l=Object.keys(a.config.config.triggers||{})[0],f.next=18,Object(i.put)(d.c("create.sessionId",Object(E.b)(8)));case 18:if(!a.config.config.roleTemplates){f.next=24;break}return p=j.n.filter((function(e){return a.config.config.roleTemplates.includes(e.id)})).map((function(e){return JSON.stringify(e)})),f.next=22,Object(i.put)(d.c("create.roleSelectionType","template"));case 22:return f.next=24,Object(i.put)(d.c("create.roleTemplates",p));case 24:if(!a.config.config.allowedRoleTemplates){f.next=27;break}return f.next=27,Object(i.put)(d.c("create.allowedRoleTemplates",a.config.config.allowedRoleTemplates));case 27:return f.next=29,Object(i.put)(B(a,u,l));case 29:case"end":return f.stop()}}),I)}function te(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.query.blueprint||e.query.bp,n.next=3,Object(i.put)(Object(a.i)({query:{bp:void 0,blueprint:t}},{persistQuery:!0}));case 3:return n.abrupt("return",t);case 4:case"end":return n.stop()}}),N)}function ne(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=4;break}return t.next=3,Object(i.put)(Object(a.h)("/create/function"));case 3:return t.abrupt("return",null);case 4:return t.next=6,Object(i.put)(d.a("create"));case 6:return t.next=8,Object(i.put)(d.a("trigger"));case 8:return t.prev=8,t.next=11,Object(i.put)(Object(s.b)());case 11:return t.next=13,Object(i.call)(ee,{blueprintName:e});case 13:return t.next=15,Object(i.spawn)(Z);case 15:return t.abrupt("return",!0);case 18:if(t.prev=18,t.t0=t.catch(8),400!==t.t0.status){t.next=24;break}return t.next=23,Object(i.put)(Object(a.h)("/create/function"));case 23:return t.abrupt("return",null);case 24:return t.next=26,Object(i.put)(Object(u.d)({scope:P,message:t.t0.message}));case 26:return t.abrupt("return",!1);case 27:case"end":return t.stop()}}),C,null,[[8,18]])}function re(){var e,t,n,r,a,o,s,d,v,h,E,_,w,R,A;return regeneratorRuntime.wrap((function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,Object(i.put)(Object(u.g)());case 2:return I.next=4,Object(i.put)(Object(l.d)());case 4:return I.next=6,Object(i.select)(J);case 6:return e=I.sent,I.next=9,Object(i.select)(p.d);case 9:return t=I.sent,n=e.getIn(["data","id"]),r="cloudfront"===n,I.next=14,Object(i.select)(W);case 14:if(a=I.sent){I.next=17;break}throw new Error("No blueprint selected");case 17:return t.blueprintName=a.config.name,t.blueprintVersion=a.config.version,delete t.inline,j.f.includes("teletubby")&&t.tags.unshift(new m.b({key:j.a,value:t.blueprintName}).toJS()),I.prev=21,I.next=24,Object(i.call)(O.a.createFunction,t);case 24:Object(T.logEvent)(T.EVENT_NAMES.CREATE_FUNCTION,!0),Object(T.logEventWithDetail)(T.EVENT_NAMES.CREATE_FUNCTION_BLUEPRINT,{blueprint:a.config.name},!0),I.next=41;break;case 28:return I.prev=28,I.t0=I.catch(21),I.next=32,Object(i.call)(S.ab);case 32:return I.next=34,Object(i.call)(c.f,I.t0);case 34:return o=I.sent,Object(T.logEventWithDetail)(T.EVENT_NAMES.CREATE_FUNCTION_BLUEPRINT,{blueprint:a.config.name},!1),I.next=38,Object(i.put)(Object(u.d)({scope:P,message:o}));case 38:return I.next=40,Object(i.put)(q());case 40:return I.abrupt("return");case 41:return I.prev=41,Object(T.logEvent)(T.EVENT_NAMES.CREATE_FUNCTION),Object(T.logEventWithDetail)(T.EVENT_NAMES.CREATE_FUNCTION_BLUEPRINT,{blueprint:a.config.name}),I.finish(41);case 45:if(s=t.functionName,d=null,v=S.e.fromFunctionName(s,d).arn,!n||r){I.next=72;break}return I.prev=49,I.next=52,Object(i.select)(b.c.getNodes);case 52:return h=I.sent,E=h[n],I.next=56,Object(i.call)(f.f.beforeCreate,e.toJS(),{definition:E,target:v});case 56:return _=I.sent,I.next=59,Object(i.call)(S.k,f.b,[0,1e3,2e3,4e3,8e3],"ensure the role can perform",v,_,E);case 59:return w=I.sent,R=E.toggle&&!1===e.getIn(["data","enabled"])?"disabled":"enabled",A=w.data.sourceName,I.next=64,Object(i.put)(Object(u.c)({type:"success",key:"created",message:{id:"functionDetail.alert.createTriggerSuccess.".concat(R),values:{functionName:s,trigger:A}}}));case 64:I.next=70;break;case 66:return I.prev=66,I.t1=I.catch(49),I.next=70,Object(i.put)(Object(u.c)({type:"warning",key:"created",message:{id:"functionDetail.alert.createTriggerFailure",values:{functionName:s,error:I.t1.message}}}));case 70:I.next=76;break;case 72:if(!n){I.next=75;break}return I.next=75,Object(i.call)(x.f,"deferredTrigger","cloudfront");case 75:Object(y.v)(s,"createSuccess");case 76:return I.next=78,Object(i.put)(q());case 78:return I.next=80,Object(i.put)(Object(g.d)(s,d,null,D));case 80:case"end":return I.stop()}}),k,null,[[21,28,41,45],[49,66]])}var ae=function(e){return{blueprintName:Object(h.b)(e).query.blueprint,blueprint:W(e),createFields:e.formFields.getIn(["fields","create"]),creating:Y(e),existingFunctionNames:K(e),functionName:e.formFields.getIn(["fields","create","name"]),integrations:b.c.getNodes(e),isQuickstart:"true"===Object(h.b)(e).query.quickstart,lambdaNode:b.c.getLambdaNode(e),runtime:e.formFields.getIn(["fields","create","runtime"]),trigger:J(e)}},ie=function(e){return{refreshAlerts:function(){return e(Object(u.g)())},validateField:function(t,n){return e(d.e(t,n))},validationError:function(t){return e(Object(u.i)(t))},createFunction:function(){return e({type:Object(v.b)(P,"CREATE_FUNCTION"),payload:{formData:t},reducer:L});var t},error:function(t){return e(Object(u.d)(t))},updateTrigger:function(t){return e((n=t,{type:Object(v.b)(P,"UPDATE_TRIGGER"),payload:{data:n},reducer:z}));var n},visit:function(t){return e(Object(a.h)(t))}}},oe=new v.a({id:P,initialState:M,init:ne,load:te,hasHelpContent:!0,resetStateOnInit:!0,sidebar:!1,watchers:[{matcher:Object(v.b)(P,"CREATE_FUNCTION"),task:re}]});t.a=oe},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n(2),a=n(45),i=n(14),o=n(39),c=n(11),s=n(9),u=regeneratorRuntime.mark(d),l=regeneratorRuntime.mark(p);function d(){var e,t,n,l,d,p;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Object(r.select)(o.c.getNodes);case 3:if(e=u.sent,0!==Object.keys(e).length){u.next=15;break}return t=[Object(r.call)(c.a.listNodes,{type:"trigger",target:"lambda"}),Object(r.call)(c.a.getNode,{id:"lambda"})],s.f.includes("encephalon")&&t.push(Object(r.call)(c.a.invokeNodeAction,{id:"cloudwatch-events",action:"listPartners"})),u.next=9,Object(r.all)(t);case 9:return n=u.sent,l=n[0].body.nodes.map((function(e){return JSON.parse(e.definition)})),d=JSON.parse(n[1].body.node.definition),p=s.f.includes("encephalon")?JSON.parse(n[2].body.payload):[],u.next=15,Object(r.put)(a.f(l,d,p));case 15:u.next=21;break;case 17:return u.prev=17,u.t0=u.catch(0),u.next=21,Object(r.put)(Object(i.d)({message:u.t0.message,key:"nodes"}));case 21:case"end":return u.stop()}}),u,null,[[0,17]])}function p(t){var n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.url,a.next=3,Object(r.call)([e.location,e.location.assign],[n]);case 3:case"end":return a.stop()}}),l)}}).call(this,n(37))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(6),s=n(4),u=n(18),l=n.n(u),d=n(3),p=n(13),f=n(32),m=n(15);var b=n(36),g=n(39),y=n(10),v=n(8),h=n(29),E=n(42);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"c",(function(){return T})),n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return A}));var T="exportModal";function x(e){var t=e.config,n=e.messages;return a.a.createElement("div",{className:"trigger-messages awsui-util-mt-l"},a.a.createElement("img",{alt:t.getDisplayName(),src:t.icon}),a.a.createElement("div",null,a.a.createElement("h3",null,t.getDisplayName()),n.map((function(e,t){return a.a.createElement("div",{key:t},a.a.createElement(c.Icon,{className:"awsui-util-mr-xs",variant:"WARN"===e.get("level")?"warning":"subtle",name:"WARN"===e.get("level")?"status-warning":"status-info"}),a.a.createElement(d.FormattedMessage,{id:e.get("message")}))}))))}function _(e){var t=e.configs,n=e.downloadMessages;return n.isEmpty()||0===Object.keys(t).length?a.a.createElement("div",null):a.a.createElement("div",{className:"download-messages"},a.a.createElement("h2",null,a.a.createElement(d.FormattedMessage,{id:"modal.export.downloadMessagesHeader"})),a.a.createElement("p",null,a.a.createElement(d.FormattedMessage,{id:"modal.export.downloadMessagesDescription"})),n.entrySeq().map((function(e){var n=j(e,2),r=n[0],i=n[1];return a.a.createElement(x,{key:r,config:t[r],messages:i})})))}function w(e,t){var n=e.blueprint,r=e.integrationConfigs,i=e.downloadMessages,o=e.isOpen,s=e.exporting,u=e.downloadSam,l=e.downloadPackage,p=e.close,f=t.intl,m=n?f.formatMessage({id:"modal.export.bpTitle"}):f.formatMessage({id:"modal.export.functionTitle"}),g=a.a.createElement("div",null,a.a.createElement(b.a,{scope:T}),n?a.a.createElement(d.FormattedHTMLMessage,{tagName:"p",id:"modal.export.downloadExplanationSingleFile"}):a.a.createElement(d.FormattedHTMLMessage,{tagName:"p",id:"modal.export.downloadExplanationMultipleFiles"}),a.a.createElement(d.FormattedHTMLMessage,{tagName:"p",id:"modal.export.deployAndShareExplanation"}),a.a.createElement(_,{configs:r,downloadMessages:i})),y=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(c.Button,{variant:"link",onClick:p,text:f.formatMessage({id:"close"})}),n?null:a.a.createElement(c.Button,{id:"downloadTemplate",variant:"primary",text:f.formatMessage({id:"modal.export.button.downloadTemplate"}),onClick:u,loading:s}),n?null:a.a.createElement(c.Button,{id:"downloadCode",variant:"primary",text:f.formatMessage({id:"modal.export.button.downloadCode"}),onClick:l,loading:s}),n?a.a.createElement(c.Button,{id:"downloadBlueprint",variant:"primary",text:f.formatMessage({id:"modal.export.button.downloadBlueprint"}),onClick:u,loading:s}):null);return a.a.createElement(c.Modal,{className:"exportFunctionModal",expandToFit:!0,header:m,size:"large",visible:o,onDismiss:p,content:g,footer:y})}x.propTypes={messages:l.a.list.isRequired,config:E.c},_.propTypes={downloadMessages:l.a.map.isRequired,configs:o.a.objectOf(E.c).isRequired},w.propTypes={blueprint:o.a.string,integrationConfigs:o.a.objectOf(E.c),downloadMessages:l.a.map,isOpen:o.a.bool.isRequired,exporting:o.a.bool,downloadSam:o.a.func.isRequired,downloadPackage:o.a.func,close:o.a.func.isRequired},w.contextTypes={intl:d.intlShape.isRequired};var R=Object(p.connect)((function(e){return{blueprint:Object(h.b)(e).query.exportBp,integrationConfigs:g.c.getNodes(e),downloadMessages:g.c.getDownloadMessages(e),isOpen:!!Object(h.b)(e).query.exportModal,exporting:g.c.getExporting(e)}}),(function(e){return{downloadSam:function(t){return e((n=t,{type:m.e.EXPORT_TO_FLOURISH,blueprintName:n}));var n},close:function(){return e(Object(f.h)({query:{exportModal:void 0,exportBp:void 0}},{persistQuery:!0}))}}}),(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{},e,{},t,{downloadSam:function(){return t.downloadSam(e.blueprint)}})}))(w),A=Object(p.connect)((function(e){return{integrationConfigs:g.c.getNodes(e),downloadMessages:Object(s.Map)(),isOpen:Object(v.F)(e,"export"),exporting:Object(v.E)(e,"export")}}),(function(e){return{downloadPackage:function(){return e({type:m.e.DOWNLOAD_CODE})},downloadSam:function(){return e({type:m.e.SAVE_SAM_FILE})},close:function(){return e(Object(y.J)("export",!1))}}}))(w)},,function(e,t,n){"use strict";n.d(t,"b",(function(){return R}));var r=n(0),a=n.n(r),i=n(6),o=n(4),c=n(1),s=n.n(c),u=n(3),l=n(13),d=n(20),p=n(25),f=n(28),m=n(8),b=n(7),g=n(66),y=n(120),v=n(109),h=n(36),E=n(23);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R="editProvisionedConcurrency",A=function(e){function t(){var e,n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return r=this,n=!(i=(e=T(t)).call.apply(e,[this].concat(c)))||"object"!==O(i)&&"function"!=typeof i?x(r):i,w(x(n),"selectionItems",["alias","version"].map((function(e){return{value:e,label:a.a.createElement(u.FormattedMessage,{id:"editProvisionedConcurrency.".concat(e)})}}))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(r=[{key:"getAliasConfig",value:function(){var e,t=this,n=(null===(e=this.props.qualifiers.get("aliases"))||void 0===e?void 0:e.toArray().map((function(e){var n=t.getVersionsInAlias(e),r=t.props.isEdit?[]:Object(y.b)(e.get("name"),t.props.provisionedConcurrencyConfigs,t.context.intl);0===r.length&&(r=Object(y.a)(e.get("name"),t.props.qualifiers,t.props.provisionedConcurrencyConfigs,t.context.intl));var a=0!==r.length,i=[n[1]];return a?{id:e.get("name"),label:e.get("name"),disabled:!0,labelTag:t.context.intl.formatMessage({id:"editProvisionedConcurrency.select.disabled"}),description:r[0].message}:{id:e.get("name"),label:e.get("name"),description:n[0],tags:i}})))||[];return a.a.createElement(f.e,{id:"provisionedConcurrencyAlias",label:a.a.createElement(u.FormattedMessage,{id:"editProvisionedConcurrency.alias"}),description:a.a.createElement(u.FormattedMessage,{id:"editProvisionedConcurrency.selectAlias.description"})},a.a.createElement(i.Select,{options:n,enableFiltering:!0,empty:a.a.createElement(u.FormattedMessage,{id:"editProvisionedConcurrency.selectAlias.empty"}),triggerVariant:"option"}))}},{key:"getVersionConfig",value:function(){var e,t,n=this,r=Object(d.o)((null===(e=this.props.qualifiers.get("aliases"))||void 0===e?void 0:e.toArray())||[]),o=(null===(t=this.props.qualifiers.get("versions"))||void 0===t?void 0:t.toArray().map((function(e){var t=Object(b.C)(r[e.get("qualifier")]),a=n.props.isEdit?[]:Object(y.c)(e.get("qualifier"),n.props.provisionedConcurrencyConfigs,n.context.intl);0===a.length&&(a=Object(y.e)(e.get("qualifier"),n.props.qualifiers,n.props.provisionedConcurrencyConfigs,n.context.intl));var i=0!==a.length,o=[n.context.intl.formatMessage({id:"editProvisionedConcurrency.selectVersion.versionDescription"},{description:e.get("description")||"-"})];return i?{id:e.get("qualifier"),label:e.get("qualifier"),disabled:!0,labelTag:n.context.intl.formatMessage({id:"editProvisionedConcurrency.select.disabled"}),description:a[0].message}:{id:e.get("qualifier"),label:e.get("qualifier"),description:n.context.intl.formatMessage({id:"editProvisionedConcurrency.selectVersion.aliasesDescription"},{displayAliases:t}),tags:o}})).sort(Object(d.s)((function(e){return e.label}))))||[];return a.a.createElement(f.e,{id:"provisionedConcurrencyVersion",label:a.a.createElement(u.FormattedMessage,{id:"editProvisionedConcurrency.version"}),description:a.a.createElement(u.FormattedMessage,{id:"editProvisionedConcurrency.selectVersion.description"})},a.a.createElement(i.Select,{options:o,enableFiltering:!0,triggerVariant:"option"}))}},{key:"getProvisionedConcurrencyTypeSelection",value:function(){return a.a.createElement(f.e,{id:"provisionedConcurrencyTypeSelection",label:a.a.createElement(u.FormattedMessage,{id:"editProvisionedConcurrency.type.title"}),description:a.a.createElement(u.FormattedMessage,{id:"editProvisionedConcurrency.type.description"})},a.a.createElement(i.RadioGroup,{items:this.selectionItems}))}},{key:"getVersionsInAlias",value:function(e){var t=null==e?void 0:e.get("version"),n=100,r=this.props.qualifiers.getIn(["versions",t,"description"])||"-",a=null==e?void 0:e.getIn(["additionalVersionWeight","version"]),i=null==e?void 0:e.getIn(["additionalVersionWeight","weight"]),o="";a&&(n=100-i,o=this.props.qualifiers.getIn(["versions",a,"description"])||"-");var c=[this.context.intl.formatMessage({id:"display.versionWithWeight"},{versionName:t,weight:n,description:r})];return a?c.push(this.context.intl.formatMessage({id:"display.versionWithWeight"},{versionName:a,weight:i,description:o})):c.push("-"),c}},{key:"getVersionField",value:function(){var e,t,n=null===(e=this.props.qualifiers.get("versions"))||void 0===e?void 0:e.get(this.props.qualifier),r=Object(d.o)((null===(t=this.props.qualifiers.get("aliases"))||void 0===t?void 0:t.toArray())||[]),i=Object(b.C)(r[null==n?void 0:n.get("qualifier")]);return a.a.createElement("div",null,a.a.createElement("p",{className:"awsui-util-font-size-2"},a.a.createElement(u.FormattedMessage,{id:"editProvisionedConcurrency.displayVersion",values:{version:this.props.qualifier}})),a.a.createElement("div",{className:"awsui-util-font-size-1 awsui-text-secondary"},a.a.createElement(u.FormattedMessage,{id:"editProvisionedConcurrency.selectVersion.aliasesDescription",values:{displayAliases:i}})))}},{key:"getAliasField",value:function(){var e,t=null===(e=this.props.qualifiers.get("aliases"))||void 0===e?void 0:e.get(this.props.qualifier),n=this.getVersionsInAlias(t);return a.a.createElement("div",null,a.a.createElement("p",{className:"awsui-util-font-size-2"},this.props.qualifier),a.a.createElement("div",{className:"awsui-util-font-size-1 awsui-text-secondary"},n[0]),a.a.createElement("div",{className:"awsui-util-font-size-1 awsui-text-secondary"},n[1]))}},{key:"getConcurrencyDescription",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"awsui-util-pr-xs"},a.a.createElement(u.FormattedHTMLMessage,{id:"editProvisionedConcurrency.requestedConcurrency.description.html"})),a.a.createElement(v.c,{href:Object(b.w)("lambda/pricing/")},a.a.createElement(u.FormattedMessage,{id:"editProvisionedConcurrency.requestedConcurrency.estimateYourCost.link"})))}},{key:"render",value:function(){var e,t,n,r,o,c,s,l,d,m=this,g=0;g=Object(b.S)(this.props.qualifier)?(null===(t=this.props.provisionedConcurrencyConfigs)||void 0===t?void 0:null===(n=t.get("versions"))||void 0===n?void 0:null===(r=n.toArray())||void 0===r?void 0:null===(o=r.find((function(e){return e.get("qualifier")===m.props.qualifier})))||void 0===o?void 0:o.get("requestedConcurrency"))||0:(null===(c=this.props.provisionedConcurrencyConfigs)||void 0===c?void 0:null===(s=c.get("aliases"))||void 0===s?void 0:null===(l=s.toArray())||void 0===l?void 0:null===(d=l.find((function(e){return e.get("qualifier")===m.props.qualifier})))||void 0===d?void 0:d.get("requestedConcurrency"))||0;var v=this.props.reservedConcurrency,E=this.props.unreservedConcurrencyMinimum,O=this.props.unreservedConcurrency+g,j=(null===(e=this.props.provisionedConcurrencyConfigs)||void 0===e?void 0:e.get("provisionedConcurrency"))-g,T=v?v-j:O-E,x={provisionedConcurrencyRequestedConcurrency:function(e){return Object(y.d)(e,v,j,O,E,m.context.intl)}};return a.a.createElement(f.d,S({},this.props.formProps,{customValidators:x}),a.a.createElement(p.d,{header:a.a.createElement(u.FormattedMessage,{id:"editProvisionedConcurrency.config.header"})},a.a.createElement(h.a,{scope:"provisioned-concurrency"}),!this.props.isEdit&&this.getProvisionedConcurrencyTypeSelection(),!this.props.isEdit&&("alias"===this.props.selection?this.getAliasConfig():this.getVersionConfig()),this.props.isEdit&&("alias"===this.props.selection?this.getAliasField():this.getVersionField()),a.a.createElement(f.e,{id:"provisionedConcurrencyRequestedConcurrency",label:a.a.createElement(u.FormattedMessage,{id:"editProvisionedConcurrency.requestedConcurrency.title"}),description:this.getConcurrencyDescription(),hintText:a.a.createElement(u.FormattedMessage,{id:"editProvisionedConcurrency.requestedConcurrency.hintText",values:{provisionedConcurrencyLimit:T}})},a.a.createElement(i.Input,{type:"number"}))))}}])&&j(n.prototype,r),o&&j(n,o),t}(a.a.Component);w(A,"propTypes",{formProps:s.a.object.isRequired,isEdit:s.a.bool.isRequired,qualifier:s.a.string,selection:s.a.string.isRequired,qualifiers:s.a.object.isRequired,provisionedConcurrencyConfigs:s.a.object.isRequired,reservedConcurrency:s.a.number,unreservedConcurrencyMinimum:s.a.number.isRequired,unreservedConcurrency:s.a.number.isRequired}),w(A,"contextTypes",{intl:u.intlShape.isRequired});t.a=Object(l.connect)((function(e){var t;return{isEdit:!Object(m.q)(e)||!!new b.e(Object(m.q)(e)).qualifier,qualifier:Object(m.q)(e)&&new b.e(Object(m.q)(e)).qualifier,selection:Object(E.c)(e,R,"provisionedConcurrencyTypeSelection")||"alias",qualifiers:Object(m.T)(e)||Object(o.Map)(),provisionedConcurrencyConfigs:Object(m.U)(e,"provisionedConcurrencyConfigsParser")||Object(o.Map)(),reservedConcurrency:null===(t=Object(m.W)(e))||void 0===t?void 0:t.getIn(["data","reservedConcurrentExecutions"]),unreservedConcurrencyMinimum:Object(g.f)(e).getIn(["accountLimit","unreservedConcurrentExecutionsMinimum"]),unreservedConcurrency:Object(g.f)(e).getIn(["accountLimit","unreservedConcurrentExecutions"])}}))(A)},,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.check=function(e,t,n){if(!t(e))throw v("error","uncaught at check",n),new Error(n)},t.hasOwn=p,t.remove=function(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)},t.deferred=m,t.arrayOfDeffered=function(e){for(var t=[],n=0;n<e;n++)t.push(m());return t},t.delay=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0,r=new Promise((function(r){n=setTimeout((function(){return r(t)}),e)}));return r[s]=function(){return clearTimeout(n)},r},t.createMockTask=function(){var e,t=!0,n=void 0,r=void 0;return(e={})[o]=!0,e.isRunning=function(){return t},e.result=function(){return n},e.error=function(){return r},e.setRunning=function(e){return t=e},e.setResult=function(e){return n=e},e.setError=function(e){return r=e},e},t.autoInc=b,t.makeIterator=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments[3],a={name:n,next:e,throw:t,return:y};r&&(a[c]=!0);"undefined"!=typeof Symbol&&(a[Symbol.iterator]=function(){return a});return a},t.log=v,t.deprecate=function(e,t){return function(){return e.apply(void 0,arguments)}};var i=t.sym=function(e){return"@@redux-saga/"+e},o=t.TASK=i("TASK"),c=t.HELPER=i("HELPER"),s=(t.MATCH=i("MATCH"),t.CANCEL=i("CANCEL_PROMISE")),u=t.SAGA_ACTION=i("SAGA_ACTION"),l=(t.SELF_CANCELLATION=i("SELF_CANCELLATION"),t.konst=function(e){return function(){return e}});t.kTrue=l(!0),t.kFalse=l(!1),t.noop=function(){},t.ident=function(e){return e};var d=Object.prototype.hasOwnProperty;function p(e,t){return f.notUndef(e)&&d.call(e,t)}var f=t.is={undef:function(e){return null==e},notUndef:function(e){return null!=e},func:function(e){return"function"==typeof e},number:function(e){return"number"==typeof e},string:function(e){return"string"==typeof e},array:Array.isArray,object:function(e){return e&&!f.array(e)&&"object"===(void 0===e?"undefined":a(e))},promise:function(e){return e&&f.func(e.then)},iterator:function(e){return e&&f.func(e.next)&&f.func(e.throw)},iterable:function(e){return e&&f.func(Symbol)?f.func(e[Symbol.iterator]):f.array(e)},task:function(e){return e&&e[o]},observable:function(e){return e&&f.func(e.subscribe)},buffer:function(e){return e&&f.func(e.isEmpty)&&f.func(e.take)&&f.func(e.put)},pattern:function(e){return e&&(f.string(e)||"symbol"===(void 0===e?"undefined":a(e))||f.func(e)||f.array(e))},channel:function(e){return e&&f.func(e.take)&&f.func(e.close)},helper:function(e){return e&&e[c]},stringableFunc:function(e){return f.func(e)&&p(e,"toString")}};t.object={assign:function(e,t){for(var n in t)p(t,n)&&(e[n]=t[n])}};t.array={from:function(e){var t=Array(e.length);for(var n in e)p(e,n)&&(t[n]=e[n]);return t}};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r({},e),n=new Promise((function(e,n){t.resolve=e,t.reject=n}));return t.promise=n,t}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){return++e}}t.uid=b();var g=function(e){throw e},y=function(e){return{value:e,done:!0}};function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"undefined"==typeof window?console.log("redux-saga "+e+": "+t+"\n"+(n&&n.stack||n)):console[e](t,n)}t.updateIncentive=function(e,t){return e+" has been deprecated in favor of "+t+", please update your code"},t.internalErr=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},t.createSetContextWarning=function(e,t){return(e?e+".":"")+"setContext(props): argument "+t+" is not a plain object"},t.wrapSagaDispatch=function(e){return function(t){return e(Object.defineProperty(t,u,{value:!0}))}},t.cloneableGenerator=function e(t){return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=[],o=t.apply(void 0,r);return{next:function(e){return i.push(e),o.next(e)},clone:function(){var n=e(t).apply(void 0,r);return i.forEach((function(e){return n.next(e)})),n},return:function(e){return o.return(e)},throw:function(e){return o.throw(e)}}}}},,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(6),s=n(18),u=n.n(s),l=n(13),d=n(456),p=n(4),f=n(3),m=n(41),b=n(183),g=n(2),y=n(11),v=regeneratorRuntime.mark(R),h=regeneratorRuntime.mark(A),E=regeneratorRuntime.mark(I),O=regeneratorRuntime.mark(N),S=regeneratorRuntime.mark(C),j=regeneratorRuntime.mark(k);function T(e,t,n,r,a){if(!e.size)return null;var i=t.reduce((function(t,i){return function(e,t,n,r,a,i){var o=n.getIn(["data","id"]);return a.get(o)===i.get(o)?e:(null==r?void 0:r.has(o))?e:t.has(o)?e.add(o):e}(t,e,i,n,r,a)}),Object(p.Set)());return i.isEmpty()?null:i.filterNot((function(e){return function(e,t){var n=e.getIn(["data","dynamic"]);return!!p.List.isList(n)&&!t.intersect(n.toSet()).isEmpty()}(t.get(e),i)})).map((function(t){return e.get(t)}))}var x={INIT:"INIT",RESOLVE:"RESOLVE"};var _={getData:function(e){return e.get("data")},getResolved:function(e){return e.get("resolved")},getValues:function(e){return e.getIn(["data","values"])}};function w(){var e=Object(p.fromJS)({resolved:{}});return{dispatch:function(t){e=function(e,t){switch(t.type){case x.INIT:return e.set("data",t.data);case x.RESOLVE:var n=t.id,r=t.value,a=e.getIn(["data","params",n]);return e.setIn(["resolved",n],r).setIn(["data","values",n],function(e,t){if("select"===e.getIn(["data","type"])){if(0===t.length)return e.get("enum")?void 0:"";var n=t[0].value;return e.get("multi")?[n]:n}return t}(a,r));default:return e}}(e,t)},getState:function(){return e}}}function R(){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(g.select)(_.getResolved);case 2:return e=n.sent,n.next=5,Object(g.select)(_.getValues);case 5:return t=n.sent,n.abrupt("return",Object(p.Map)().set("resolved",e).set("values",t));case 7:case"end":return n.stop()}}),v)}function A(e){var t,n,r,a,i,o,c;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(g.select)(_.getData);case 2:if(t=s.sent,n=t.get("values"),r=n&&JSON.stringify(n.toJS()),t.getIn(["params",e,"isVisible"])(r)){s.next=8;break}return s.abrupt("return");case 8:return a={id:t.get("nodeId"),action:t.getIn(["params",e,"data","action"]),payload:r},s.next=11,Object(g.call)(y.a.invokeNodeAction,a);case 11:return i=s.sent,o=i.body,c=JSON.parse(o.payload),s.next=16,Object(g.put)({type:x.RESOLVE,id:e,value:c});case 16:case"end":return s.stop()}}),h)}function I(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(g.all)(e.map((function(e){return Object(g.call)(A,e)})));case 2:case"end":return t.stop()}}),E)}function N(e){var t,n,r,a,i,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=!0,n=!1,r=void 0,c.prev=3,a=e[Symbol.iterator]();case 5:if(t=(i=a.next()).done){c.next=12;break}return o=i.value,c.next=9,Object(g.call)(I,o);case 9:t=!0,c.next=5;break;case 12:c.next=18;break;case 14:c.prev=14,c.t0=c.catch(3),n=!0,r=c.t0;case 18:c.prev=18,c.prev=19,t||null==a.return||a.return();case 21:if(c.prev=21,!n){c.next=24;break}throw r;case 24:return c.finish(21);case 25:return c.finish(18);case 26:case"end":return c.stop()}}),O,null,[[3,14,18,26],[19,,21,25]])}function C(e,t,n,r){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(g.put)({type:x.INIT,data:Object(p.Map)({nodeId:e,values:n,params:r})});case 2:return a.next=4,Object(g.all)(t.map((function(e){return Object(g.call)(N,e)})));case 4:return a.next=6,Object(g.call)(R);case 6:return a.abrupt("return",a.sent);case 7:case"end":return a.stop()}}),S)}function k(e,t){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(g.put)({type:x.INIT,data:Object(p.Map)({nodeId:e,params:t})});case 2:return n=t.filter((function(e){return!0===e.getIn(["data","dynamic"])})),r.next=5,Object(g.all)(n.map((function(e,t){return Object(g.call)(A,t)})).toArray());case 5:return r.next=7,Object(g.call)(R);case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}),j)}function P(e,t){return Object(b.runSaga)(w(),k,e,t).done}function D(e,t,n,r){return Object(b.runSaga)(w(),C,e,t,n,r).done}var M=n(96),L=n(44),F=n(42),q=n(7),V=n(9);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){G(i,r,a,o,c,"next",e)}function c(e){G(i,r,a,o,c,"throw",e)}o(void 0)}))}}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Q=function(e){return!e||e.isEmpty()};function X(e){var t=e.param,n=e.onChange;return a.a.createElement(M.a,J({},t,{extraOnChange:n}))}X.propTypes={param:o.a.object.isRequired,onChange:o.a.func.isRequired};var $=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=H(this,W(t).call(this,e))).state={parameters:Object(p.List)()},r.resolveParameters=Object(q.p)((n=r)._resolveParameters.bind(n),V.c),r}var n,r,i,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.initialize(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.definition.id!==this.props.definition.id&&this.initialize(e);var t=this.props.data,n=e.data,r=this.props.validation||Object(p.Map)(),a=e.validation||Object(p.Map)();Object(p.is)(t,n)&&Object(p.is)(r,a)||(this.destroyNewlyHiddenParameters(e.data,this.state.parameters,t,n),this.resolveParameters(this.state.previouslyResolved||t,n));var i=this.props.fieldValidation,o=e.fieldValidation;if(!Object(p.is)(i,o)){var c=Q(o);this.props.onChange(Object(p.Map)({valid:c,validation:o}))}}},{key:"onDataChange",value:function(e){this.props.onChange(Object(p.Map)({data:e})),this.props.setTriggerFormFields(e)}},{key:"onFieldChange",value:function(e,t){this.onDataChange(Object(p.Map)(Y({},e,t)))}},{key:"setFieldValues",value:function(e){this.onDataChange(e.get("resolved").keySeq().reduce((function(t,n){return t.set(n,e.getIn(["values",n]))}),Object(p.Map)()))}},{key:"getFields",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.state.parameters.filter((function(t){return t.get("isVisible")(e.props.data)})).filter((function(e){return!!e.getIn(["data","advanced"])===t})).map((function(e){return e.toObject()})).map((function(t){return a.a.createElement(X,{key:t.id,param:t,onChange:function(n){return e.onFieldChange(t.data.get("id"),n)}})}))}},{key:"initialize",value:(s=B(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,r=t.definition,this.props.onInit(),m.f.reset(this.props.focus,r.id),m.f.onSubmit(this.submit.bind(this)),(a=r.getProperties(this.props.type,this.props.focus)).forEach(this.props.resetField),this.onDataChange(a.reduce((function(e,t){return e.set(t,void 0)}),n)),r.isAvailable){e.next=10;break}return this.props.alert({type:"warning",key:"notInRegion",message:{id:"integration.warning.notInRegion",values:{integration:r.getDisplayName(),regions:r.regions.join(", ")}}}),e.abrupt("return");case 10:return this.props.setLoading(!0),e.prev=11,i=r.generateDynamicForm(this.props.type,this.props.focus),o=i.graph,c=i.form,Object.assign(this,{graph:o,form:c}),s=Object(p.Map)(c.parameters.map((function(e){return[e.getIn(["data","id"]),e]}))),e.next=17,P(r.id,s);case 17:u=e.sent,c.apply(u.get("resolved").toJS()),this.setState({parameters:c.parameters}),this.onDataChange(c.parameters.filter((function(e){return e.has("defaultValue")})).reduce((function(e,t){return e.set(t.getIn(["data","id"]),t.get("defaultValue"))}),Object(p.Map)())),a.some((function(e){return n.get(e)&&u.getIn(["values",e])}))||this.setFieldValues(u),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(11),this.props.alert({type:"error",message:e.t0.message});case 27:return e.prev=27,this.props.setLoading(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,this,[[11,24,27,30]])}))),function(e){return s.apply(this,arguments)})},{key:"destroyNewlyHiddenParameters",value:function(e,t,n,r){var a=t.filter((function(e){return e.get("isVisible")(n)&&!e.get("isVisible")(r)})).map((function(e){return e.getIn(["data","id"])}));a.isEmpty()||(a.forEach(this.props.resetField),this.onDataChange(a.reduce((function(e,t){return e.set(t,void 0)}),e)))}},{key:"_resolveParameters",value:(o=B(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(p.Map)(this.form.parameters.map((function(e){return[e.getIn(["data","id"]),e]}))),null!==(a=T(this.graph,r,this.props.validation,t,n))){e.next=4;break}return e.abrupt("return");case 4:return this.setState({previouslyResolved:n}),this.props.setLoading(!0),e.prev=6,e.next=9,D(this.props.definition.id,a.toJS(),n,r);case 9:i=e.sent,this.form.apply(i.get("resolved").toJS()),this.setState({parameters:this.form.parameters}),this.setFieldValues(i),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),this.props.alert({type:"error",message:{id:"integration.resolveParamsError",values:{error:e.t0.message}}});case 18:return e.prev=18,this.props.setLoading(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[6,15,18,21]])}))),function(e,t){return o.apply(this,arguments)})},{key:"submit",value:function(e){var t=this,n=this.props,r=n.data,a=n.definition;this.state.parameters.filter((function(e){return e.get("isVisible")(r)})).forEach((function(e){return t.props.validateParam(e.getIn(["data","id"]),e.get("schema"))})),e(null,{valid:Q(this.props.fieldValidation)&&a.validateLinkInfo(r.toJS()).valid,data:r.toJS()})}},{key:"render",value:function(){var e=this.props.definition,t=e.formatMessage("blurb"),n=null,r=null;if(e.isAvailable){n=this.getFields();var i=this.getFields(!0);r=i.isEmpty()?null:a.a.createElement(c.ExpandableSection,{header:a.a.createElement(f.FormattedMessage,{id:"trigger.additionalSettings"})},a.a.createElement("div",null,i))}return a.a.createElement("div",{className:"node-pane needs-old-form-field-override"},t,n,r)}}])&&z(n.prototype,r),i&&z(n,i),t}(a.a.Component);Y($,"propTypes",{type:o.a.string.isRequired,data:u.a.map.isRequired,validation:u.a.map,focus:o.a.string.isRequired,definition:F.c.isRequired,alert:o.a.func.isRequired,onChange:o.a.func.isRequired,onInit:o.a.func.isRequired,setLoading:o.a.func.isRequired,fieldValidation:u.a.map,resetField:o.a.func.isRequired,setTriggerFormFields:o.a.func.isRequired,validateParam:o.a.func.isRequired});var Z=Object(l.connect)((function(e){return{fieldValidation:e.formFields.getIn(["validation","trigger"])}}),(function(e){return{resetField:function(t){return e(Object(L.a)("trigger.".concat(t)))},setTriggerFormFields:function(t){return t.forEach((function(t,n){return e(Object(L.c)("trigger.".concat(n),t))}))},validateParam:function(t,n){return e(Object(L.e)("trigger.".concat(t),n))}}}))($),ee=n(36),te=n(14),ne=n(31);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe={type:o.a.string.isRequired,source:o.a.string,target:o.a.string,data:u.a.map.isRequired,metadata:o.a.object,persistedState:u.a.map,validation:u.a.map,focus:o.a.string.isRequired,sourceDefinition:F.c.isRequired,targetDefinition:F.c.isRequired,onChange:o.a.func.isRequired,alert:o.a.func.isRequired,refreshPaneAlerts:o.a.func.isRequired},fe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=se(this,ue(t).call(this,e))).state={loading:!1},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,e),n=t,(r=[{key:"onInitPane",value:function(){this.props.refreshPaneAlerts(this.scope)}},{key:"setLoading",value:function(e){this.setState({loading:e})}},{key:"alert",value:function(e){this.props.alert(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(n,!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{scope:this.scope}))}},{key:"render",value:function(){var e=this.props,t=e.focus,n=e.sourceDefinition,r=e.targetDefinition,i=ie(e,["focus","sourceDefinition","targetDefinition"]),o="source"===t?n:r,c="source"===t?r:n,s=function(e){return"custom"===e.widgetType?d.a:Z}(o);return a.a.createElement("div",{id:this.scope},a.a.createElement(ne.b,{overlay:!0,cond:this.state.loading},a.a.createElement(ee.a,{scope:this.scope}),a.a.createElement(s,ae({},i,{focus:t,definition:o,otherDefinition:c,alert:this.alert.bind(this),onInit:this.onInitPane.bind(this),setLoading:this.setLoading.bind(this)}))))}},{key:"scope",get:function(){return"add-relation-".concat(this.props.focus)}}])&&ce(n.prototype,r),i&&ce(n,i),t}(a.a.Component);function me(e){return a.a.createElement(c.ColumnLayout,{borders:"horizontal"},a.a.createElement("div",{className:"add-trigger","data-awsui-column-layout-root":"true"},a.a.createElement(fe,ae({},e,{focus:"source"})),a.a.createElement(fe,ae({},e,{focus:"target"}))))}de(fe,"propTypes",pe),me.propTypes=pe;t.a=Object(l.connect)(null,(function(e){return{alert:function(t){return e(Object(te.f)(t))},refreshPaneAlerts:function(t){return e(Object(te.g)(t))}}}))(me)},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return U})),n.d(t,"b",(function(){return G})),n.d(t,"d",(function(){return B}));var r=n(4),a=n(32),i=n(2),o=n(16),c=n(45),s=n(14),u=n(41),l=n(39),d=n(20),p=n(17),f=n(7),m=n(5),b=n(9);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=regeneratorRuntime.mark(M),E=regeneratorRuntime.mark(L),O=regeneratorRuntime.mark(F),S=regeneratorRuntime.mark(q),j=regeneratorRuntime.mark(V),T="addRelation",x=Object(r.Map)({adding:!1,config:Object(r.Map)(),relation:Object(r.Map)({data:Object(r.Map)({enabled:!0}),validation:Object(r.Map)()})}),_=function(e,t){var n=t.payload;return e.set("config",Object(r.Map)(n.config))},w=function(e){return{type:Object(p.b)(T,"SET_CONFIG"),payload:{config:e},reducer:_}},R=function(e,t){var n=t.payload;return e.set("adding",n.adding)},A=function(e){return{type:Object(p.b)(T,"SET_IS_ADDING_RELATION"),payload:{adding:e},reducer:R}},I=function(e,t){var n=t.payload,r=e.getIn(["config","focus"])===e.getIn(["config","sourceType"])?"targetType":"sourceType";return e.setIn(["config",r],n.otherType).setIn(["config","nodeId"],Object(u.h)(n.otherType)).set("relation",x.get("relation"))},N=function(e,t){var n=t.payload;return e.set("relation",Object(u.g)(e.get("relation"),n.relation))},C=function(e){return e.pages[T]},k=Object(o.createSelector)(C,(function(e){return e.get("adding")})),P=Object(o.createSelector)(C,(function(e){return e.get("config")})),D=Object(o.createSelector)(C,(function(e){return e.get("relation")}));function M(e){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((t=e.target)&&new f.e(t).functionName){r.next=5;break}return r.next=4,Object(i.put)(Object(a.h)("/functions"));case 4:return r.abrupt("return",{});case 5:return n={type:"trigger",target:t,targetType:"lambda"},r.next=8,Object(i.put)(Object(a.i)({query:n}));case 8:return r.abrupt("return",n);case 9:case"end":return r.stop()}}),h)}function L(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.call)(M,e.query);case 2:return t=n.sent,n.abrupt("return",y({},t,{focus:"lambda"}));case 4:case"end":return n.stop()}}),E)}function F(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.put)(w(e));case 2:return t.next=4,Object(i.put)(Object(c.b)());case 4:return t.abrupt("return",!0);case 5:case"end":return t.stop()}}),O)}function q(){var e,t,n,o,c,p,g,y,v,h,E,O,j,x,_,w,R,I,N,C,k,M,L;return regeneratorRuntime.wrap((function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,Object(i.put)(A(!0));case 2:return S.next=4,Object(i.put)(Object(s.g)(T));case 4:return S.next=6,Object(i.select)(P);case 6:return e=S.sent,t=e.toJS(),n=t.type,o=t.source,c=t.sourceType,p=t.target,g=t.focus,y=t.nodeId,S.next=10,Object(i.select)(l.c.getNodes);case 10:return v=S.sent,S.next=13,Object(i.select)(D);case 13:return h=S.sent,S.prev=14,Object(m.logEventWithDetail)(m.EVENT_NAMES.TRIGGER_CREATE_STARTED,{type:c}),S.next=18,Object(i.call)(u.f.submit);case 18:if(E=S.sent,O=!E||E.valid,Object(m.logEventWithDetail)(m.EVENT_NAMES.TRIGGER_CREATE_VALIDATION,{type:c},O),O){S.next=23;break}return S.abrupt("return");case 23:return j=v[y],x=Object(u.g)(h,Object(r.fromJS)(E)),S.next=27,Object(i.call)(u.f.beforeCreate,x.toJS(),{definition:j,target:p,features:b.f});case 27:return _=S.sent,Object(m.logEventWithDetail)(m.EVENT_NAMES.TRIGGER_CREATE_AFTER_HOOKS,{type:c}),S.next=31,Object(i.call)(u.b,p,_,j);case 31:return w=S.sent,Object(m.logEventWithDetail)(m.EVENT_NAMES.TRIGGER_CREATE_DONE,{type:c},!0),R=g===c?o:p,I=new f.e(R),N=I.functionName,C=I.friendlyName,k=I.qualifier,M=j.toggle&&!1===x.getIn(["data","enabled"])?"disabled":"enabled",S.next=38,Object(i.put)(Object(s.c)({type:"success",key:"created",message:{id:"trigger.create.success.".concat(M),values:{functionName:C,trigger:w.data.sourceName}}}));case 38:return S.next=40,Object(i.call)(d.t,N,k,"relation","add",{config:j,relation:w});case 40:return S.next=42,Object(i.put)(Object(a.h)("/functions/".concat(R)));case 42:S.next=50;break;case 44:return S.prev=44,S.t0=S.catch(14),Object(m.logEventWithDetail)(m.EVENT_NAMES.TRIGGER_CREATE_DONE,{type:c},!1),L={type:n,error:S.t0.message},S.next=50,Object(i.put)(Object(s.d)({message:{id:"addRelation.error",values:L},scope:T}));case 50:return S.prev=50,S.next=53,Object(i.put)(A(!1));case 53:return S.finish(50);case 54:case"end":return S.stop()}}),S,null,[[14,44,50,54]])}function V(e){var t,n,r,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.functionArn,Object(m.logEvent)(m.EVENT_NAMES.TRIGGER_ADD_CANCEL),n=new f.e(t),r=n.functionName,o=n.qualifier,c.next=5,Object(i.call)(d.t,r,o,"relation","cancel");case 5:return c.next=7,Object(i.put)(Object(a.h)("/functions/".concat(t)));case 7:case"end":return c.stop()}}),j)}var U=function(e){return{adding:k(e),config:P(e),nodes:{trigger:l.c.getNodes(e),lambda:l.c.getLambdaNode(e),thirdParty:l.c.getThirdPartyNodes(e)},relation:D(e)}},G=function(e){return{add:function(){return e({type:Object(p.b)(T,"ADD")})},cancel:function(t){return e(function(e){return{type:Object(p.b)(T,"CANCEL"),functionArn:e}}(t))},setOtherType:function(t){Object(m.logEventWithDetail)(m.EVENT_NAMES.TRIGGER_SELECT,{type:t}),e(function(e){return{type:Object(p.b)(T,"SET_OTHER_TYPE"),payload:{otherType:e},reducer:I}}(t))},updateRelation:function(t){return e(function(e){return{type:Object(p.b)(T,"UPDATE_RELATION"),payload:{relation:e},reducer:N}}(t))}}},B=function(e,t,n){return y({},n,{},e,{},t,{cancel:function(){var n=e.config.toJS(),r=n.source,a=n.sourceType,i=n.target,o=n.focus===a?r:i;t.cancel(o)}})},z=new p.a({id:T,initialState:x,init:F,load:L,resetStateOnInit:!0,watchers:[{matcher:Object(p.b)(T,"ADD"),task:q},{matcher:Object(p.b)(T,"CANCEL"),task:V}]});t.a=z},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return b}));var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(6),s=n(3),u=n(13),l=n(32),d=n(57);function p(e,t){var n=e.allowDelete,r=e.onDelete,a=e.readonly,i=t.intl;return a?null:o.a.createElement(c.Button,{className:"deleteKeyValue",text:i.formatMessage({id:"remove"}),disabled:!n,onClick:r})}function f(e,t){var n=e.keyValue,r=e.onEncryptButtonPress,a=e.onDecryptButtonPress,i=e.readonly,s=t.intl;if(i)return null;var u=n.isEncrypted?"decrypt":"encrypt",l=n.isEncrypted?a:r;return o.a.createElement(c.Button,{text:s.formatMessage({id:"envVars.secrets.".concat(u)}),onClick:l,className:"".concat(u,"-button"),loading:n.isEncryptingOrDecrypting})}function m(e,t){var n=e.keyValue,r=e.readonly,a=e.openDecryptModal,i=t.intl;return r?null:o.a.createElement(c.Button,{onClick:function(){return a(n.key)},text:i.formatMessage({id:"envVars.secrets.code"})})}p.propTypes={allowDelete:a.a.bool.isRequired,onDelete:a.a.func.isRequired,readonly:a.a.bool},p.contextTypes={intl:s.intlShape.isRequired},f.propTypes={keyValue:a.a.instanceOf(d.b).isRequired,onEncryptButtonPress:a.a.func.isRequired,onDecryptButtonPress:a.a.func.isRequired,readonly:a.a.bool},f.contextTypes={intl:s.intlShape.isRequired},m.propTypes={keyValue:a.a.instanceOf(d.b).isRequired,readonly:a.a.bool,openDecryptModal:a.a.func.isRequired},m.contextTypes={intl:s.intlShape.isRequired};var b=Object(u.connect)(null,(function(e){return{openDecryptModal:function(t){return e(Object(l.h)({query:{decryptModal:"open",envVarKey:t}},{persistQuery:!0}))}}}))(m)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var r=n(4),a=n(57),i=n(9);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=new a.b({key:"lambda:createdBy",value:"SAM"}),l="An AWS Serverless Specification template describing your function.";function d(e){return e.reduce((function(e,t){var n=e;return n[t.key]={Type:t.type},t.properties&&(n[t.key].Properties=t.properties),n}),{})}function p(e,t,n){var a,o,u={Handler:e.handler,Runtime:e.runtime,CodeUri:".",Description:e.description,MemorySize:e.memory,Timeout:e.timeout};"existing"===e.roleData.roleSelectionType?u.Role=e.roleData.existingRole:"template"===e.roleData.roleSelectionType&&(u.Policies=n),t.length>0&&(u.Events=d(t.filter((function(e){return e.key}))));var p,f=d(t.filter((function(e){var t;return null===(t=e.reference)||void 0===t?void 0:t.key})).map((function(e){return e.reference})));return e.securityGroupIds&&e.securityGroupIds.length>0&&(u.VpcConfig={SecurityGroupIds:e.securityGroupIds,SubnetIds:e.subnetIds}),e.envVars&&Object.keys(e.envVars).length>0&&(u.Environment={Variables:e.envVars}),e.kmsKeyArn&&(u.KmsKeyArn=e.kmsKeyArn),i.f.includes("teletubby")&&(null===(a=e.tags)||void 0===a?void 0:a.length)>0&&(u.Tags=Object(r.Map)(e.tags.map((function(e){return[e.key,e.value]}))).toJS()),i.f.includes("triscuit")&&e.tracer&&(u.Tracing=e.tracerMode),"None"!==e.dlq&&e.dlqArn&&(u.DeadLetterQueue={Type:e.dlq.toUpperCase(),TargetArn:e.dlqArn}),i.f.includes("layette")&&(null===(o=e.layers)||void 0===o?void 0:o.length)>0&&(u.Layers=e.layers),e.reservedConcurrentExecutions&&(u.ReservedConcurrentExecutions=e.reservedConcurrentExecutions),{AWSTemplateFormatVersion:"2010-09-09",Transform:"AWS::Serverless-2016-10-31",Description:e.description||l,Resources:c(s({},(p=e.functionName,p.replace(/[-_]/g,"")),{Type:"AWS::Serverless::Function",Properties:u}),f)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(15),a={loadFunctions:function(){return{type:r.a.LOAD_FUNCTIONS}},loadFunctionsDone:function(e,t){return{type:r.a.LOAD_FUNCTIONS_DONE,err:e,res:t}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return R}));var r=n(0),a=n.n(r),i=n(2),o=n(3),c=n(204),s=n(5),u=n(11),l=n(45),d=n(7),p=n(47);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=regeneratorRuntime.mark(S),y=regeneratorRuntime.mark(j),v=regeneratorRuntime.mark(x),h=regeneratorRuntime.mark(_),E=regeneratorRuntime.mark(w),O=regeneratorRuntime.mark(R);function S(e){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.query,Object(s.startPageLoad)("configureApplication"),n=t.applicationId,r.next=5,Object(i.put)(c.actions.configureApplicationPageInit({applicationId:n}));case 5:case"end":return r.stop()}}),g)}function j(e){var t,n,r,d,p,f;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return t=e.payload,n=t.applicationId,m.next=4,Object(i.put)(Object(l.e)(a.a.createElement(o.FormattedHTMLMessage,{id:"configureApplication.helpContent"})));case 4:return m.prev=4,m.next=7,Object(i.call)(u.a.getApplication,{applicationId:n});case 7:if(r=m.sent,!(d=r.body).version.requiredCapabilities.includes("CAPABILITY_AUTO_EXPAND")){m.next=15;break}return m.next=12,Object(i.call)(u.a.listApplicationDependencies,{applicationId:n});case 12:p=m.sent,f=p.body,d.dependencies=f;case 15:return Object(s.stopPageLoad)("configureApplication",!0),m.next=18,Object(i.put)(c.actions.configureApplicationPageDone({application:d}));case 18:m.next=25;break;case 20:return m.prev=20,m.t0=m.catch(4),Object(s.stopPageLoad)("configureApplication",!1),m.next=25,Object(i.put)(c.actions.configureApplicationPageError(m.t0));case 25:case"end":return m.stop()}}),y,null,[[4,20]])}var T=2e3;function x(e){var t,n,r,a,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=e.applicationId,n=e.templateId,r=e.initialTemplateStatus,a=r;case 2:if("ACTIVE"===a){c.next=15;break}if("EXPIRED"!==a){c.next=7;break}throw Object(s.logEvent)(s.EVENT_NAMES.SAR_TEMPLATE_EXPIRED),m({},new Error,{stringId:{id:"error.unknown"}});case 7:return c.next=9,Object(i.call)(d.db,T);case 9:return c.next=11,Object(i.call)(u.a.getCloudFormationTemplate,{applicationId:t,templateId:n});case 11:o=c.sent,a=o.body.status,c.next=2;break;case 15:case"end":return c.stop()}}),v)}function _(e){var t,n,r,a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:t=e.changeSetId,n="CREATE_IN_PROGRESS",r=null;case 3:if("CREATE_PENDING"!==n&&"CREATE_IN_PROGRESS"!==n){o.next=13;break}return o.next=6,Object(i.call)(d.db,T);case 6:return o.next=8,Object(i.call)(u.a.describeChangeSet,{changeSetName:t});case 8:a=o.sent,n=a.body.status,r=a.body.statusReason,o.next=3;break;case 13:if("FAILED"!==n){o.next=19;break}throw Object(s.logEvent)(s.EVENT_NAMES.SAR_CHANGE_SET_FAILED),m({},new Error,{stringId:{id:"configureApplication.deploy.errors.changeSet.failure"},stringValues:{reason:r}});case 19:if("DELETE_COMPLETE"!==n){o.next=23;break}throw Object(s.logEvent)(s.EVENT_NAMES.SAR_CHANGE_SET_DELETED),m({},new Error,{stringId:{id:"configureApplication.deploy.errors.changeSet.deleted"}});case 23:case"end":return o.stop()}}),h)}function w(e){var t,n,r,a,o,c,s,l,d,f,m,b,g,y,v,h,O,S;return regeneratorRuntime.wrap((function(E){for(;;)switch(E.prev=E.next){case 0:return t=e.payload,n=t.applicationName,r=t.applicationId,a=t.semanticVersion,o=t.parameters,c=t.capabilities,s=t.resolve,l=t.reject,E.prev=1,E.next=4,Object(i.call)(u.a.createCloudFormationTemplate,{applicationId:r,semanticVersion:a});case 4:return d=E.sent,f=d.body,m=f.templateId,b=f.status,E.next=8,Object(i.call)(x,{applicationId:r,templateId:m,initialTemplateStatus:b});case 8:return E.next=10,Object(i.call)(p.a);case 10:return g=E.sent,E.next=13,Object(i.call)(u.a.createCloudFormationChangeSet,{applicationId:r,stackName:n,templateId:m,capabilities:c,parameterOverrides:o,clientToken:g});case 13:return y=E.sent,v=y.body,h=v.changeSetId,O=v.stackId,E.next=17,Object(i.call)(_,{changeSetId:h});case 17:return E.next=19,Object(i.call)(p.a);case 19:return S=E.sent,E.next=22,Object(i.call)(u.a.executeChangeSet,{changeSetName:h,stackName:O,clientRequestToken:S});case 22:s&&s(y),E.next=28;break;case 25:E.prev=25,E.t0=E.catch(1),l&&l(E.t0);case 28:case"end":return E.stop()}}),E,null,[[1,25]])}function R(e){var t,n,r,a,o,c,s;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,n=t.applicationId,r=t.semanticVersion,a=t.reportVulnerabilityDetails,o=t.resolve,c=t.reject,l.prev=1,l.next=4,Object(i.call)(u.a.reportApplication,{applicationId:n,semanticVersion:r,reportVulnerabilityDetails:a});case 4:s=l.sent,o&&o(s),l.next=11;break;case 8:l.prev=8,l.t0=l.catch(1),c&&c(l.t0);case 11:case"end":return l.stop()}}),O,null,[[1,8]])}},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return W})),n.d(t,"c",(function(){return K})),n.d(t,"b",(function(){return Y})),n.d(t,"e",(function(){return ee})),n.d(t,"g",(function(){return ye})),n.d(t,"f",(function(){return he})),n.d(t,"d",(function(){return Oe}));var r=n(0),a=n.n(r),i=n(4),o=n(3),c=n(32),s=n(2),u=n(59),l=n(35),d=n(87),p=n(121),f=n(109),m=n(14),b=n(50),g=n(155),y=n(138),v=n(128),h=n(7),E=n(5),O=n(11),S=n(9);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var w=regeneratorRuntime.mark(Z),R=regeneratorRuntime.mark(ee),A=regeneratorRuntime.mark(te),I=regeneratorRuntime.mark(ne),N=regeneratorRuntime.mark(re),C=regeneratorRuntime.mark(ae),k=regeneratorRuntime.mark(ie),P=regeneratorRuntime.mark(oe),D=regeneratorRuntime.mark(de),M=regeneratorRuntime.mark(fe),L=regeneratorRuntime.mark(me),F=regeneratorRuntime.mark(be),q=regeneratorRuntime.mark(ge),V=regeneratorRuntime.mark(ye),U=regeneratorRuntime.mark(ve),G=regeneratorRuntime.mark(he),B=regeneratorRuntime.mark(Ee),z=regeneratorRuntime.mark(Oe),H="AWS::ApiGateway::RestApi",W="AWS::ApiGateway::Stage",K="AWS::CodeStar::GitHubRepository",Y="AWS::CodeCommit::Repository",J="AWS::CodePipeline::Pipeline",Q="AWS::AllSupported",X="CLOUDFORMATION_STACK_1_0",$="AWS::IAM::Role";function Z(e){var t,n,r,a,i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(s.call)(p.b,e);case 3:r=o.sent,o.next=12;break;case 6:return o.prev=6,o.t0=o.catch(0),a=o.t0.message,o.next=11,Object(s.put)(Object(m.d)({message:a,scope:l.b}));case 11:return o.abrupt("return");case 12:return n=r,t=Object(p.a)(n),i=Object(p.f)(t),o.next=15,Object(s.all)(i.map((function(e){var t,n;return n=e,t=Object(m.d)(n),Object(s.put)(t)})).reverse());case 15:case"end":return o.stop()}}),w,null,[[0,6]])}function ee(){var e,t,n,r,a,i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!S.f.includes("huesillo")){o.next=5;break}return o.next=3,Object(s.call)(Ee);case 3:return e=o.sent,o.abrupt("return",e);case 5:return o.next=7,Object(s.select)(d.e);case 7:return t=o.sent,o.prev=8,o.next=11,Object(s.call)(O.a.describeStack,{stackArn:t});case 11:r=o.sent,n=r.body,o.next=26;break;case 15:if(o.prev=15,o.t0=o.catch(8),400!==o.t0.status){o.next=21;break}return o.next=20,Object(s.put)(Object(c.h)("/applications"));case 20:return o.abrupt("return",!1);case 21:if(!o.t0.message){o.next=25;break}return o.next=24,Object(s.put)(Object(m.d)({message:o.t0.message,scope:l.b}));case 24:return o.abrupt("return",!1);case 25:throw o.t0;case 26:if(a=n.resources,Object(E.logEventWithValue)(E.EVENT_NAMES.APPS_AD_RESOURCES_NUM,a.length),o.prev=28,!((i=a.filter((function(e){return e.resourceType===H}))).length>0)){o.next=35;break}return o.next=33,Object(s.all)(i.map((function(e){return Object(s.call)(O.a.getRestApi,{restApiId:e.physicalResourceId})})));case 33:o.sent.forEach((function(e){var t=a.findIndex((function(t){return t.physicalResourceId===e.body.id}));a[t].apiName=e.body.name}));case 35:o.next=41;break;case 37:return o.prev=37,o.t1=o.catch(28),o.next=41,Object(s.put)(Object(m.d)({message:o.t1.message,scope:"app-detail-monitoring"}));case 41:return a.filter((function(e){return e.resourceType===W})).forEach((function(e){var t=a.find((function(t){var n,r;return t.resourceType===H&&t.logicalResourceId===(null===(n=e.template.Properties)||void 0===n?void 0:null===(r=n.RestApiId)||void 0===r?void 0:r.Ref)}));if(t){var n=t.physicalResourceId;e.template.Properties.invokeUrl="https://".concat(n,".execute-api.").concat(Object(h.H)(),".").concat(Object(h.s)(),"/").concat(e.physicalResourceId)}})),o.next=44,Object(s.call)(y.a,"user");case 44:return o.next=46,Object(s.put)(u.i(n));case 46:return o.abrupt("return",!0);case 47:case"end":return o.stop()}}),R,null,[[8,15],[28,37]])}function te(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e<0)){n.next=5;break}return n.next=3,Object(s.put)(Object(b.c)({header:"",content:{id:"applications.detail.creating.error"},flashBarType:"error",dismissable:!0}));case 3:n.next=13;break;case 5:if(!(e<=4)){n.next=11;break}return t="applications.detail.creating.step".concat(e),n.next=9,Object(s.put)(Object(b.c)({header:{id:"applications.detail.creating.header"},content:{id:t},flashBarType:"info",dismissable:!0,loading:!0}));case 9:n.next=13;break;case 11:return n.next=13,Object(s.put)(Object(b.c)({header:"",content:{id:"applications.detail.creating.done"},flashBarType:"success",dismissable:!0}));case 13:case"end":return n.stop()}}),A)}function ne(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.call)(O.a.getRestApi,{restApiId:e.physicalResourceId});case 2:return t=n.sent,n.next=5,Object(s.put)(u.o(e.physicalResourceId,["apiName"],t.body.name));case 5:e.apiName=t.body.name;case 6:case"end":return n.stop()}}),I)}function re(e){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.filter((function(e){return e.resourceType===H})),r.prev=1,r.next=4,Object(s.all)(t.map((function(e){return Object(s.call)(ne,e)})));case 4:r.next=10;break;case 6:return r.prev=6,r.t0=r.catch(1),r.next=10,Object(s.put)(Object(m.d)({message:r.t0.message,scope:"app-detail-monitoring"}));case 10:return n=[],e.filter((function(e){return e.resourceType===W})).forEach((function(e){var r=t.find((function(t){var n,r;return t.logicalResourceId===(null===(n=e.template.Properties)||void 0===n?void 0:null===(r=n.RestApiId)||void 0===r?void 0:r.Ref)}));if(r){var a=r.physicalResourceId,i="https://".concat(a,".execute-api.").concat(Object(h.H)(),".").concat(Object(h.s)(),"/").concat(e.physicalResourceId);n.push(u.o(e.physicalResourceId,["template","Properties","invokeUrl"],i)),n.push(u.o(e.physicalResourceId,["template","Properties","restApiName"],r.apiName))}})),r.next=14,Object(s.all)(n.map((function(e){return Object(s.put)(e)})));case 14:case"end":return r.stop()}}),N,null,[[1,6]])}function ae(e,t){var n,r,a,i,o,c,u,l,d,p,f,m,b;return regeneratorRuntime.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:return n={exists:!1},g.prev=1,g.next=4,Object(s.all)([Object(s.call)(O.a.searchResources,{resourceQuery:{query:JSON.stringify({ResourceTypeFilters:[Q],StackIdentifier:e}),type:X}}),Object(s.call)(O.a.getRole,{roleName:t})]);case 4:if(c=g.sent,u=_(c,2),l=u[0].body,d=u[1].body,(null==l?void 0:l.resourceIdentifiers)&&(null==d?void 0:null===(r=d.permissionsBoundary)||void 0===r?void 0:r.permissionsBoundaryArn)){g.next=10;break}return g.abrupt("return",n);case 10:return g.next=12,Object(s.call)(O.a.getPolicy,{policyArn:d.permissionsBoundary.permissionsBoundaryArn});case 12:if(p=g.sent,(null==(f=p.body)?void 0:null===(a=f.policy)||void 0===a?void 0:a.arn)&&(null==f?void 0:null===(i=f.policy)||void 0===i?void 0:i.defaultVersionId)){g.next=16;break}return g.abrupt("return",n);case 16:return g.next=18,Object(s.call)(O.a.getPolicyVersion,{policyArn:f.policy.arn,versionId:f.policy.defaultVersionId});case 18:if(m=g.sent,null==(b=m.body)?void 0:null===(o=b.policyVersion)||void 0===o?void 0:o.document){g.next=22;break}return g.abrupt("return",n);case 22:return g.abrupt("return",{resourceList:l.resourceIdentifiers,policyArn:f.policy.arn,policyDocument:JSON.parse(decodeURIComponent(b.policyVersion.document)),exists:!0});case 25:if(g.prev=25,g.t0=g.catch(1),400===g.t0.status){g.next=29;break}return g.abrupt("return",{error:T({},g.t0)});case 29:return g.abrupt("return",n);case 30:case"end":return g.stop()}}),C,null,[[1,25]])}function ie(e,t){var n,r,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(r=null===(n=t.find((function(e){return e.resourceType.includes($)})))||void 0===n?void 0:n.physicalResourceId)){i.next=7;break}return i.next=4,Object(s.call)(ae,e,r);case 4:return a=i.sent,i.next=7,Object(s.put)(u.l(a));case 7:case"end":return i.stop()}}),k)}function oe(e,t){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.put)(u.e());case 2:return Object(E.logEventWithValue)(E.EVENT_NAMES.APPS_AD_RESOURCES_NUM,t.length),n.next=5,Object(s.select)(d.C);case 5:if(!n.sent){n.next=9;break}return n.next=9,Object(s.call)(ie,e,t);case 9:return n.next=11,Object(s.call)(re,t);case 11:case"end":return n.stop()}}),P)}var ce=function(e){var t,n;return!!(null==e?void 0:null===(t=e.details)||void 0===t?void 0:null===(n=t.stackStatus)||void 0===n?void 0:n.endsWith("_COMPLETE"))},se=function(e){var t,n;return!!(null==e?void 0:null===(t=e.details)||void 0===t?void 0:null===(n=t.stackStatus)||void 0===n?void 0:n.endsWith("CREATE_COMPLETE"))},ue=function(e){return"CREATE_COMPLETE"===e.get("stackStatus")},le=function(e){return!e.has("stackStatus")||"ROLLBACK_IN_PROGRESS"===e.get("stackStatus")||"ROLLBACK_COMPLETE"===e.get("stackStatus")};function de(e){var t,n,r,a,i,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(s.select)(d.n);case 2:return t=c.sent,c.next=5,Object(s.select)(d.o);case 5:if(n=c.sent,r=null==n?void 0:n.get("stackStatus"),a=null==t?void 0:t.getIn(["pipelineState","hasReachedLastStage"]),!(!r||r.endsWith("_COMPLETE")&&a)){c.next=21;break}return c.prev=9,c.next=12,Object(s.call)(O.a.describeStack,{stackArn:e});case 12:return i=c.sent,o=i.body,c.abrupt("return",T({},o,{exists:!0}));case 17:if(c.prev=17,c.t0=c.catch(9),400===c.t0.status){c.next=21;break}return c.abrupt("return",T({},c.t0,{error:!0}));case 21:return c.abrupt("return",{exists:!1});case 22:case"end":return c.stop()}}),D,null,[[9,17]])}var pe=!1;function fe(e){var t,n,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=14;break}return a.prev=1,a.next=4,Object(s.call)(O.a.describeStack,{stackArn:e});case 4:return n=a.sent,r=n.body,!pe&&(null==r?void 0:null===(t=r.details)||void 0===t?void 0:t.stackId)&&(pe=!0,Object(E.logEventWithDetail)(E.EVENT_NAMES.APPS_AD_START_RIGHT_STACK_ID,{stackId:r.details.stackId})),a.abrupt("return",T({},r,{exists:!0}));case 10:if(a.prev=10,a.t0=a.catch(1),400===a.t0.status){a.next=14;break}return a.abrupt("return",T({},a.t0,{error:!0}));case 14:return a.abrupt("return",{exists:!1});case 15:case"end":return a.stop()}}),M,null,[[1,10]])}function me(e){var t,n,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(s.select)(d.m);case 2:if(t=a.sent,n=e.match(/awscodestar-([\w-]*)-lambda/),t){a.next=8;break}t=n?e.split("-lambda")[0]:Object(p.d)(e),a.next=13;break;case 8:if(!n){a.next=13;break}return a.next=11,Object(s.call)(te,1);case 11:return a.next=13,Object(s.call)(h.db,1e4);case 13:return a.next=15,Object(s.call)(fe,t);case 15:return r=a.sent,a.abrupt("return",r);case 17:case"end":return a.stop()}}),L)}function be(){var e,t,n,r,a,i,o,c,u,l,p;return regeneratorRuntime.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Object(s.select)(d.q);case 2:if(t=f.sent.toJS(),n=null==t?void 0:t.find((function(e){return(null==e?void 0:e.resourceType)===Y||(null==e?void 0:e.resourceType)===K})),r=null==n?void 0:n.physicalResourceId,a=null==n?void 0:n.resourceType,i=null==t?void 0:null===(e=t.find((function(e){return(null==e?void 0:e.resourceType)===J})))||void 0===e?void 0:e.physicalResourceId,o=r,a!==Y){f.next=14;break}return f.next=11,Object(s.call)(O.a.listRepositories,{});case 11:l=f.sent,p=l.body,o=null==p?void 0:null===(c=p.repositories)||void 0===c?void 0:null===(u=c.find((function(e){return(null==e?void 0:e.repositoryId)===r})))||void 0===u?void 0:u.repositoryName;case 14:return f.abrupt("return",{repository:o,repositoryType:a,pipeline:i});case 15:case"end":return f.stop()}}),F)}function ge(){var e,t,n,r,c,b,g,y,S,j,x,_,w,R,A,I,N,C,k,P,D,M;return regeneratorRuntime.wrap((function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,Object(s.put)(u.m(!0));case 2:return L.next=4,Object(s.select)(d.n);case 4:return r=L.sent,c=r.get("repository"),b=r.get("pipelineState"),L.next=9,Object(s.select)(d.o);case 9:if(g=L.sent,y=g.get("stackName"),ue(g)){L.next=17;break}return L.next=14,Object(s.call)(fe,y);case 14:return S=L.sent,L.next=17,Object(s.put)(u.n("projectStackInfo",S));case 17:return L.next=19,Object(s.select)(d.y);case 19:if(j=L.sent,x=null==j?void 0:j.has("stackId"),!le(g)){L.next=30;break}return L.next=24,Object(s.put)(u.m(!1));case 24:if(x){L.next=29;break}return L.next=27,Object(s.call)(Z,y);case 27:return L.next=29,Object(s.call)(te,-1);case 29:return L.abrupt("return");case 30:if(c&&0!==b.size){L.next=44;break}return L.next=33,Object(s.call)(be);case 33:if(_=L.sent,w=_.repository,R=_.repositoryType,A=_.pipeline,!w){L.next=43;break}return c=w,L.next=41,Object(s.put)(u.n("repository",w));case 41:return L.next=43,Object(s.put)(u.n("repositoryType",R));case 43:A&&(b=Object(i.Map)({pipelineName:A}));case 44:if(!(null===(e=b)||void 0===e?void 0:e.has("pipelineName"))){L.next=83;break}return L.prev=45,L.next=48,Object(s.call)(O.a.getPipelineState,{name:b.get("pipelineName")});case 48:return I=L.sent,N=I.body,L.next=52,Object(s.call)(p.e,N);case 52:return C=L.sent,L.next=55,Object(s.put)(u.n("pipelineState",T({},C,{raw:N})));case 55:if(b=Object(i.fromJS)(C),!C.error){L.next=72;break}return k=a.a.createElement(f.c,{href:C.error.externalUrl},a.a.createElement(o.FormattedMessage,{id:"details"})),P=a.a.createElement("div",null,C.error.message," ",C.error.externalUrl?a.a.createElement("span",null,"(",k,")"):""),L.next=61,Object(s.put)(Object(m.d)({message:P,scope:l.b,key:"pipeline"}));case 61:if(Object(E.logEventWithDetail)(E.EVENT_NAMES.APPS_AD_START_RIGHT_DEPLOYMENT_FAILED,{stageName:C.error.stageName,actionName:C.error.actionName}),x){L.next=69;break}return L.next=65,Object(s.call)(te,-1);case 65:return L.next=67,Object(s.put)(u.e());case 67:L.next=71;break;case 69:return L.next=71,Object(s.call)(Z,j.get("stackName"));case 71:return L.abrupt("return");case 72:return L.next=74,Object(s.put)(Object(m.b)("pipeline",l.b));case 74:L.next=83;break;case 76:return L.prev=76,L.t0=L.catch(45),L.next=80,Object(s.put)(Object(m.d)({message:L.t0.message,scope:l.b,key:"pipeline"}));case 80:if(!Object(v.a)(L.t0,"Pipeline")){L.next=83;break}return L.next=83,Object(s.put)(u.n("pipelineState",{pipelineName:b("pipelineName"),error:L.t0,ready:!0}));case 83:if(!(!x&&!(null===(t=b)||void 0===t?void 0:t.get("ready")))){L.next=89;break}return M=1,(null===(D=b)||void 0===D?void 0:D.get("pipelineName"))?(M=3,b.get("hasReachedLastStage")&&(M=4)):c&&(M=2),L.next=89,Object(s.call)(te,M);case 89:if(!(null===(n=b)||void 0===n?void 0:n.get("ready"))){L.next=96;break}return L.next=92,Object(s.put)(u.m(!1));case 92:return L.next=94,Object(s.put)(u.g());case 94:L.next=100;break;case 96:return L.next=98,Object(s.call)(h.db,1e4);case 98:return L.next=100,Object(s.put)(u.h());case 100:case"end":return L.stop()}}),q,null,[[45,76]])}function ye(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.fork)(ge);case 2:return e=t.sent,t.next=5,Object(s.take)(l.a.POLL_PROJECT_CANCEL);case 5:return t.next=7,Object(s.cancel)(e);case 7:case"end":return t.stop()}}),V)}function ve(e,t){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(s.put)(u.j(!0));case 2:return r.next=4,Object(s.call)(de,e);case 4:if(!(n=r.sent).error){r.next=13;break}return r.next=8,Object(s.put)(Object(m.d)({message:n.message,scope:l.b,key:"app"}));case 8:return r.next=10,Object(s.put)(u.j(!1));case 10:return r.next=12,Object(s.put)(u.e());case 12:return r.abrupt("return");case 13:if(t||n.exists){r.next=21;break}return r.next=16,Object(s.put)(Object(m.c)({message:{id:"applications.list.alert.appNoLongerExist",values:{appName:e}},type:"error",scope:"listApplications"}));case 16:return r.next=18,Object(s.put)(Object(g.m)(e));case 18:return r.next=20,Object(s.put)(Object(c.h)("/applications"));case 20:return r.abrupt("return");case 21:return r.next=23,Object(s.put)(u.i(n));case 23:if(!ce(n)){r.next=31;break}if(!t||!se(n)){r.next=27;break}return r.next=27,Object(s.call)(te,10);case 27:return r.next=29,Object(s.spawn)(oe,n.details.stackId,n.resources);case 29:return r.next=31,Object(s.put)(u.j(!1));case 31:return r.next=33,Object(h.db)(5e3);case 33:return r.next=35,Object(s.put)(u.f(e,t));case 35:case"end":return r.stop()}}),U)}function he(e){var t,n,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.appName,n=e.isInProject,a.next=3,Object(s.fork)(ve,t,n);case 3:return r=a.sent,a.next=6,Object(s.take)(l.a.POLL_APP_CANCEL);case 6:return a.next=8,Object(s.cancel)(r);case 8:case"end":return a.stop()}}),G)}function Ee(){var e,t,n,r,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(s.select)(d.e);case 2:return e=i.sent,i.next=5,Object(s.all)([Object(s.call)(de,e),Object(s.call)(me,e)]);case 5:if(t=i.sent,n=_(t,2),r=n[0],a=n[1],!r.error){i.next=15;break}if(!r.message){i.next=14;break}return i.next=13,Object(s.put)(Object(m.d)({message:r.message,scope:l.b,key:"app"}));case 13:return i.abrupt("return",!1);case 14:throw r;case 15:if(r.exists||a.exists){i.next=19;break}return i.next=18,Object(s.put)(Object(c.h)("/applications"));case 18:return i.abrupt("return",!1);case 19:return i.next=21,Object(s.put)(u.i(r));case 21:if(!a.exists){i.next=26;break}return i.next=24,Object(s.put)(u.n("projectStackInfo",a));case 24:return i.next=26,Object(s.put)(u.h());case 26:if(ce(r)){i.next=31;break}return i.next=29,Object(s.put)(u.f(e,a.exists));case 29:i.next=33;break;case 31:return i.next=33,Object(s.call)(oe,r.details.stackId,r.resources);case 33:return i.next=35,Object(s.call)(y.a,"user");case 35:return i.abrupt("return",!0);case 36:case"end":return i.stop()}}),B)}function Oe(e){var t,n,r,a,i,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.appName,n=e.nextToken,c.prev=1,c.next=4,Object(s.call)(O.a.getApplicationDeployments,{stackArn:t,nextToken:n});case 4:return r=c.sent,a=r.body,i=a.applicationDeployments,o=a.nextToken,c.next=8,Object(s.put)(u.c(i,o));case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(1),c.next=14,Object(s.put)(u.d(c.t0.message));case 14:case"end":return c.stop()}}),z,null,[[1,10]])}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return B})),n.d(t,"c",(function(){return ae})),n.d(t,"d",(function(){return ie})),n.d(t,"f",(function(){return ce})),n.d(t,"e",(function(){return se})),n.d(t,"h",(function(){return be})),n.d(t,"g",(function(){return ge}));var r=n(4),a=n(89),i=n.n(a),o=n(312),c=n.n(o),s=n(32),u=n(2),l=n(16),d=n(45),p=n(14),f=n(50),m=n(23),b=n(39),g=n(84),y=n(43),v=n(17),h=n(29),E=n(47),O=n(128),S=n(11),j=n(48),T=n(9),x=n(5),_=n(27),w=n(20);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var A=regeneratorRuntime.mark(se),I=regeneratorRuntime.mark(ue),N=regeneratorRuntime.mark(le),C=regeneratorRuntime.mark(de),k=regeneratorRuntime.mark(fe),P=regeneratorRuntime.mark(me);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F="createFunction",q="CAPABILITY_IAM,CAPABILITY_NAMED_IAM,CAPABILITY_RESOURCE_POLICY",V="newFunction=true",U=Object(r.Map)({creating:!1,existingFunctionNames:[],applications:Object(r.List)(),applicationsError:Object(r.Map)(),approximateResultCount:0,allAppsNoFiltersCount:0,searchingApplications:!1}),G=function(e){return e.set("creating",!0)},B=function(e){return{type:Object(v.b)(F,"CREATE_FUNCTION"),payload:{formData:e},reducer:G}},z=function(e){return e.set("creating",!1)},H=function(){return{type:Object(v.b)(F,"CREATE_DONE"),reducer:z}},W=function(e,t){var n=t.payload;return e.set("existingFunctionNames",n.functionNames)},K=function(e){return{type:Object(v.b)(F,"FETCH_EXISTING_FUNCTION_NAMES_COMPLETE"),payload:{functionNames:e},reducer:W}},Y=function(e){return e.set("searchingApplications",!0)},J=function(e,t){var n=t.payload;return e.set("searchingApplications",!1).set("applicationsError",Object(r.fromJS)(n.err))},Q=function(e){return{type:Object(v.b)(F,"SEARCH_APPLICATIONS_ERROR"),payload:{err:e},reducer:J}},X=function(e,t){var n=t.payload;return e.set("searchingApplications",!1).set("applications",Object(r.fromJS)(n.applications.map((function(e){return M({},e,{_labels:e.labels.join(",")})})))).set("applicationsError",Object(r.Map)()).set("allAppsNoFiltersCount",n.allAppsNoFiltersCount).set("approximateResultCount",n.approximateResultCount)},$=function(e){return{type:Object(v.b)(F,"SEARCH_APPLICATIONS_SUCCESS"),payload:e,reducer:X}},Z=function(e){return e.pages[F]},ee=Object(l.createSelector)(Z,(function(e){return e.get("applications")})),te=Object(l.createSelector)(Z,(function(e){return e.get("applicationsError")})),ne=Object(l.createSelector)(Z,(function(e){return e.get("allAppsNoFiltersCount")})),re=Object(l.createSelector)(Z,(function(e){return e.get("approximateResultCount")})),ae=Object(l.createSelector)(Z,(function(e){return e.get("existingFunctionNames")})),ie=Object(l.createSelector)(Z,(function(e){return e.get("creating")})),oe=Object(l.createSelector)(Z,(function(e){return e.get("searchingApplications")}));function ce(e){var t,n,r=e.message;return Object(O.a)(e,"lambda:CreateFunction")?Object(x.logEvent)(x.EVENT_NAMES.CREATE_FUNCTION_ERROR_LAMBDA_PERMISSIONS,!1):Object(O.a)(e,"iam:CreateRole")||Object(O.a)(e,"iam:PassRole")?Object(x.logEvent)(x.EVENT_NAMES.CREATE_FUNCTION_ERROR_IAM_PERMISSIONS,!1):409===e.status&&(null===(t=r)||void 0===t?void 0:t.startsWith("Function already exist:"))?Object(x.logEvent)(x.EVENT_NAMES.CREATE_FUNCTION_ERROR_FUNCTION_EXISTS,!1):403===e.status&&"The AWS Access Key Id needs a subscription for the service"===r?Object(x.logEvent)(x.EVENT_NAMES.CREATE_FUNCTION_ERROR_SUBSCRIPTION,!1):(null===(n=r)||void 0===n?void 0:n.includes(g.a))?(r={id:"error.role.notReady"},Object(x.logEvent)(x.EVENT_NAMES.CREATE_FUNCTION_ERROR_ROLE_NOT_READY,!1)):Object(x.logEvent)(x.EVENT_NAMES.CREATE_FUNCTION,!1),r}function se(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(j.e)().run();case 3:return e=t.sent,t.abrupt("return",{functionNames:e.map((function(e){return e.functionName}))});case 7:if(t.prev=7,t.t0=t.catch(0),!Object(O.a)(t.t0,"lambda:ListFunctions")){t.next=11;break}return t.abrupt("return",{functionNames:[],error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),A,null,[[0,7]])}function ue(){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.call)(se);case 2:return e=n.sent,t=e.functionNames,n.next=6,Object(u.put)(K(t));case 6:case"end":return n.stop()}}),I)}function le(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"serverlessApps"!==(t=e.query.tab)||T.f.includes("serverless-registry")||(t="authorFromScratch"),n.next=4,Object(u.put)(Object(s.i)({query:{exportBp:void 0,exportModal:void 0,tab:t}},{persistQuery:!0}));case 4:case"end":return n.stop()}}),N)}function de(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.put)(Object(m.i)(F,{roleSelectionType:"basic",roleTemplates:[],runtime:_.a,sessionId:Object(E.b)(8)}));case 3:return e.next=5,Object(u.put)(Object(d.b)());case 5:return e.next=7,Object(u.spawn)(ue);case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Object(u.put)(Object(p.d)({scope:F,message:e.t0.message}));case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),C,null,[[0,10]])}function pe(e){return new Promise((function(t,n){return c.a.getBinaryContent(e,(function(e,r){e?n(e):t(r)}))})).then(i.a.loadAsync).then((function(e){return e.generateAsync({type:"blob",platform:"UNIX"})}))}function fe(e){var t,n,r,a,i,o,c,s,l;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload.formData,d.next=3,Object(u.put)(Object(p.g)(F));case 3:return d.next=5,Object(u.put)(Object(f.d)());case 5:return n=t.name,r=t.runtime,a=Object(g.c)(t),i=["handler","memory","timeout"].reduce((function(e,t){return M({},e,L({},t,Object(_.q)(r,t)))}),{}),d.next=10,Object(u.call)(pe,Object(_.s)(r));case 10:return o=d.sent,c=M({codeSource:"upload",functionName:n,roleData:a,runtime:r.includes("Bootstrap")?"provided":r},i,{upload:o}),Object(x.logEvent)(x.EVENT_NAMES.AUTHOR_FROM_SCRATCH_RUNTIME(r)),s="customBootstrap"===r?"customBootstrapCreateSuccess":"createSuccess",d.prev=14,d.next=17,Object(u.call)(S.a.createFunction,c);case 17:return Object(x.logEvent)(x.EVENT_NAMES.CREATE_FUNCTION,!0),Object(x.logEvent)(x.EVENT_NAMES.CREATE_FUNCTION_FROM_SCRATCH,!0),d.next=21,Object(u.call)(w.v,n,s);case 21:d.next=32;break;case 23:return d.prev=23,d.t0=d.catch(14),d.next=27,Object(u.call)(ce,d.t0);case 27:return l=d.sent,Object(x.logEvent)(x.EVENT_NAMES.CREATE_FUNCTION_FROM_SCRATCH,!1),d.next=31,Object(u.put)(Object(p.d)({scope:F,message:l}));case 31:return d.abrupt("return");case 32:return d.prev=32,Object(x.logEvent)(x.EVENT_NAMES.CREATE_FUNCTION),Object(x.logEvent)(x.EVENT_NAMES.CREATE_FUNCTION_FROM_SCRATCH),d.next=37,Object(u.put)(H());case 37:return d.finish(32);case 38:return d.next=40,Object(u.put)(Object(y.d)(n,null,null,V));case 40:case"end":return d.stop()}}),k,null,[[14,23,32,38]])}function me(e){var t,n,r,a,i,o,c;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.payload,s.prev=1,!t.capabilities){s.next=12;break}return s.next=5,Object(u.call)(S.a.searchApplications,t);case 5:return n=s.sent,(r=n.body).allAppsNoFiltersCount=r.approximateResultCount,s.next=10,Object(u.put)($(r));case 10:s.next=21;break;case 12:return s.next=14,Object(u.all)([Object(u.call)(S.a.searchApplications,t),Object(u.call)(S.a.searchApplications,M({},t,{capabilities:q}))]);case 14:return a=s.sent,i=R(a,2),o=i[0].body,c=i[1].body,o.allAppsNoFiltersCount=c.approximateResultCount,s.next=21,Object(u.put)($(o));case 21:s.next=27;break;case 23:return s.prev=23,s.t0=s.catch(1),s.next=27,Object(u.put)(Q(s.t0));case 27:case"end":return s.stop()}}),P,null,[[1,23]])}var be=function(e){return{allAppsNoFiltersCount:ne(e),applications:ee(e).toJS(),applicationsError:te(e).toJS(),approximateResultCount:re(e),integrations:b.c.getNodes(e),searchingApplications:oe(e),selectedIntent:Object(h.b)(e).query.tab||"authorFromScratch"}},ge=function(e){return{cancel:function(){return e(Object(s.h)("/functions"))},clickBlueprint:function(t){return e(Object(s.h)("/create/function/configure/blueprint?blueprint=".concat(t)))},configureApplication:function(t){return e(Object(s.h)("/create/app?id=".concat(t)))},searchApplications:function(t){return e(function(e){return{type:Object(v.b)(F,"SEARCH_APPLICATIONS"),payload:e,reducer:Y}}(t))},selectIntent:function(t){return e(Object(s.i)({query:{tab:t}},{persistQuery:!0}))}}},ye=new v.a({id:F,initialState:U,init:de,load:le,hasHelpContent:!0,sidebar:!1,watchers:[{matcher:Object(v.b)(F,"CREATE_FUNCTION"),task:fe},{matcher:Object(v.b)(F,"SEARCH_APPLICATIONS"),task:me,latest:!0}]});t.b=ye},function(e,t,n){"use strict";n.r(t),n.d(t,"actions",(function(){return o})),n.d(t,"reducer",(function(){return s})),n.d(t,"selectors",(function(){return u}));var r=n(4),a=n(16),i=n(15).h.configureApplication;var o={configureApplicationPageInit:function(e){return{type:i.INIT,payload:e}},configureApplicationPageDone:function(e){return{type:i.INIT_DONE,payload:e}},configureApplicationPageError:function(e){return{type:i.INIT_ERROR,error:e}},deployApplication:function(e){return{type:i.DEPLOY_APPLICATION,payload:e}},reportApplication:function(e){return{type:i.REPORT_APPLICATION,payload:e}}},c=Object(r.Map)({loading:!0,hasErrors:!1,application:Object(r.Map)(),error:Object(r.Map)()});function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.INIT:return c;case i.INIT_DONE:return e.set("loading",!1).set("hasErrors",!1).set("error",Object(r.Map)()).set("application",Object(r.fromJS)(t.payload.application));case i.INIT_ERROR:return e.set("loading",!1).set("hasErrors",!0).set("error",Object(r.fromJS)(t.error));default:return e}}var u={getApplication:Object(a.createSelector)((function(e){return e.pages.configureApplication.get("application")}),(function(e){return e.toJS()})),getError:Object(a.createSelector)((function(e){return e.pages.configureApplication.get("error")}),(function(e){return e.toJS()}))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(6),s=n(58),u=n(7),l=n(33);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function O(e){var t,n=e.multi,r=e.items,i=e.value;if(n){var o=(i||[]).map((function(e){var t=r.find((function(t){return t.value===e}));return(null==t?void 0:t.text)||e}));return a.a.createElement("span",null,o.join(", "))}var c=r.find((function(e){return e.value===i}));return c=(null===(t=c)||void 0===t?void 0:t.text)||i,a.a.createElement("span",null,c)}O.propTypes={value:o.a.oneOfType([s.b.select,o.a.arrayOf(s.b.select)]),items:o.a.arrayOf(s.c).isRequired,multi:o.a.bool};var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,b(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(r=[{key:"shouldComponentUpdate",value:function(e){return!Object(u.bb)(this.props,e)}},{key:"handleManualChange",value:function(e){var t,n="integer"===(null===(t=this.props.schema)||void 0===t?void 0:t.type);this.props.onChange(n?parseInt(e.detail.value,10):e.detail.value)}},{key:"handleMultiChange",value:function(e){var t=p(this.props.value||[]),n=e.detail.selectedId,r=t.indexOf(n);-1===r?t.push(n):t.splice(r,1),this.props.onChange(t)}},{key:"handleSingleChange",value:function(e){var t,n="integer"===(null===(t=this.props.schema)||void 0===t?void 0:t.type);this.props.onChange(n?parseInt(e.detail.selectedId,10):e.detail.selectedId)}},{key:"render",value:function(){var e,t=this;if(this.props.readonly)return a.a.createElement(O,{multi:this.props.multi,items:this.props.items,value:this.props.value});var n,r=this.props.allowManualValues?"value":"id",i=this.props.items.map((function(e){return function e(t,n){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.value,o=t.text,c=t.children,s=E(t,["value","text","children"]),u=v((h(r={},n,i),h(r,"label",o),r),s);if(!c)return u;var l=c.map((function(t){return e(t,n,a)}));return a&&l.unshift(u),v({},u,{options:l})}(e,r,t.props.duplicateGroupHeadersInOptions)})),o={placeholder:this.props.placeholder,enableFiltering:null!==(e=this.props.searchable)&&void 0!==e?e:i.length>10,options:i,disabled:this.props.disabled||!1,selectedId:this.props.selectedId,empty:this.props.empty,value:this.props.value,loading:this.props.loading||!1,onFocus:this.props.onFocus};return this.props.value&&(this.props.multi?o.selectedIds=this.props.value:o.selectedId=this.props.value.toString()),this.props.allowManualValues&&this.props.loading&&(o.statusType="loading"),this.props.allowManualValues?(n=c.Autosuggest,o.onInput=this.handleManualChange.bind(this)):this.props.multi?(n=c.Multiselect,o.onChange=this.handleMultiChange.bind(this)):(n=c.Select,o.onChange=this.handleSingleChange.bind(this)),a.a.createElement(n,o)}}])&&f(n.prototype,r),i&&f(n,i),t}(a.a.Component);h(S,"propTypes",{value:o.a.oneOfType([s.b.select,o.a.arrayOf(s.b.select)]),items:o.a.arrayOf(s.c).isRequired,multi:o.a.bool,allowManualValues:o.a.bool,empty:o.a.string,enum:o.a.bool,searchable:o.a.bool,onChange:o.a.func.isRequired,onFocus:o.a.func,disabled:o.a.bool,readonly:o.a.bool,placeholder:o.a.string,schema:o.a.instanceOf(l.c),selectedId:o.a.string,duplicateGroupHeadersInOptions:o.a.bool,loading:o.a.bool})},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(4),s=n(6),u=n(3),l=n(57);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return r=this,a=(e=f(t)).call.apply(e,[this].concat(o)),n=!a||"object"!==d(a)&&"function"!=typeof a?m(r):a,g(m(n),"handleKeyChange",(function(e){n.props.onChange(n.props.keyValue.set("key",e.detail.value))})),g(m(n),"handleValueChange",(function(e){n.props.onChange(n.props.keyValue.set("value",e.detail.value))})),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.keyValue,n=e.validationMessage,r=e.readonly,a=e.children,i={key:this.context.intl.formatMessage({id:"envVars.placeholders.key"}),value:this.context.intl.formatMessage({id:"envVars.placeholders.value"})},c=t.isEncrypted?"password":"text";return o.a.createElement("div",{className:"key-value awsui-util-pv-xs"},o.a.createElement("div",{className:"field"},r?o.a.createElement("span",null,t.key):o.a.createElement(s.Input,{value:t.key,placeholder:i.key,onInput:this.handleKeyChange}),(null==n?void 0:n.get("key"))?o.a.createElement("p",{className:"awsui-form-field-error"},null==n?void 0:n.getIn(["key","message"])):null),o.a.createElement("div",{className:"field"},r?o.a.createElement("span",null,t.isEncrypted?"********":t.value):o.a.createElement(s.Input,{value:t.value,disabled:t.isEncrypted,type:c,placeholder:i.value,onInput:this.handleValueChange}),(null==n?void 0:n.get("value"))?o.a.createElement("p",{className:"awsui-form-field-error"},n.getIn(["value","message"])):null),a)}}])&&p(n.prototype,r),a&&p(n,a),t}(o.a.Component);g(y,"propTypes",{keyValue:a.a.instanceOf(l.b).isRequired,onChange:a.a.func.isRequired,validationMessage:a.a.instanceOf(c.Map),readonly:a.a.bool,children:a.a.node}),g(y,"contextTypes",{intl:u.intlShape.isRequired})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(4),a=n(8),i="Missing CloudWatch Logs",o={args:function(e){return{nodes:Object(a.z)(e).get("nodes")}},run:function(e){var t=e.nodes,n={id:i,result:""},a=["logs:PutLogEvents","logs:CreateLogStream","logs:CreateLogGroup"];if(t.find((function(e){return"*"===e.get("id")})))return null;var o=t.find((function(e){return"logs"===e.get("id")}));if(!o)return n.result=a.join(", "),Object(r.fromJS)(n);var c=o.getIn(["data","statements"]).filter((function(e){return"Allow"===e.get("effect")})).map((function(e){return e.get("action")}));return c.includes("logs:*")?null:(n.result=a.filter((function(e){return!c.includes(e)})).join(", "),n.result?Object(r.fromJS)(n):null)}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return j}));var r=n(0),a=n.n(r),i=n(2),o=n(3),c=n(11),s=n(7),u=n(122),l=n(15),d=n(5),p=n(45),f=regeneratorRuntime.mark(v),m=regeneratorRuntime.mark(h),b=regeneratorRuntime.mark(S),g=regeneratorRuntime.mark(j),y=l.h.status;function v(e){var t,n,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.query,Object(d.startPageLoad)("status"),n=t.stackId,r=t.applicationId,a.next=5,Object(i.put)(u.actions.statusPageInit({stackId:n,applicationId:r}));case 5:case"end":return a.stop()}}),f)}function h(e){var t,n,r,s,l;return regeneratorRuntime.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.payload,n=t.stackId,r=t.applicationId,f.next=3,Object(i.put)(Object(p.e)(a.a.createElement(o.FormattedHTMLMessage,{id:"status.helpContent"})));case 3:if(f.prev=3,Object(d.stopPageLoad)("status",!0),!r){f.next=12;break}return f.next=8,Object(i.call)(c.a.getApplication,{applicationId:r});case 8:return s=f.sent,l=s.body,f.next=12,Object(i.put)(u.actions.statusPageFetchApplicationComplete({application:l}));case 12:return f.next=14,Object(i.put)(u.actions.statusPageStackResourcesPollInit({stackId:n}));case 14:f.next=21;break;case 16:return f.prev=16,f.t0=f.catch(3),Object(d.stopPageLoad)("status",!1),f.next=21,Object(i.put)(u.actions.statusPageError(f.t0));case 21:case"end":return f.stop()}}),m,null,[[3,16]])}var E=5e3;function O(e){var t=e.status;return["COMPLETE","FAILED"].some((function(e){return t.includes(e)}))}function S(e){var t,n,r,a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.stackId,o.next=3,Object(i.call)(c.a.getApplicationStatusSummary,{stackId:t});case 3:if(n=o.sent,!Object(c.b)(n)){o.next=17;break}return o.next=7,Object(i.put)(u.actions.statusPageFetchStackStatusComplete({stackStatus:n.body}));case 7:return o.next=9,Object(i.call)(c.a.getApplicationStatus,{stackId:t});case 9:if(r=o.sent,!Object(c.b)(r)){o.next=14;break}return l={stackResources:r.body},a=l.stackResources.map((function(e){return{ResourceType:e.resourceType,PhysicalResourceId:e.physicalResourceId,LastUpdatedTimestamp:e.lastUpdatedTimestamp,ResourceStatus:e.resourceStatus,ResourceStatusReason:e.resourceStatusReason,LogicalResourceId:e.logicalResourceId}})),o.next=14,Object(i.put)(u.actions.statusPageFetchStackResourcesComplete({stackResources:a}));case 14:if(!O({status:n.body.stackStatus})){o.next=17;break}return o.next=17,Object(i.put)(u.actions.statusPageStackResourcesPollCancel());case 17:return o.next=19,Object(i.call)(s.db,E);case 19:return o.next=21,Object(i.put)(u.actions.statusPageStackResourcesPollInit({stackId:t}));case 21:case"end":return o.stop()}var l}),b)}function j(e){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.stackId,r.next=3,Object(i.fork)(S,{stackId:t});case 3:return n=r.sent,r.next=6,Object(i.take)(y.STACK_RESOURCES_POLL_CANCEL);case 6:return r.next=8,Object(i.cancel)(n);case 8:case"end":return r.stop()}}),g)}},function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(6),s=n(56),u=n.n(s),l=n(3),d=n(42),p=n(60),f=n(9),m={error:"negative",info:"info",success:"positive",warning:"negative",pending:"info"},b={error:"negative",info:"info",success:"positive",warning:"warning",pending:"pending"},g=function(e){var t=e.level,n=e.message;return o.a.createElement("span",{className:"awsui-util-status-".concat(m[t])},o.a.createElement(c.Icon,{name:"status-".concat(b[t])}),o.a.createElement("span",{className:"awsui-util-ml-xs"},o.a.createElement(l.FormattedMessage,{id:n})))};g.propTypes={level:a.a.string.isRequired,message:a.a.string.isRequired};var y=function(e){var t=e.node,n=e.selected,r=e.selectNode,a=e.deleteNode,i=e.updateNodeState,s=e.count,d=e.readonly,m=null,b=t.get("type"),y=t.get("variant","default"),v=t.get("states").filter((function(e){return e.get("type")===p.b.PENDING_DELETION})).size>0,h=t.get("states").filter((function(e){return e.get("type")===p.b.SAVING})).size>0;"function"!==b&&(s>1||f.f.includes("layette")&&"layer"===b?m=o.a.createElement(l.FormattedMessage,{id:"wrapper",values:{value:s.toString()}}):!1===t.get("editable")||d||(m=o.a.createElement("div",{onClick:function(e){if(e.stopPropagation(),v){var n=t.get("states").filter((function(e){return e.get("type")!==p.b.PENDING_DELETION}));i(t.get("id"),n)}else a(t.get("id"))}},o.a.createElement(c.Icon,{variant:"disabled",name:v?"undo":"close"})))),h&&(m=o.a.createElement(c.Spinner,{size:"normal"}));var E=t.get("name");"*"===E&&(E=o.a.createElement(l.FormattedMessage,{tagName:"b",id:"functionDesigner.node.resource.all"}));var O=["awsui-util-container","awsui-util-no-gutters","designer-card-container",b,"node-variant-".concat(y),{selected:n}],S=t.get("icon"),j="string"==typeof S?o.a.createElement("img",{src:S,alt:"icon"}):o.a.createElement(S,null);return o.a.createElement("div",{className:u()(O),onClick:function(){return r(t)}},o.a.createElement("div",null,o.a.createElement("div",{className:"service-icon-container"},j),o.a.createElement("div",{className:"node-details awsui-util-d-ib awsui-util-ph-s"},o.a.createElement("h3",{className:"awsui-util-pt-n"},E),t.get("states").map((function(e){var t=e.get("message");return o.a.createElement("div",{key:e.get("id"),className:"node-state awsui-util-mr-s"},o.a.createElement(g,{level:e.get("level"),message:t.id||t}))})).toArray()),m))};y.propTypes={node:d.e.isRequired,selected:a.a.bool.isRequired,selectNode:a.a.func.isRequired,deleteNode:a.a.func.isRequired,updateNodeState:a.a.func.isRequired,count:a.a.number,readonly:a.a.bool},t.a=y},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var a=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),i=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(i).concat([a]).join("\n")}var o;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(r[i]=!0)}for(a=0;a<e.length;a++){var o=e[a];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return w})),n.d(t,"e",(function(){return N})),n.d(t,"d",(function(){return C})),n.d(t,"f",(function(){return k}));var r=n(4),a=n(32),i=n(2),o=n(16),c=n(45),s=n(14),u=n(17),l=n(29),d=n(11),p=n(48),f=n(5);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=regeneratorRuntime.mark(R),y=regeneratorRuntime.mark(A),v=regeneratorRuntime.mark(I),h=Object(r.Map)({layerVersion:Object(r.Map)(),layerVersions:Object(r.List)(),loadingVersions:!0}),E=function(e,t){var n=t.payload;return e.set("layerVersion",Object(r.fromJS)(n.layerVersion))},O=function(e){return{type:Object(u.b)("viewLayer","SET_LAYER_VERSION"),payload:{layerVersion:e},reducer:E}},S=function(e,t){var n=t.payload;return e.set("layerVersions",Object(r.fromJS)(n.layerVersions)).set("loadingVersions",!1)},j=function(e){return{type:Object(u.b)("viewLayer","SET_LAYER_VERSIONS"),payload:{layerVersions:e},reducer:S}},T=function(e){return e.pages.viewLayer},x=Object(o.createSelector)(T,(function(e){return e.get("layerVersion")})),_=Object(o.createSelector)(T,(function(e){return e.get("layerVersions")})),w=Object(o.createSelector)(T,(function(e){return e.get("loadingVersions")}));function R(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.g)(e).run();case 3:return t=n.sent,n.next=6,Object(i.put)(j(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(i.put)(Object(s.d)({scope:"viewLayer",message:{id:"layerDetail.version.errors.getLayerVersion.failure",values:{error:n.t0.message}}}));case 12:case"end":return n.stop()}}),g,null,[[0,8]])}function A(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.put)(Object(s.c)({type:"warning",message:{id:"layerDetail.version.errors.getLayerVersion.failure",values:{error:e.message}},scope:"listLayers"}));case 2:return t.next=4,Object(i.put)(Object(a.h)("/layers"));case 4:case"end":return t.stop()}}),y)}function I(){var e,t,n,r,a,o,c;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(i.select)(l.b);case 2:if(e=u.sent,t=e.params,n=t.layerName,r=t.version,a=parseInt(r,10),!isNaN(a)){u.next=11;break}return u.next=10,Object(i.call)(A,new Error("Invalid arguments"));case 10:return u.abrupt("return",!1);case 11:return u.prev=11,u.next=14,Object(i.call)(d.a.getLayerVersion,{layerName:n,versionNumber:a});case 14:return o=u.sent,c=o.body,u.next=18,Object(i.put)(O(c));case 18:return u.next=20,Object(i.spawn)(R,n);case 20:return u.abrupt("return",!0);case 23:if(u.prev=23,u.t0=u.catch(11),404!==u.t0.status&&400!==u.t0.status){u.next=30;break}return u.next=28,Object(i.call)(A,u.t0);case 28:u.next=32;break;case 30:return u.next=32,Object(i.put)(Object(s.d)({scope:"viewLayer",message:{id:"layerDetail.version.errors.getLayerVersion.failure",values:{error:u.t0.message}}}));case 32:return u.abrupt("return",!1);case 33:case"end":return u.stop()}}),v,null,[[11,23]])}var N=function(e){return{routeParams:Object(l.b)(e).params,layerVersion:x(e).toJS()}},C=function(e){return{visit:function(t,n){return e(Object(a.h)(t,n))},downloadPackage:function(t){return e(Object(c.a)(t))}}},k=function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{},e,{},t,{deleteVersion:function(){return t.visit({query:{deleteModal:e.routeParams.layerName}},{persistQuery:!0})},downloadPackage:function(){Object(f.logEvent)(f.EVENT_NAMES.LAYERS_DETAIL_DOWNLOAD),t.downloadPackage(e.layerVersion.content.location)}})},P=new u.a({id:"viewLayer",preview:"layette",initialState:h,init:I});t.a=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOCATION_CHANGED="ROUTER_LOCATION_CHANGED";var r=t.PUSH="ROUTER_PUSH",a=t.REPLACE="ROUTER_REPLACE",i=t.GO="ROUTER_GO",o=t.GO_BACK="ROUTER_GO_BACK",c=t.GO_FORWARD="ROUTER_GO_FORWARD",s=t.POP="ROUTER_POP",u=t.BLOCK="ROUTER_BLOCK",l=t.UNBLOCK="ROUTER_UNBLOCK",d=(t.REPLACE_ROUTES="ROUTER_REPLACE_ROUTES",t.DID_REPLACE_ROUTES="ROUTER_DID_REPLACE_ROUTES",[r,a,i,s]),p=[].concat(d,[c,o,s,u,l]);t.isNavigationAction=function(e){return-1!==p.indexOf(e.type)},t.isNavigationActionWithPayload=function(e){return-1!==d.indexOf(e.type)}},,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return S}));var r=n(0),a=n.n(r),i=n(4),o=n(2),c=n(14),s=n(17),u=n(80),l=n(66),d=n(7),p=n(11),f=n(40),m=regeneratorRuntime.mark(E),b=regeneratorRuntime.mark(O);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=Object(i.Map)();function E(){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(o.call)(p.a.listMotds);case 3:return e=n.sent,t=e.body,n.next=7,Object(o.call)(f.g,"motd",!0);case 7:return n.next=9,t.map((function(e,t){return Object(o.put)(Object(c.f)(y({},e,{key:"motd".concat(t),message:a.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.message}})})))}));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(o.put)(Object(c.d)({message:n.t0.message}));case 15:case"end":return n.stop()}}),m,null,[[0,11]])}function O(){var e,t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(o.call)(f.d,"motd");case 2:if(r.sent){r.next=6;break}return r.next=6,Object(o.spawn)(E);case 6:return r.next=8,Object(o.select)(l.g);case 8:if(!(e=r.sent)){r.next=13;break}return r.next=12,Object(o.put)(Object(c.d)({message:e}));case 12:return r.abrupt("return",!1);case 13:return r.next=15,Object(o.select)(l.f);case 15:if(t=r.sent,n=t.getIn(["accountLimit","totalCodeSize"]),!(t.getIn(["accountUsage","totalCodeSize"])>n)){r.next=21;break}return r.next=21,Object(o.put)(Object(c.j)({message:{id:"discover.limit",values:{storageLimit:Object(d.m)(n)}}}));case 21:return r.next=23,Object(o.put)(Object(u.b)());case 23:return r.abrupt("return",!0);case 24:case"end":return r.stop()}}),b)}var S=function(e){return{settings:Object(l.f)(e)}},j=new s.a({id:"discover",initialState:h,init:O,hasHelpContent:!0,sidebar:!0});t.a=j},function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(27),a=n(9),i=n(474),o=n.n(i),c=n(475),s=n.n(c),u=n(476),l=n.n(u),d=n(477),p=n.n(d),f=n(478),m=n.n(f),b=n(479);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var h="By combining AWS Lambda with other AWS services, developers can build powerful applications that automatically scale up and down and run in a highly available configuration across multiple data centers – with zero administrative effort required for scalability, back-ups or multi-data center redundancy.",E=[{id:"web-backend",header:"Serverless API backend",billboard:"Use Lambda with API Gateway and DynamoDB to build fault-tolerant web APIs that scale automatically and run only when needed.",description:"A RESTful web API that uses DynamoDB to manage state.",author:"AWS",resources:["API Gateway","DynamoDB","Lambda"],runtimes:["nodejs10.x"],visual:n.n(b).a},{id:"file-processing",header:"File processing",billboard:h,description:"Use Amazon S3 to trigger AWS Lambda to process data immediately after an upload. For example, you can use Lambda to thumbnail images, transcode videos, index files, process logs, validate content, and aggregate and filter data in real time.",author:"AWS",resources:["Lambda","S3"],runtimes:["nodejs10.x"],visual:o.a},{id:"stream-processing",header:"Real-time stream processing",billboard:h,description:"Use AWS Lambda and Amazon Kinesis to process real-time streaming data for application activity tracking, transaction order processing, click stream analysis, data cleansing, metrics generation, log filtering, indexing, social media analysis, and IoT device data telemetry and metering",author:"AWS",resources:["Kinesis","Lambda"],runtimes:a.f.includes("huesillo-st")?["nodejs10.x"]:[],visual:m.a},{id:"scheduled",header:"Scheduled job",billboard:h,description:"Schedule AWS Lambda functions using AWS CloudWatch events. This application creates a Lambda function that is triggered on a regular schedule.",author:"AWS",resources:["CloudWatch Events","Lambda"],runtimes:["nodejs10.x"],visual:p.a},{id:"notifications",header:"Notifications processing",billboard:h,description:"Use a Lambda function to subscribe to an Amazon SNS topic. When a message is published to an SNS topic that has a Lambda function subscribed to it, the Lambda function is invoked with the payload of the published message.",author:"AWS",resources:["Lambda","SNS"],runtimes:["nodejs10.x"],visual:s.a},{id:"queue-processing",header:"Queue processing",billboard:h,description:"Use an AWS Lambda function to process messages from an Amazon SQS queue. With Amazon SQS, you can offload tasks from one component of your application by sending them to a queue and processing them asyncrhonously. Lambda polls the queue and invokes your function.",author:"AWS",resources:["Lambda","SQS"],runtimes:["nodejs10.x"],visual:l.a}],O=function(e){var t=e.runtimes,n=v(e,["runtimes"]),a=new Set(t),i=r.f.filter((function(e){var t=e.value;return a.has(t)}));return 0===i.length?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({runtimes:i},n)},S=function(e){return e.map((function(e){return O(e)})).filter((function(e){return!!e}))}(E)},function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(6),s=n(56),u=n.n(s),l=n(4),d=n(13),p=n(15),f=n(45),m=n(3),b=n(29),g=n(9),y=n(5);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var h="#/",E={discover:"#/discover",applications:"#/applications",functions:"#/functions",integrations:"#/integrations"},O={functions:["#/create"]},S=["discover","applications","functions"];function j(e){var t="#".concat(e).split("/").slice(0,2).join("/"),n=Object.values(E).find((function(e){return t===e}));if(n)return n;var r=Object.entries(O).find((function(e){return v(e,2)[1].includes(t)}));return r?E[r[0]]:t}function T(e,t){var n=e.location,r=t.intl,a={text:r.formatMessage({id:"begin.billboard.name"}),href:h},i=S.map((function(e){return{type:"link",text:r.formatMessage({id:"sidebar.".concat(e)}),href:E[e]}}));return o.a.createElement(c.SideNavigation,{id:"sidebar",header:a,items:i,activeHref:n.result.sidebarActiveHref||j(n.pathname),onFollow:function(e){return Object(y.log)({key:"feevc_sb_click_".concat(e.detail.text)})}})}g.f.includes("layette")&&(E.layers="#/layers",S.push("layers"),O.layers=["#/create/layer"]),T.propTypes={location:a.a.object.isRequired},T.contextTypes={intl:m.intlShape.isRequired};var x=Object(d.connect)((function(e){return{location:Object(b.b)(e)}}))(T),_=n(18),w=n.n(_);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e,t,n){var r,a,i=e.get(t);return(null==i?void 0:i.id)&&"string"!=typeof i&&!o.a.isValidElement(i)?((null===(r=i.values)||void 0===r?void 0:null===(a=r.message)||void 0===a?void 0:a.id)&&(i.values.message=n(i.values.message)),o.a.createElement(m.FormattedHTMLMessage,i)):i};var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I(this,N(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement(c.Flashbar,{items:(e=this.props.content,t=this.context.intl.formatMessage,n=this.props.onButtonClick,(e||Object(l.List)()).map((function(e){return e.set("content",P(e,"content",t)).set("header",P(e,"header",t)).set("buttonText",e.get("buttonText")?t(e.get("buttonText")):void 0).set("buttonClick",e.get("buttonClickActionType")?function(){return n(e.get("buttonClickActionType"))}:void 0)})).toJS())});var e,t,n}}])&&A(n.prototype,r),a&&A(n,a),t}(o.a.PureComponent);k(D,"propTypes",{content:w.a.list,onButtonClick:r.PropTypes.func}),k(D,"contextTypes",{intl:m.intlShape.isRequired});var M=Object(d.connect)((function(e){return{content:e.flashBar.get("items")}}),(function(e){return{onButtonClick:function(t){return e({type:t})}}}))(D);function L(e){var t=e.content;return o.a.createElement("div",{id:"tools",className:"awsui-util-help-panel"},o.a.createElement("div",{className:"awsui-util-help-panel-header"},o.a.createElement(m.FormattedMessage,{tagName:"h2",id:"help"})),t)}function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}L.propTypes={content:a.a.node},n.d(t,"b",(function(){return Y}));var B,z,H,W=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),V(this,U(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,e),n=t,(r=[{key:"onNavigationChange",value:function(e){var t=e.detail.open;this.props.toggleSidebar(t),Object(y.log)({key:"feevc_nv_toggle_".concat(t?"open":"close")})}},{key:"onToolsChange",value:function(e){var t=e.detail.open;this.props.toggleHelp(t),Object(y.log)({key:"feevc_tl_toggle_".concat(t?"open":"close")})}},{key:"render",value:function(){var e=this.props,t=e.breadcrumbs,n=e.currentPage;if(!n)return null;var r=n.contentType||"default",a="begin"===n.id;return o.a.createElement(c.AppLayout,{className:u()({fullscreen:this.props.isFullscreen,"awsui-util-no-gutters":n.noGutters}),content:o.a.createElement("span",null,this.props.children),contentType:r,navigation:o.a.createElement(x,null),navigationOpen:this.props.sidebarOpen,navigationWidth:220,onNavigationChange:this.onNavigationChange.bind(this),tools:o.a.createElement(L,{content:this.props.helpContent}),toolsHide:a,toolsOpen:this.props.helpOpen,toolsWidth:280,onToolsChange:this.onToolsChange.bind(this),breadcrumbs:t,notifications:o.a.createElement(M,null)})}}])&&q(n.prototype,r),a&&q(n,a),t}(o.a.Component);B=W,z="propTypes",H={children:a.a.node.isRequired,breadcrumbs:a.a.node,currentPage:a.a.object,isFullscreen:a.a.bool.isRequired,helpContent:a.a.node,helpOpen:a.a.bool.isRequired,sidebarOpen:a.a.bool.isRequired,toggleSidebar:a.a.func.isRequired,toggleHelp:a.a.func.isRequired},z in B?Object.defineProperty(B,z,{value:H,enumerable:!0,configurable:!0,writable:!0}):B[z]=H;t.a=Object(d.connect)((function(e){return{currentPage:Object(b.a)(e),isFullscreen:!!Object(b.b)(e).query.fullscreen,helpContent:e.app.get("helpContent"),helpOpen:e.app.get("helpOpen"),sidebarOpen:e.app.get("sidebarOpen")}}),(function(e){return{toggleSidebar:function(t){return e(Object(f.h)(t))},toggleHelp:function(t){return e(Object(f.g)(t))}}}))(W);var K=Object(l.fromJS)({sidebarOpen:!0,helpOpen:!1,helpContent:""});function Y(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case p.i.TOGGLE:return n.set("sidebarOpen",null!==(e=r.force)&&void 0!==e?e:!n.get("sidebarOpen"));case p.i.TOGGLE_HELP:return n.set("helpOpen",null!==(t=r.force)&&void 0!==t?t:!n.get("helpOpen"));case p.i.SET_HELP_CONTENT:return n.set("helpContent",r.message);default:return n}}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),a=n(47);function i(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handlers=Object(r.Map)(),this._broadcast=function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var o=t.handlers.get(e,Object(r.Map)());o.forEach((function(e){return e.apply(void 0,a)}))}}var t,n,c,s,u;return t=e,(n=[{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.handlers=this.handlers.filterNot((function(t,n){return n.startsWith(e)}))}},{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(a.a)();this.handlers=this.handlers.setIn([e,n],t)}},{key:"off",value:function(e,t){this.handlers=this.handlers.update(e,Object(r.Map)(),(function(e){return e.filter((function(e){return e!==t}))}))}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._broadcast.apply(this,[e].concat(n))}},{key:"once",value:function(e,t,n){var r=this;this.on(e,(function a(i){if(i===t||"*"===i){r.off(e,a);for(var o=arguments.length,c=new Array(o>1?o-1:0),s=1;s<o;s++)c[s-1]=arguments[s];n.apply(void 0,c)}}),t)}},{key:"promise",value:function(e,t){var n=this;return new Promise((function(r,a){n.once(e,t,(function(e,t){e?a(e):r(t)}))}))}},{key:"call",value:(s=regeneratorRuntime.mark((function e(t){var n,r,i,o,c,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=Object(a.a)(),r=this.promise("".concat(t,":response"),n),i=s.length,o=new Array(i>1?i-1:0),c=1;c<i;c++)o[c-1]=s[c];return this.emit.apply(this,["".concat(t,":request"),n].concat(o)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})),u=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=s.apply(e,t);function o(e){i(a,n,r,o,c,"next",e)}function c(e){i(a,n,r,o,c,"throw",e)}o(void 0)}))},function(e){return u.apply(this,arguments)})},{key:"handle",value:function(e,t){var n=this;this.on("".concat(e,":request"),(function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return t.apply(void 0,i.concat([function(t,a){n.emit("".concat(e,":response"),r,t,a)}]))}))}}])&&o(t.prototype,n),c&&o(t,c),e}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(4),a=n(17),i=Object(r.Map)();var o=function(e){return{deploymentId:e.router.params.deploymentId}},c=new a.a({id:"deploymentDetail",initialState:i,init:function(){return!0},sidebar:!1});t.a=c},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(6),s=n(4),u=n(18),l=n.n(u),d=n(3),p=n(13),f=n(460),m=n(461),b=n(44),g=n(62),y=n(106),v=n(188),h=n(208),E=n(57),O=n(36),S=n(65),j=n(11),T=n(33);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){_(i,r,a,o,c,"next",e)}function c(e){_(i,r,a,o,c,"throw",e)}o(void 0)}))}}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(t){function n(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=A(this,I(n).call(this,e,t))).getMessage=function(e,n){return t.intl.formatMessage({id:e},n)},r.state={kmsCallFailureReason:null,kmsEncryptionKey:null,noKeysWarning:!1,showEncryptionHelpers:!1},r}var r,a,i,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(n,t),r=n,(a=[{key:"onEncryptButtonPress",value:(u=w(regeneratorRuntime.mark((function t(n,r){var a,i,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==n.value.length&&this.state.kmsEncryptionKey){t.next=2;break}return t.abrupt("return");case 2:return a=n.set("isEncryptingOrDecrypting",!0),this.onKeyValueChange(r,a),this.setState({kmsCallFailureReason:null}),t.prev=5,o={Plaintext:e.btoa(n.value),KeyId:this.state.kmsEncryptionKey},t.next=9,j.a.kmsEncrypt(o);case 9:c=t.sent,i=c.CiphertextBlob,t.next=19;break;case 13:return t.prev=13,t.t0=t.catch(5),a=n.set("isEncryptingOrDecrypting",!1),this.onKeyValueChange(r,a),this.setState({kmsCallFailureReason:t.t0.message}),t.abrupt("return");case 19:a=n.set("value",i).set("isEncrypted",!0).set("isEncryptingOrDecrypting",!1),this.onKeyValueChange(r,a);case 21:case"end":return t.stop()}}),t,this,[[5,13]])}))),function(e,t){return u.apply(this,arguments)})},{key:"onDecryptButtonPress",value:(s=w(regeneratorRuntime.mark((function t(n,r){var a,i,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state.kmsEncryptionKey){t.next=2;break}return t.abrupt("return");case 2:return a=n.set("isEncryptingOrDecrypting",!0),this.onKeyValueChange(r,a),this.setState({kmsCallFailureReason:null}),t.prev=5,o={CiphertextBlob:n.value},t.next=9,j.a.kmsDecrypt(o);case 9:c=t.sent,i=e.atob(c.Plaintext),t.next=19;break;case 13:return t.prev=13,t.t0=t.catch(5),a=n.set("isEncryptingOrDecrypting",!1),this.onKeyValueChange(r,a),this.setState({kmsCallFailureReason:t.t0.message}),t.abrupt("return");case 19:a=n.set("value",i).set("isEncrypted",!1).set("isEncryptingOrDecrypting",!1),this.onKeyValueChange(r,a);case 21:case"end":return t.stop()}}),t,this,[[5,13]])}))),function(e,t){return s.apply(this,arguments)})},{key:"onKeyValueChange",value:function(e,t){this.props.onKeyValueChange(e,t)}},{key:"onDeleteKeyValue",value:function(e){this.props.onDeleteKeyValue(e)}},{key:"getKmsCallFailureMessage",value:function(){var e=this.state.kmsCallFailureReason;return e?e.id?this.context.intl.formatMessage(e):this.context.intl.formatMessage({id:"envVars.kmsErrorPretext"},{error:e}):null}},{key:"showWarningForNoKmsKeys",value:function(){this.setState({noKeysWarning:!0,showEncryptionHelpers:!1})}},{key:"changeEnableHelpers",value:function(){this.setState((function(e){return{showEncryptionHelpers:!e.showEncryptionHelpers,noKeysWarning:!1}}))}},{key:"changeKmsEncryptionKey",value:function(e){this.setState({kmsEncryptionKey:e})}},{key:"render",value:function(){var e=this,t="create"!==this.props.context,n=this.props.readonly?this.props.envVars:this.props.envVars.push(E.a),r=o.a.createElement(d.FormattedHTMLMessage,{id:"envVars.encryptionDescription.html",tagName:"p"}),a=o.a.createElement(c.ExpandableSection,{header:o.a.createElement(d.FormattedMessage,{id:"envVars.encryption.title"}),variant:"default"},this.props.readonly?null:o.a.createElement("div",{className:"blurb"},o.a.createElement("span",null,o.a.createElement(c.FormField,{label:o.a.createElement("span",null,o.a.createElement("span",null,this.getMessage("envVars.enableHelpersTransitLabel")),o.a.createElement(S.a,{message:r})),errorText:this.state.noKeysWarning?o.a.createElement(d.FormattedHTMLMessage,{tagName:"p",className:"awsui-control-group-validation-message",id:"envVars.kmsNoKeys"}):null},o.a.createElement(c.Checkbox,{checked:this.state.showEncryptionHelpers,onChange:this.changeEnableHelpers.bind(this)})))),this.state.showEncryptionHelpers?o.a.createElement(m.a,{kmsEncryptionKey:this.state.kmsEncryptionKey,readonly:this.props.readonly,errorMessage:this.getKmsCallFailureMessage(),showWarningForNoKmsKeys:this.showWarningForNoKmsKeys.bind(this),changeKmsEncryptionKey:this.changeKmsEncryptionKey.bind(this)}):null,o.a.createElement(f.a,{nodeId:this.props.nodeId,context:this.props.context,readonly:this.props.readonly}));return o.a.createElement("div",{className:"env-var-container needs-old-form-field-override"},o.a.createElement("div",{className:"env-var-list"},o.a.createElement(O.a,{scope:"envVars"}),o.a.createElement(c.FormField,{label:t?"":this.getMessage(g.a.envVars),errorText:this.props.validation.get("message"),description:o.a.createElement(d.FormattedHTMLMessage,{id:"envVars.description.html"})},o.a.createElement("div",{className:this.props.readonly?"readonly":""},n.map((function(t,r){return o.a.createElement(h.a,{key:r,keyValue:t,onChange:function(t){return e.onKeyValueChange(r,t)},validationMessage:e.props.validation.get("".concat(r)),readonly:e.props.readonly},e.state.showEncryptionHelpers?o.a.createElement(v.b,{keyValue:t,onEncryptButtonPress:function(){return e.onEncryptButtonPress(t,r)},onDecryptButtonPress:function(){return e.onDecryptButtonPress(t,r)},readonly:e.props.readonly}):null,e.state.showEncryptionHelpers?o.a.createElement(v.c,{keyValue:t,readonly:e.props.readonly}):null,o.a.createElement(v.a,{allowDelete:r!==n.size-1,onDelete:function(){return e.onDeleteKeyValue(r)},readonly:e.props.readonly}))}))))),a)}}])&&R(r.prototype,a),i&&R(r,i),n}(o.a.Component);C(k,"propTypes",{context:a.a.string,nodeId:a.a.string,readonly:a.a.bool,envVars:l.a.list.isRequired,validation:l.a.map.isRequired,onDeleteKeyValue:a.a.func.isRequired,onKeyValueChange:a.a.func.isRequired}),C(k,"contextTypes",{intl:d.intlShape.isRequired}),t.b=Object(p.connect)((function(e,t){return{envVars:Object(y.c)(e,t.context,"envVars")||Object(s.List)(),validation:e.formFields.getIn(["validation",t.context,"envVars"])||Object(s.Map)()}}),(function(e,t){return{onDeleteKeyValue:function(n){return e(Object(b.b)("".concat(t.context,".envVars"),n,T.e.envVars))},onKeyValueChange:function(n,r){return e(Object(b.d)("".concat(t.context,".envVars"),n,r,T.e.envVars))}}}))(k)}).call(this,n(37))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(6),s=n(3),u=n(13),l=n(32),d=n(29),p=n(7),f=n(27),m=n(105),b=n(8),g=n(24),y=function(e){return{closeDecryptModal:function(){return e(Object(l.h)({query:{decryptModal:void 0,envVarKey:void 0}},{persistQuery:!0}))}}};function v(e,t){var n=e.location,r=e.runtime,a=e.closeDecryptModal,i=t.intl,s=i.formatMessage({id:"modal.decrypt.decryptTitle"}),u=r&&Object(f.o)(r,"decryptSnippet"),l=u?u.interpolate("key",n.query.envVarKey).interpolate("region",Object(p.H)()):"/* This runtime does not have a code sample currently. */",d=o.a.createElement(m.a,{id:"decryptSnippet",mode:Object(f.j)(r),value:l,readonly:!0}),b=o.a.createElement("span",{className:"awsui-util-f-r"},o.a.createElement(c.Button,{variant:"link",onClick:a,text:i.formatMessage({id:"close"})}));return o.a.createElement(c.Modal,{expandToFit:!0,header:s,size:"large",visible:!!n.query.decryptModal,onDismiss:a,content:d,footer:b})}v.propTypes={context:a.a.string,location:a.a.object.isRequired,runtime:a.a.string,closeDecryptModal:a.a.func.isRequired},v.contextTypes={intl:s.intlShape.isRequired},t.b=Object(u.connect)((function(e,t){return{location:Object(d.b)(e),runtime:e.formFields.getIn(["fields",t.context,"runtime"])}}),y)(v);var h=Object(u.connect)((function(e){var t=Object(d.b)(e),n=Object(b.bb)(e);return n&&1===n.size&&"function"===n.getIn([0,"type"])?{location:t,runtime:Object(g.b)(n.get(0),"runtime")}:{location:t}}),y)(v)},function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(6),s=n(3),u=n(13),l=n(4),d=n(84),p=n(69),f=n(14),m=n(62),b=n(11),g=n(9),y=n(7),v=n(5);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=["basic","existing","template"],w=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=S(this,j(t).call(this,e,n))).state={existingRoles:[],loading:!1,fetchRoleErrorMessage:null},r}var n,r,a,i,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._mounted=!0,this.fetchRoles()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.role===this.props.role||this.state.existingRoles.find((function(t){return t.value===e.role}))||this.fetchRoles()}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"fetchRoles",value:(i=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._mounted&&this.setState({loading:!0}),e.next=4,b.a.listRoles();case 4:if(t=e.sent,n=t.body,this._mounted){e.next=8;break}return e.abrupt("return");case 8:n.length?(this.setState({existingRoles:n.map((function(e){return{value:e,text:new y.d(e).roleId}})),loading:!1}),this.props.roleSelectionType||this.props.setField("roleSelectionType","existing")):(this.props.setField("roleSelectionType","template"),this.setState({loading:!1})),this.setState({fetchRoleErrorMessage:null}),e.next=18;break;case 12:if(e.prev=12,e.t0=e.catch(0),this._mounted){e.next=16;break}return e.abrupt("return");case 16:e.t0.message&&(this.state.fetchRoleErrorMessage=e.t0.message),this.setState({loading:!1});case 18:case"end":return e.stop()}}),e,this,[[0,12]])})),u=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=i.apply(e,t);function o(e){E(a,n,r,o,c,"next",e)}function c(e){E(a,n,r,o,c,"throw",e)}o(void 0)}))},function(){return u.apply(this,arguments)})},{key:"selectTemplate",value:function(e,t){var n=Object(l.Set)(e),r=Object(l.Set)(t);if(n.size!==r.size){var a=n.size>r.size,i=n.subtract(r).union(r.subtract(n)).first();Object(v.logEvent)(v.EVENT_NAMES.SELECT_ROLE_TEMPLATE(JSON.parse(i).id),a)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.context,r=t.readonly,a=t.roleSelectionType,i=t.nodeId,u=t.allowedRoleTemplates,l=this.state,f=l.existingRoles,b=l.fetchRoleErrorMessage,h=this.props.role&&new y.d(this.props.role).roleName,E=Object(d.b)(this.props.functionName||"<myFunctionName>",this.props.sessionId),O=g.n.filter((function(e){return!u||u.includes(e.id)})).map((function(t){return{value:JSON.stringify(t),text:e.context.intl.formatMessage({id:"roleTemplates.".concat(t.id)}),tags:t.services}})),S=null,j=_.filter((function(e){return!("basic"===e&&"create"!==n||"existing"===e&&!f)})).map((function(t){return{value:t,text:e.context.intl.formatMessage({id:"role.".concat(t,".text")})}}));r||(S=o.a.createElement(p.a,{nodeId:i,name:"roleSelectionType",type:"select",context:n,enum:!0,items:j,label:"create"===n?this.context.intl.formatMessage({id:"role.label"}):"",tooltip:o.a.createElement(s.FormattedHTMLMessage,{id:"role.tooltip"}),extraOnChange:function(e){return Object(v.logEvent)(v.EVENT_NAMES["ROLE_".concat(e.toUpperCase())])}}));var T=o.a.createElement(c.Alert,{key:"roleRestrictionAlert"},o.a.createElement(s.FormattedHTMLMessage,{id:"role.name.restriction.text"})),x=null;return b&&(x=o.a.createElement(c.Alert,{key:"roleListAlert",type:"error"},b)),o.a.createElement("div",{id:"role-selector",className:"needs-old-form-field-override","data-awsui-column-layout-root":"true"},S,{basic:[T,o.a.createElement(s.FormattedMessage,{key:"basicRoleName",id:"role.basic.blurb",values:{name:E}})],existing:[x,o.a.createElement(p.a,{nodeId:i,name:"role",key:"role",type:"select",context:n,enum:!0,searchable:!0,items:f,label:this.context.intl.formatMessage({id:m.a.existingRole}),tooltip:r?null:o.a.createElement(s.FormattedMessage,{id:"role.existing.tooltip"}),subtext:h&&o.a.createElement(s.FormattedHTMLMessage,{id:"role.existing.subtext",values:{roleName:h}}),readonly:r,loading:this.state.loading,secondaryControl:r?null:o.a.createElement(c.Button,{icon:"refresh",loading:this.state.loading,onClick:this.fetchRoles.bind(this)})})],template:[T,o.a.createElement(p.a,{nodeId:i,name:"roleName",key:"roleName",type:"text",context:n,label:this.context.intl.formatMessage({id:m.a.roleName}),tooltip:o.a.createElement(s.FormattedMessage,{id:"role.name.tooltip"}),subtext:this.context.intl.formatMessage({id:"role.name.subtext"}),placeholder:"myRoleName",readonly:r,required:"create"!==n}),o.a.createElement(p.a,{nodeId:i,name:"roleTemplates",key:"roleTemplates",type:"select",multi:!0,context:n,enum:!0,searchable:!0,items:O,label:this.context.intl.formatMessage({id:"role.template.label"}),tooltip:o.a.createElement(s.FormattedHTMLMessage,{id:"role.template.tooltip"}),infoText:o.a.createElement(s.FormattedHTMLMessage,{id:"role.template.helpContent"}),readonly:r,extraOnChange:this.selectTemplate.bind(this)})]}[a]||null)}}])&&O(n.prototype,r),a&&O(n,a),t}(o.a.Component);x(w,"propTypes",{context:a.a.string,nodeId:a.a.string,readonly:a.a.bool,allowedRoleTemplates:a.a.arrayOf(a.a.string),functionName:a.a.string,role:a.a.string,roleSelectionType:a.a.oneOf(_),sessionId:a.a.string,error:a.a.func.isRequired,setField:a.a.func.isRequired}),x(w,"contextTypes",{intl:s.intlShape.isRequired}),t.a=Object(u.connect)((function(e,t){var n=t.nodeId,r=t.context;return{allowedRoleTemplates:Object(p.c)({state:e,nodeId:n,context:r,field:"allowedRoleTemplates"}),functionName:Object(p.c)({state:e,nodeId:n,context:r,field:"name"}),role:Object(p.c)({state:e,nodeId:n,context:r,field:n?"role":"existingRole"}),roleSelectionType:Object(p.c)({state:e,nodeId:n,context:r,field:"roleSelectionType"}),sessionId:Object(p.c)({state:e,nodeId:n,context:r,field:"sessionId"})}}),(function(e,t){var n=t.nodeId,r=t.context;return{error:function(t){return e(Object(f.d)({message:t}))},setField:function(t,a){return e(Object(p.d)({nodeId:n,context:r,field:t,value:a}))}}}))(w)},function(e,t,n){"use strict";n.d(t,"a",(function(){return G})),n.d(t,"b",(function(){return B}));var r=n(2),a=n(72),i=n.n(a),o=n(4),c=n(11),s=n(70),u=n(34),l=n(5),d=n(26),p=n(82),f=n(10),m=n(80),b=n(7),g=n(9),y=n(27),v=n(98),h=n(91),E=n(50),O=n(21),S=n(8);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=regeneratorRuntime.mark(D),w=regeneratorRuntime.mark(M),R=regeneratorRuntime.mark(L),A=regeneratorRuntime.mark(F),I=regeneratorRuntime.mark(q),N=regeneratorRuntime.mark(U),C=regeneratorRuntime.mark(G),k=regeneratorRuntime.mark(B);function P(e,t){var n=e.filter((function(e,n){return!i()(e,t.get(n))}));Object(s.a)(n.toJS(),!0)}function D(e){var t,n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(r.call)(c.a.updateFunctionConfiguration,e);case 3:return t=a.sent,n=t.body,a.abrupt("return",{responseBody:n});case 8:return a.prev=8,a.t0=a.catch(0),a.abrupt("return",{error:a.t0});case 11:case"end":return a.stop()}}),_,null,[[0,8]])}function M(e){var t,n,a,i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(r.call)(c.a.updateFunctionCode,e);case 3:return t=o.sent,n=t.body,o.next=7,Object(r.call)(c.a.getFunctionCode,{functionName:e.functionName,qualifier:e.qualifier||"$LATEST"});case 7:return a=o.sent,o.next=10,Object(r.call)(v.e,a.body.encodedZip,!0);case 10:return i=o.sent,o.abrupt("return",{responseBody:n,codeUrl:a.body.codeUrl,newUnzippedPackage:i});case 14:return o.prev=14,o.t0=o.catch(0),o.abrupt("return",{error:o.t0});case 17:case"end":return o.stop()}}),w,null,[[0,14]])}function L(e,t,n){var a,i,o,s;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(l.logEvent(l.EVENT_NAMES.TAG_FD_SAVE),a=e.filter((function(e){var n=t.find((function(t){return t.key===e.key}));return!n||n.value!==e.value})),i=t.filter((function(t){return!e.find((function(e){return t.key===e.key}))})),u.prev=3,o=b.e.fromFunctionName(n),s=o.arn,!(i.length>0)){u.next=8;break}return u.next=8,Object(r.call)(c.a.deleteTags,{resource:s,tagKeys:i.map((function(e){return e.key}))});case 8:if(!(a.length>0)){u.next=11;break}return u.next=11,Object(r.call)(c.a.addTags,{resource:s,tags:a.reduce((function(e,t){return T({},e,x({},t.key,t.value))}),{})});case 11:u.next=17;break;case 13:return u.prev=13,u.t0=u.catch(3),l.logEvent(l.EVENT_NAMES.TAG_FD_SAVE,!1),u.abrupt("return",{error:u.t0});case 17:return l.logEvent(l.EVENT_NAMES.TAG_FD_SAVE,!0),u.abrupt("return",{});case 19:case"end":return u.stop()}}),R,null,[[3,13]])}function F(e){var t,n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.functionName,n=e.concurrency,a.prev=1,e.concurrencyPoolType!==p.a.RESERVED){a.next=7;break}return a.next=5,Object(r.call)(c.a.putFunctionConcurrency,{functionName:t,reservedConcurrentExecutions:n});case 5:a.next=9;break;case 7:return a.next=9,Object(r.call)(c.a.deleteFunctionConcurrency,{functionName:t});case 9:return a.next=11,Object(r.put)(Object(m.b)());case 11:return a.abrupt("return",{request:e});case 14:return a.prev=14,a.t0=a.catch(1),a.abrupt("return",{error:a.t0});case 17:case"end":return a.stop()}}),A,null,[[1,14]])}function q(e){var t,n,a,i,o,s,u;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.name,n=e.description,a=e.functionName,i=e.version,o=e.additionalVersionWeights,l.prev=1,l.next=4,Object(r.call)(c.a.updateAlias,{name:t,description:n,functionName:a,functionVersion:i,routingConfig:{additionalVersionWeights:o}});case 4:return s=l.sent,u=s.body,l.abrupt("return",{responseBody:u});case 9:return l.prev=9,l.t0=l.catch(1),l.abrupt("return",{error:l.t0});case 12:case"end":return l.stop()}}),I,null,[[1,9]])}function V(e,t,n,r){if(t!==u.a.SAVED)return e;var a=Object(o.Map)(n.map((function(e,t){return[e,r[t]]}))),i=e,c=a.get(u.b.CODE);c&&(i=i.set("codeUrl",c.codeUrl).set("codeSha256",c.responseBody.CodeSha256).set("codeSize",c.responseBody.CodeSize).set("unzippedPackage",c.newUnzippedPackage).remove("s3").remove("upload").remove("cloud9RawZip"));var s=a.get(u.b.CONFIG);(s&&(i=i.set("needsTracerPermissions",!1),"existing"!==e.get("roleSelectionType")&&(i=i.set("roleSelectionType","existing").set("role",s.responseBody.role).delete("roleName"))),c)&&(Object(y.x)(s?s.responseBody.runtime:c.responseBody.Runtime,c.responseBody.CodeSize)&&(i=i.set("codeSource","inline")));var l=a.get(u.b.CONCURRENCY);if(l){var d=l.request,f=d.concurrencyPoolType,m=d.concurrency;i=i.set("reservedConcurrentExecutions",f===p.a.UNRESERVED?null:m)}return i}function U(e,t){var n,a,c,l,p,m,b,y,v,j,T,x,_,w,R,A,I,C,k,U,G,B,z,H,W;return regeneratorRuntime.wrap((function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,Object(r.put)(Object(E.a)());case 2:if(n=[],a=["recommendationEngine"],c=[],l=!1,P(e.get("data"),t.get("data")),!e.getIn(["data","alias"])){N.next=25;break}return N.next=10,Object(r.call)(s.f,e);case 10:return p=N.sent,N.next=13,Object(r.call)(s.f,t);case 13:if(m=N.sent,i()(p,m)){N.next=23;break}return a=a.concat(["functionQualifiersSource","provisionedConcurrencyConfigsSource","provisionedConcurrencyConfigsParser"]),N.t0=c,N.next=19,Object(r.call)(q,p);case 19:N.t1=N.sent,N.t0.push.call(N.t0,N.t1),l=!0,n.push(u.b.ALIAS);case 23:N.next=81;break;case 25:return N.next=27,Object(r.call)(s.i,e);case 27:return b=N.sent,N.next=30,Object(r.call)(s.i,t);case 30:return y=N.sent,N.next=33,Object(r.call)(s.g,e);case 33:return v=N.sent,N.next=36,Object(r.call)(s.g,t);case 36:return j=N.sent,N.next=39,Object(r.call)(s.e,e);case 39:return T=N.sent,N.next=42,Object(r.call)(s.e,t);case 42:return x=N.sent,N.next=45,Object(r.call)(s.h,e);case 45:return _=N.sent,N.next=48,Object(r.call)(s.h,t);case 48:if(w=N.sent,i()(Object(s.b)(v),Object(s.b)(j))){N.next=57;break}return N.t2=c,N.next=53,Object(r.call)(M,v);case 53:N.t3=N.sent,N.t2.push.call(N.t2,N.t3),l=!0,n.push(u.b.CODE);case 57:if(i()(b,y)){N.next=65;break}return N.t4=c,N.next=61,Object(r.call)(D,b);case 61:N.t5=N.sent,N.t4.push.call(N.t4,N.t5),l=!0,n.push(u.b.CONFIG);case 65:if(!g.f.includes("teletubby")||i()(T,x)){N.next=73;break}return N.t6=c,N.next=69,Object(r.call)(L,T,x,e.get("data").get("name"));case 69:N.t7=N.sent,N.t6.push.call(N.t6,N.t7),l=!0,n.push(u.b.TAGS);case 73:if(i()(_,w)){N.next=81;break}return N.t8=c,N.next=77,Object(r.call)(F,_);case 77:N.t9=N.sent,N.t8.push.call(N.t8,N.t9),l=!0,n.push(u.b.CONCURRENCY);case 81:if(!l){N.next=87;break}return N.next=84,Object(r.call)(d.j);case 84:return R=N.sent,N.next=87,Object(r.put)(Object(f.X)(e.get("id"),e.get("states").push(R)));case 87:A=0===c.length?u.a.NO_CHANGE:u.a.SAVED,I=[d.a.SAVE_ERROR,d.a.SAVING,d.a.SAVED,d.a.NEEDS_SAVE],C=e.get("states").filter((function(e){return!I.includes(e.get("type"))})),k=!1,U=0;case 92:if(!(U<c.length)){N.next=106;break}if(!(G=c[U]).error){N.next=102;break}return A=u.a.FAILED,N.next=98,Object(r.call)(d.h,G.error.message);case 98:B=N.sent,C=C.push(B),N.next=103;break;case 102:n[U]===u.b.CONFIG&&G.responseBody.lastUpdateStatus===O.j.INPROGRESS&&(k=!0);case 103:U++,N.next=92;break;case 106:if(A!==u.a.SAVED){N.next=121;break}if(!k){N.next=111;break}a=a.concat(["functionSource","showFunctionDetailsFlashbar"]),N.next=119;break;case 111:return N.next=113,Object(r.select)(S.w);case 113:return z=N.sent,H=Object(h.c)(o.Set.of(O.i.UPDATE_SUCCESS),z),N.next=117,Object(r.all)(H);case 117:return N.next=119,Object(r.put)(Object(E.d)());case 119:N.next=127;break;case 121:if(A!==u.a.FAILED){N.next=127;break}return N.t10=C,N.next=125,Object(r.call)(d.e);case 125:N.t11=N.sent,C=N.t10.push.call(N.t10,N.t11);case 127:return W=V(e.get("data"),A,n,c),t.getIn(["data","role"])!==W.get("role")&&(a=a.concat(["functionSource","executionRoleSource","executionRoleParser"])),N.abrupt("return",{status:A,whatSaved:n,node:e.set("data",W).set("states",C),invalidateTasks:a});case 130:case"end":return N.stop()}}),N)}function G(e,t){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(r.call)(U,e,t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),C)}function B(e,t){var n,a,o,c,l,p,m,b,g,y,v,h,E,O,S;return regeneratorRuntime.wrap((function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,Object(r.call)(s.g,e);case 2:return n=j.sent,j.next=5,Object(r.call)(s.g,t);case 5:if(a=j.sent,!i()(Object(s.b)(n),Object(s.b)(a))){j.next=8;break}return j.abrupt("return",{status:u.a.NO_CHANGE});case 8:return j.next=10,Object(r.call)(d.j);case 10:return o=j.sent,j.next=13,Object(r.put)(Object(f.X)(e.get("id"),e.get("states").push(o)));case 13:return j.next=15,Object(r.call)(M,n);case 15:if(c=j.sent,l=u.a.SAVED,p=[d.a.SAVE_ERROR,d.a.SAVING,d.a.SAVED,d.a.NEEDS_SAVE],m=e.get("states").filter((function(e){return!p.includes(e.get("type"))})),!c.error){j.next=25;break}return l=u.a.FAILED,j.next=23,Object(r.call)(d.h,c.error.message);case 23:b=j.sent,m=m.push(b);case 25:if(g=V(e.get("data"),l,[u.b.CODE],[c]),y=e.set("data",g),v=V(t.get("data"),l,[u.b.CODE],[c]),h=t.set("data",v),E=Object(s.c)(y,h),l!==u.a.SAVED||E){j.next=38;break}return j.t0=m,j.next=34,Object(r.call)(d.i);case 34:j.t1=j.sent,m=j.t0.push.call(j.t0,j.t1),j.next=44;break;case 38:if(l!==u.a.FAILED&&!E){j.next=44;break}return j.t2=m,j.next=42,Object(r.call)(d.e);case 42:j.t3=j.sent,m=j.t2.push.call(j.t2,j.t3);case 44:return j.next=46,Object(r.call)(Date.now);case 46:return S=j.sent,O=l===u.a.FAILED?{saveSuccess:!1,saveErrorMessage:c.error.message,saveTime:S}:{saveSuccess:!0,saveErrorMessage:null,codeSha256:c.responseBody.CodeSha256,saveTime:S},j.abrupt("return",{status:l,node:y.set("states",m),newSavedNode:h,saveCodeResults:O});case 49:case"end":return j.stop()}}),k)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(4),a=n(8),i=n(27),o="Update Runtime",c={args:function(e){return{designerState:Object(a.u)(e)}},run:function(e){var t=e.designerState,n=t.getIn(["graphCurrentlySaved","nodes"]).find((function(e){return"function"===e.get("type")})).getIn(["data","runtime"]),a=t.getIn(["graphToEdit","nodes"]).find((function(e){return"function"===e.get("type")})).getIn(["data","runtime"]);if(n===a||Object(i.u)(a))return null;if(!i.d.includes(a)){var c=Object(i.g)(a),s=i.d.find((function(e){return e.includes(c)}));if(s)return Object(r.fromJS)({id:o,result:Object(i.r)(s)})}return null}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(4),a=n(8),i=n(27),o="Runtime Deprecated",c={args:function(e){return{runtime:Object(a.x)(e)}},run:function(e){var t=e.runtime;return Object(i.u)(t)&&!Object(i.z)(t)?Object(r.fromJS)({id:o}):null}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(4),a=n(8),i="S3 Bucket Recursion",o={args:function(e){return{nodes:Object(a.z)(e).get("nodes")}},run:function(e){var t=e.nodes,n=Object(r.fromJS)({id:i}),a=t.filter((function(e){return"trigger"===e.get("type")&&"S3"===e.get("name")})),o=t.find((function(e){return"resource"===e.get("type")&&"Amazon S3"===e.get("name")}));if(!o)return null;var c=o.getIn(["data","statements"]),s=!1;return a.forEach((function(e){return function(e,t){var n=e.getIn(["data","originalTrigger"]),r=n.get("source"),a=n.getIn(["data","eventType"]);if(n.getIn(["data","prefix"])||n.getIn(["data","suffix"]))return!1;return t.some((function(e){var t,n,i=e.get("resource"),o="Allow"===e.get("effect"),c=e.get("action");return n=r,!(t=i).includes("*")&&!n.includes("*")&&t.split("/")[0]===n.split("/")[0]&&function(e,t,n){var r=function(t){return"string"==typeof e?e.includes(t):e.some((function(e){return e.includes(t)}))};if(n)switch(t){case"s3:PutObject":return r("ObjectCreated");case"s3:DeleteObject":case"s3:DeleteObjectVersion":return r("ObjectRemoved");case"s3:RestoreObject":return r("ObjectRestore");default:return!1}return!1}(a,c,o)}))}(e,c)?s=!0:null})),s?n:null}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(2),a=n(190),i=n(8),o=n(11),c=n(48),s=regeneratorRuntime.mark(l),u=regeneratorRuntime.mark(d);function l(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c.e)().run();case 3:return e=t.sent,t.next=6,Object(r.put)(a.a.loadFunctionsDone(null,e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(r.put)(a.a.loadFunctionsDone(t.t0.message));case 12:case"end":return t.stop()}}),s,null,[[0,8]])}function d(e){var t,n,a,c;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(r.select)(i.x);case 2:return t=s.sent,s.next=5,Object(r.select)(i.w);case 5:if(n=s.sent,!t||n!==e){s.next=8;break}return s.abrupt("return",t);case 8:return s.next=10,Object(r.call)(o.a.getFunctionConfiguration,{functionName:e});case 10:return a=s.sent,c=a.body.runtime,s.abrupt("return",c);case 13:case"end":return s.stop()}}),u)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l}));var r=n(88);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=function(e){var t,n,r,a=e.name,i=e.description,o=e.lastUpdatedTime,c=e.status;return{stackName:a,description:null!==(t=i)&&void 0!==t?t:"",lastUpdatedTime:null!==(n=o)&&void 0!==n?n:(new Date).toISOString(),stackStatus:null!==(r=c)&&void 0!==r?r:"CREATE_IN_PROGRESS"}},o=r.a.MIN_LENGTH_APP_NAME,c=r.a.MAX_LENGTH_APP_NAME,s=r.a.PATTERN_NAME,u=new RegExp("serverlessrepo-([\\w-]{".concat(o,",").concat(c,"})-toolchain")),l=function(e){var t={},n=e.filter((function(e){var n,r,o,c,l,d,p,f,m=(c=(n=e).creationTime,l=n.lastUpdatedTime,d=n.stackName,p=n.tags,(f=a(null!==(r=u.exec(d))&&void 0!==r?r:[],2)[1])&&s.test(f)&&p.find((function(e){var t=e.key,n=e.value;return"serverlessrepo:applicationId"===t&&(null==n?void 0:n.endsWith(":applications/CICD-toolchain-for-serverless-applications"))}))?i({name:f,lastUpdatedTime:null!==(o=l)&&void 0!==o?o:c}):null);return!m||(t[m.stackName]=m,!1)})).filter((function(e){var n=e.stackName;return!t[n]||(t[n]=e,!1)}));return[Object.values(t),n]}},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return g}));var r=n(32),a=n(2),i=n(157),o=n(7),c=n(9),s=regeneratorRuntime.mark(b),u=regeneratorRuntime.mark(g),l=Object(o.L)()?"#/functions":"#/begin";e.document.location.hash||(e.document.location.hash=l);var d={"/":{id:"rootRedirect"},"/add":{"/relation":{id:"addRelation",sidebarActiveHref:"#/functions",contentType:"form"}},"/discover":{id:"discover"},"/create":{id:"createFunctionRedirect",persistQuery:!0,"/function":{id:"createFunction",sidebarActiveHref:"#/functions","/configure/blueprint":{id:"configureBlueprint",contentType:"form"}},"/new":{id:"createNewRedirect",persistQuery:!0},"/select-blueprint":{id:"oldCreateRedirect"},"/*":{id:"createRedirect",persistQuery:!0}},"/applications":{id:"listApplications",contentType:"table","/:applicationName":{id:"viewApplication"}},"/functions":{id:"listFunctions",contentType:"table","/:functionName":{id:"functionDesigner","/aliases/:alias":{"/create/:editPage":{contentType:"form"},"/edit/:editPage":{contentType:"form"}},"/edit/:editPage":{contentType:"form"},"/create/:editPage":{contentType:"form"},"/versions/:version":{"/create/:editPage":{contentType:"form"},"/edit/:editPage":{contentType:"form"}},"/:qualifier":{}}},"/begin":{id:"begin",noGutters:!0},"/home":{id:"oldHomeRedirect"}};c.f.includes("serverless-registry")&&(d["/create"]["/app"]={id:"configureApplication"},d["/status"]={id:"status"}),c.f.includes("huesillo")&&(d["/create"]["/application"]={id:"createApplicationDiscover",sidebarActiveHref:"#/applications"},d["/create"]["/application/view"]={id:"createApplicationView",sidebarActiveHref:"#/applications"},d["/create"]["/application/configure"]={id:"createApplicationConfigure",sidebarActiveHref:"#/applications",contentType:"wizard"}),c.f.includes("layette")&&(d["/add"]["/layer"]={id:"addLayer",sidebarActiveHref:"#/layers",contentType:"form"},d["/connect"]={"/layer":{id:"oldConnectRedirect",persistQuery:!0}},d["/create"]["/layer"]={id:"createLayer",sidebarActiveHref:"#/layers",contentType:"form"},d["/layers"]={id:"listLayers","/:layerName/create/version":{id:"createLayerVersion",contentType:"form"},"/:layerName/versions/:version":{id:"viewLayer"}}),c.f.includes("dittograph")&&(d["/add"]["/database-proxy"]={id:"addDatabaseProxy",contentType:"form"}),c.f.includes("cba")&&(d["/applications"]["/:applicationName"]["/deployment/:deploymentId"]={id:"deploymentDetail",persistQuery:!1,sidebarActiveHref:"#/applications"}),t.a=d;var p={rootRedirect:"/discover",createFunctionRedirect:"/create/function",createNewRedirect:"/create/function/configure/blueprint",createRedirect:"/create/new",oldConnectRedirect:"/add/layer",oldCreateRedirect:"/create/function",oldHomeRedirect:"/begin",redirect:"/begin"},f=function e(t){return t&&(t.id||e(t.parent))||"redirect"},m=function(e){var t=e.pathname,n=e.result;return{pathname:t,id:f(n),persistQuery:n&&n.persistQuery}};function b(e,t){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,i=t.persistQuery,e.next=3,Object(a.put)(Object(r.i)(p[n],{persistQuery:i}));case 3:case"end":return e.stop()}}),s)}function g(e){var t,n,r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.next=3,Object(a.select)((function(e){return e.pages.currentPage}));case 3:if(n=o.sent,(r=m(t)).pathname===n.pathname){o.next=10;break}return o.next=8,Object(a.put)(i.a.init(r));case 8:return o.next=10,Object(a.fork)(i.b[r.id]||b,t,r,n);case 10:case"end":return o.stop()}}),u)}}).call(this,n(37))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(13),s=n(32),u=n(6),l=n(3),d=n(36);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){var n=t.intl;return a.a.createElement(u.FormField,{label:a.a.createElement(l.FormattedMessage,{id:"group.form.label"}),description:a.a.createElement(l.FormattedMessage,{id:"group.form.description"}),secondaryControl:a.a.createElement(u.Button,{text:a.a.createElement(l.FormattedMessage,{id:"remove"}),disabled:!e.value,onClick:function(){return e.changeGroup(null)}})},a.a.createElement(u.Autosuggest,p({},e,{onInput:function(t){var n=t.detail;return e.changeGroup(n.value)},empty:a.a.createElement(l.FormattedMessage,{id:"group.form.autosuggest.empty",values:{suggestion:e.value}}),placeholder:n.formatMessage({id:"group.form.autosuggest.placeholder"})})))}f.propTypes={value:o.a.string,options:o.a.array.isRequired,changeGroup:o.a.func.isRequired},f.contextTypes={intl:l.intlShape.isRequired};var m=n(10),b=n(8),g=n(29),y=n(90);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return R}));var j,T,x,_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=E(this,O(t).call(this,e))).state={selectedGroup:null},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.currentGroup;this.setState({selectedGroup:t})}},{key:"onClose",value:function(){this.setState({selectedGroup:null}),this.props.closeModal()}},{key:"onSave",value:function(){this.props.saveGroup(this.state.selectedGroup,this.props.functionName)}},{key:"changeGroup",value:function(e){var t=e||null;this.setState({selectedGroup:t})}},{key:"render",value:function(){var e=!!this.props.loading||this.state.selectedGroup===this.props.currentGroup,t=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(u.Button,{variant:"link",text:a.a.createElement(l.FormattedMessage,{id:"cancel"}),onClick:this.onClose.bind(this)}),a.a.createElement(u.Button,{variant:"primary",text:a.a.createElement(l.FormattedMessage,{id:"save"}),onClick:this.onSave.bind(this),disabled:e}));return a.a.createElement(u.Modal,{header:a.a.createElement(l.FormattedMessage,{id:"group.modal.header"}),expandToFit:!0,footer:t,visible:this.props.visible,onDismiss:this.onClose.bind(this)},a.a.createElement(d.a,{scope:"function-group"}),a.a.createElement(f,{value:this.state.selectedGroup,options:this.props.groups,changeGroup:this.changeGroup.bind(this)}))}}])&&h(n.prototype,r),i&&h(n,i),t}(a.a.Component);j=_,T="propTypes",x={functionName:o.a.string.isRequired,loading:o.a.bool,groups:o.a.array.isRequired,currentGroup:o.a.string,visible:o.a.bool.isRequired,closeModal:o.a.func.isRequired,saveGroup:o.a.func.isRequired},T in j?Object.defineProperty(j,T,{value:x,enumerable:!0,configurable:!0,writable:!0}):j[T]=x;var w=Object(c.connect)((function(e){return{functionName:Object(y.g)(e),groups:Object(y.d)(e).toArray().map((function(e){return{value:e}})),currentGroup:Object(y.e)(e),visible:!!Object(g.b)(e).query.groupModal}}),(function(e){return{closeModal:function(){return e(Object(s.h)({query:{groupModal:void 0}},{persistQuery:!0}))},saveGroup:function(t,n){return e(Object(y.a)(t,n))}}}))(_),R=Object(c.connect)((function(e){return{visible:Object(b.F)(e,"group"),loading:Object(b.E)(e,"group"),groups:Object(b.v)(e),currentGroup:Object(b.f)(e)}}),(function(e){return{closeModal:function(){return e(Object(m.J)("group",!1))},saveGroup:function(t,n){return e(Object(m.p)(n,t))}}}))(_)},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return D})),n.d(t,"c",(function(){return L}));var r=n(239),a=n(2),i=n(473),o=n.n(i),c=n(233),s=n.n(c),u=n(4),l=n(161),d=n(189),p=n(321),f=n(45),m=n(14),b=n(106),g=n(84),y=n(160),v=n(159),h=n(10),E=n(60),O=n(8),S=n(11),j=n(9),T=n(98),x=n(5);function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var w=regeneratorRuntime.mark(k),R=regeneratorRuntime.mark(P),A=regeneratorRuntime.mark(D),I=regeneratorRuntime.mark(L),N="template.yaml";function C(e,t){var n=Object(u.fromJS)(t).map((function(e){var t=e.get("messages"),n=e.get("eventResources").flatMap((function(e){return e.get("messages")}));return t.concat(n)}));return Object(u.Map)(Object(u.List)(e).zip(n)).filter((function(e){return!e.isEmpty()}))}function k(e){var t,n,r,i,o,c,s,l,d;return regeneratorRuntime.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(!e){f.next=3;break}return f.next=3,Object(a.call)(v.b,e);case 3:return f.next=5,Object(a.select)(b.d);case 5:if(t=f.sent,e&&(t.functionName=e),"template"!==t.roleData.roleSelectionType){f.next=14;break}return f.next=10,Object(a.call)(S.a.getEzcrcPolicyTemplate,{roleTemplates:t.roleData.roleTemplates});case 10:r=f.sent.body,i=r.policyTemplate,o=r.managedPolicies,n=(o||[]).concat(i?[i]:[]);case 14:return c=[],s=Object(u.Map)(),f.next=18,Object(a.select)(b.f);case 18:if(!(l=f.sent)||!l.get("id")){f.next=27;break}return f.next=22,Object(a.call)(p.a,[l.toJS()]);case 22:return d=f.sent,f.next=25,Object(a.call)(C,[l.get("id")],d);case 25:s=f.sent,c=d[0].eventResources;case 27:return f.abrupt("return",{lambda:t,events:c,downloadMessages:s,policies:n});case 28:case"end":return f.stop()}}),w)}function P(e){var t,n,i,o,c,u,p,b,g;return regeneratorRuntime.wrap((function(y){for(;;)switch(y.prev=y.next){case 0:return t=e.blueprintName,y.next=3,Object(a.put)(Object(m.g)(l.c));case 3:return y.next=5,Object(a.put)(Object(f.d)(!0));case 5:return y.next=7,Object(a.put)(Object(f.c)({}));case 7:return y.prev=7,y.next=10,Object(a.call)(k,t);case 10:return n=y.sent,i=n.lambda,o=n.events,c=n.downloadMessages,u=n.policies,y.next=17,Object(a.put)(Object(f.c)(c));case 17:return p=Object(d.b)(i,o,u),b=s.a.dump(p),y.next=21,Object(a.call)(T.b,b,i.rawZip,!0,N);case 21:return g=y.sent,y.next=24,Object(a.call)(r.saveAs,g,"".concat(i.functionName,".zip"));case 24:Object(x.logEvent)(x.EVENT_NAMES.EXPORT_C_BP,!0),y.next=32;break;case 27:return y.prev=27,y.t0=y.catch(7),y.next=31,Object(a.put)(Object(m.d)({message:y.t0.message,scope:l.c}));case 31:Object(x.logEvent)(x.EVENT_NAMES.EXPORT_C_BP,!1);case 32:return y.prev=32,y.next=35,Object(a.put)(Object(f.d)(!1));case 35:return Object(x.logEvent)(x.EVENT_NAMES.EXPORT_C_BP),y.finish(32);case 37:case"end":return y.stop()}}),R,null,[[7,27,32,37]])}function D(){var e,t,n,r,i,c,s,u,d;return regeneratorRuntime.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Object(a.put)(Object(h.K)("export",!0));case 2:return p.prev=2,p.next=5,Object(a.select)(O.W);case 5:if(e=p.sent,t=e.getIn(["data","codeUrl"]),n=o.a.parse(t,!0),r=e.getIn(["data","codeFetchDate"]),i=parseInt(n.query["X-Amz-Expires"],10),r+=1e3*i,!(isNaN(r)||Date.now()>=r)){p.next=23;break}return p.next=14,Object(a.select)(O.w);case 14:return c=p.sent,p.next=17,Object(a.select)(O.S);case 17:return s=p.sent,p.next=20,Object(a.call)(S.a.getFunctionCode,{functionName:c,qualifier:s||"$LATEST"});case 20:u=p.sent,d=u.body.codeUrl,t=d;case 23:return p.next=25,Object(a.call)(y.a,{url:t});case 25:Object(x.logEvent)(x.EVENT_NAMES.EXPORT_FD_PACKAGE,!0),p.next=33;break;case 28:return p.prev=28,p.t0=p.catch(2),p.next=32,Object(a.put)(Object(m.d)({message:p.t0.message,scope:l.c}));case 32:Object(x.logEvent)(x.EVENT_NAMES.EXPORT_FD_PACKAGE,!1);case 33:return p.prev=33,p.next=36,Object(a.put)(Object(h.K)("export",!1));case 36:return Object(x.logEvent)(x.EVENT_NAMES.EXPORT_FD_PACKAGE),p.finish(33);case 38:case"end":return p.stop()}}),A,null,[[2,28,33,38]])}function M(e,t){var n=e.get("data").toJS();return n.functionName=n.name,n.roleSelectionType="existing",n.roleData=Object(g.c)(n),j.f.includes("teletubby")&&(n.tags=n.tags.userTags),n.envVars&&(n.envVars=Object(u.Map)(n.envVars.map((function(e){return[e.key,e.value]}))).toJS()),{lambda:n,triggers:t.filterNot((function(e){return e.get("states").find((function(e){return e.get("type")===E.b.NOT_CONFIGURED||e.get("type")===E.b.NEEDS_SAVE}))})).map((function(e){return e.get("data")})).map((function(e){return e.get("originalTrigger").set("id",e.get("id"))})).toJS()}}function L(){var t,n,i,o,c,u,f,b,g,y,v,E;return regeneratorRuntime.wrap((function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,Object(a.put)(Object(h.K)("export",!0));case 2:return S.prev=2,S.next=5,Object(a.select)(O.W);case 5:return n=S.sent,i=n.getIn(["data","name"]),S.next=9,Object(a.select)(O.z);case 9:return S.t0=function(e){return"trigger"===e.get("type")},o=S.sent.get("nodes").filter(S.t0),S.next=13,Object(a.call)(M,n,o);case 13:return c=S.sent,u=c.lambda,f=c.triggers,S.next=18,Object(a.call)(p.a,f);case 18:return b=S.sent,g=(t=[]).concat.apply(t,_(b.map((function(e){return e.eventResources})))),S.next=22,Object(a.call)(d.b,u,g);case 22:return y=S.sent,S.next=25,Object(a.call)(s.a.dump,y);case 25:return v=S.sent,E=new e.Blob([v],{type:"text/x-yaml;charset=utf-8"}),S.next=29,Object(a.call)(r.saveAs,E,"".concat(i,".yaml"));case 29:Object(x.logEvent)(x.EVENT_NAMES.EXPORT_FD_SAM,!0),S.next=37;break;case 32:return S.prev=32,S.t1=S.catch(2),S.next=36,Object(a.put)(Object(m.d)({message:S.t1.message,scope:l.c}));case 36:Object(x.logEvent)(x.EVENT_NAMES.EXPORT_FD_SAM,!1);case 37:return S.prev=37,S.next=40,Object(a.put)(Object(h.K)("export",!1));case 40:return Object(x.logEvent)(x.EVENT_NAMES.EXPORT_FD_SAM),S.finish(37);case 42:case"end":return S.stop()}}),I,null,[[2,32,37,42]])}}).call(this,n(37))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(6),s=n(238),u=n.n(s),l=n(3);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g,y,v,h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=f(this,m(t).call(this,e))).isClipboardSupported=u.a.isSupported(),n.state={copied:!1},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.isClipboardSupported&&(this.clipboard=new u.a(this.target))}},{key:"componentWillUnmount",value:function(){var e;null===(e=this.clipboard)||void 0===e||e.destroy()}},{key:"onClick",value:function(){var e,t=this;this.state.copied||(null===(e=this.clipboard)||void 0===e||e.onClick({currentTarget:this.target}),this.setState({copied:!0}),setTimeout((function(){return t.setState({copied:!1})}),3e3))}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.text;return this.isClipboardSupported?a.a.createElement("span",null,a.a.createElement("span",null,r||n),this.state.copied&&a.a.createElement(c.Badge,{className:"awsui-util-ml-xs",color:"green"},a.a.createElement(l.FormattedMessage,{id:"copied"})),a.a.createElement("span",{ref:function(t){return e.target=t},"data-clipboard-text":n},a.a.createElement(c.Button,{variant:"icon",icon:"copy",onClick:this.onClick.bind(this)}))):a.a.createElement("span",null,n)}}])&&p(n.prototype,r),i&&p(n,i),t}(a.a.Component);g=h,y="propTypes",v={value:o.a.string.isRequired,text:o.a.node},y in g?Object.defineProperty(g,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[y]=v},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dispatcher=t.IframeTaskExecutor=t.debounce=t.generateQueryString=t.validate=t.isFunction=t.isObject=void 0;var r=n(952);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var a=o(n(953)),i=o(n(955));function o(e){return e&&e.__esModule?e:{default:e}}var c=t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)};t.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},t.validate=function(e,t){if(!e)throw new Error(t)},t.generateQueryString=function(e){return c(e)?Object.keys(e).reduce((function(t,n){if(void 0!==e[n]){var r=encodeURIComponent(n),a=c(e[n])?JSON.stringify(e[n]):e[n],i=encodeURIComponent(a);t.push(r+"="+i)}return t}),[]).join("&"):""},t.debounce=function(e,t,n){var r=void 0;return function(){var a=this,i=arguments,o=function(){r=null,n||e.apply(a,i)},c=n&&!r;clearTimeout(r),r=setTimeout(o,t),c&&e.apply(a,i)}};t.IframeTaskExecutor=i.default,t.Dispatcher=a.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return p}));var r=n(0),a=n.n(r),i=n(6),o=n(1),c=n.n(o),s={CREATE_COMPLETE:"CREATE_COMPLETE",CREATE_IN_PROGRESS:"CREATE_IN_PROGRESS",CREATE_FAILED:"CREATE_FAILED",DELETE_COMPLETE:"DELETE_COMPLETE",DELETE_FAILED:"DELETE_FAILED",DELETE_IN_PROGRESS:"DELETE_IN_PROGRESS",REVIEW_IN_PROGRESS:"REVIEW_IN_PROGRESS",ROLLBACK_COMPLETE:"ROLLBACK_COMPLETE",ROLLBACK_FAILED:"ROLLBACK_FAILED",ROLLBACK_IN_PROGRESS:"ROLLBACK_IN_PROGRESS",UPDATE_COMPLETE:"UPDATE_COMPLETE",UPDATE_COMPLETE_CLEANUP_IN_PROGRESS:"UPDATE_COMPLETE_CLEANUP_IN_PROGRESS",UPDATE_IN_PROGRESS:"UPDATE_IN_PROGRESS",UPDATE_ROLLBACK_COMPLETE:"UPDATE_ROLLBACK_COMPLETE",UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS:"UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS",UPDATE_ROLLBACK_FAILED:"UPDATE_ROLLBACK_FAILED",UPDATE_ROLLBACK_IN_PROGRESS:"UPDATE_ROLLBACK_IN_PROGRESS"},u={CREATE_COMPLETE:"positive",DELETE_COMPLETE:"inactive",ROLLBACK_COMPLETE:"negative",UPDATE_COMPLETE:"positive",_IN_PROGRESS:"inactive",DELETE_FAILED:"negative"};function l(e){return u[e]||u[Object.keys(u).find((function(t){return e.includes(t)}))]}function d(e){return"awsui-util-status-".concat(l(e))}function p(e){var t=e.status;return a.a.createElement("span",{className:d(t)},function(e){if(e.includes("_IN_PROGRESS"))return a.a.createElement(i.Spinner,null);var t=l(e);return"inactive"===t&&(t="stopped"),["positive","negative","stopped"].includes(t)?a.a.createElement(i.Icon,{name:"status-".concat(t)}):null}(t)," ",function(e){return"".concat(e.charAt(0)).concat(e.substring(1).replace(/_/g," ").toLowerCase())}(t))}p.propTypes={status:c.a.string.isRequired}},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"getFunctionCharts",(function(){return h})),n.d(r,"getAccountCharts",(function(){return E})),n.d(r,"getAppCharts",(function(){return S})),n.d(r,"INSIGHTS_QUERY_REQUESTS_SUMMARY",(function(){return j})),n.d(r,"INSIGHTS_QUERY_EXPENSIVE_REQUESTS",(function(){return T})),n.d(r,"getInsightsQueries",(function(){return x}));var a=n(0),i=n.n(a),o=n(469),c=n(72),s=n.n(c),u=n(1),l=n.n(u),d=n(82),p=n(20),f=n(7),m=n(9);function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var g="#d13212",y="100 - 100 * errors / MAX([errors, invocations])",v=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:"metric",width:8,properties:{metrics:t,region:Object(f.H)()}}};function h(e){var t=e.functionArn,n=e.concurrencyReservationValue,r=new f.e(t),a=r.functionName,i=r.qualifier,o=!!i,c=i?"".concat(a,":").concat(i):a,s=v(["AWS/Lambda","Errors","FunctionName",a,"Resource",c,{id:"errors",stat:"Sum",color:g}],[".","Invocations",".",".",".",".",{id:"invocations",stat:"Sum",visible:!1}],[{expression:y,label:"Success rate (%)",id:"availability",yAxis:"right"}]);s.properties.title="Error count and success rate (%)",s.properties.yAxis={right:{max:100}};var u=[["AWS/Lambda","Invocations","FunctionName",a,"Resource",c,{stat:"Sum"}]];if(m.f.includes("hyperion")&&(!o||"$LATEST"!==i)){var l=["AWS/Lambda","ProvisionedConcurrencyInvocations","FunctionName",a,"Resource",c,{stat:"Sum"}];u.push(l)}var b=[v.apply(void 0,u),v(["AWS/Lambda","Duration","FunctionName",a,"Resource",c,{stat:"Minimum"}],["...",{stat:"Average"}],["...",{stat:"Maximum"}]),s,v(["AWS/Lambda","Throttles","FunctionName",a,"Resource",c,{stat:"Sum"}])];if(Object(p.r)(a)||(b.push(v(["AWS/Lambda","IteratorAge","FunctionName",a,"Resource",c,{stat:"Maximum"}])),b.push(v(["AWS/Lambda","DeadLetterErrors","FunctionName",a,"Resource",c,{stat:"Sum",color:g}]))),Object(f.R)(n)||n!==d.a.RESERVED||o||b.push(v(["AWS/Lambda","ConcurrentExecutions","FunctionName",a,"Resource",c,{stat:"Maximum"}])),m.f.includes("hyperion")&&(!o||"$LATEST"!==i)){b.push(v(["AWS/Lambda","ProvisionedConcurrentExecutions","FunctionName",a,"Resource",c,{stat:"Maximum"}]));var h=v(["AWS/Lambda","ProvisionedConcurrencyUtilization","FunctionName",a,"Resource",c,{stat:"Maximum"}]);h.properties.yAxis={left:{max:1}},b.push(h)}return{widgets:b}}function E(){var e=v(["AWS/Lambda","Errors",{id:"errors",stat:"Sum",color:g}],[".","Invocations",{id:"invocations",stat:"Sum",visible:!1}],[{expression:y,label:"Success rate (%)",id:"availability",yAxis:"right"}]);return e.properties.title="Error count and success rate (%)",e.properties.yAxis={right:{max:100}},{widgets:[e,v(["AWS/Lambda","Throttles",{stat:"Sum"}]),v(["AWS/Lambda","Invocations",{stat:"Sum"}]),v(["AWS/Lambda","Duration",{stat:"Minimum"}],["...",{stat:"Average"}],["...",{stat:"Maximum"}]),v(["AWS/Lambda","ConcurrentExecutions",{stat:"Maximum"}]),v(["AWS/Lambda","UnreservedConcurrentExecutions",{stat:"Maximum"}])]}}var O={apigw:function(e){return e.map((function(e){var t=[["AWS/ApiGateway","Count","ApiName",e.name],[".","5XXError",".","."],[".","4XXError",".","."]],n=v.apply(void 0,t);return n.properties.title=e.name,n}))},dynamoDB:function(e){return e.map((function(e){var t=[["AWS/DynamoDB","SuccessfulRequestLatency","TableName",e.physicalId,"Operation","Scan"],["...","Query"],["...","PutItem"],["...","GetItem"]],n=v.apply(void 0,t);return n.properties.title="".concat(e.logicalId," latency"),n}))},events:function(e){return["Invocations","FailedInvocations","TriggeredRules"].map((function(t){var n=e.map((function(e){return["AWS/Events",t,"RuleName",e.physicalId,{stat:"Sum",label:e.logicalId}]})),r=v.apply(void 0,b(n));return r.properties.title=t,r}))},kinesis:function(e){return["IncomingRecords","WriteProvisionedThroughputExceeded"].map((function(t){var n=e.map((function(e){return["AWS/Kinesis",t,"StreamName",e.physicalId,{label:e.logicalId}]})),r=v.apply(void 0,b(n));return r.properties.title=t,r}))},lambda:function(e){return[{name:"Invocations",stat:"Sum",aggStat:"SUM(METRICS())"},{name:"Errors",stat:"Sum",aggStat:"SUM(METRICS())"},{name:"Duration",stat:"Average",aggStat:"AVG(METRICS())",metricName:"Duration (average)",aggLabel:"Average Duration"},{name:"ConcurrentExecutions",stat:"Maximum",aggStat:"SUM(METRICS())"}].map((function(t){var n=e.map((function(e){return["AWS/Lambda",t.name,"FunctionName",e.physicalId,{stat:t.stat,label:e.logicalId}]})),r=v.apply(void 0,b(n).concat([[{expression:t.aggStat,label:t.aggLabel||"Total ".concat(t.name),yAxis:"right"}]]));return r.properties.title=t.metricName||t.name,r}))},s3:function(e){return[{name:"BucketSizeBytes",storageType:"StandardStorage"},{name:"NumberOfObjects",storageType:"AllStorageTypes"}].map((function(t){var n=e.map((function(e){return["AWS/S3",t.name,"StorageType",t.storageType,"BucketName",e.physicalId,{label:e.logicalId,period:86400}]})),r=v.apply(void 0,b(n));return r.properties.title=t.name,r.properties.view="singleValue",r}))},sns:function(e){return[{name:"NumberOfMessagesPublished"},{name:"PublishSize"},{name:"NumberOfNotifications",types:["Delivered","Failed","FilteredOut","FilteredOut-NoMessageAttributes","FilteredOut-InvalidAttributes"]},{name:"SMSSuccessRate"}].map((function(t){var n=e.reduce((function(e,n){var r=new f.b(n.physicalId).resource;if(t.types){var a=t.types.map((function(e){return["AWS/SNS",t.name+e,"TopicName",r,{label:n.logicalId.concat("-",e)}]}));return e.push.apply(e,b(a)),e}return e.push(["AWS/SNS",t.name,"TopicName",r,{label:n.logicalId}]),e}),[]),r=v.apply(void 0,b(n));return r.properties.title=t.name,r}))},sqs:function(e){return["NumberOfMessagesSent","NumberOfMessagesReceived","NumberOfMessagesDeleted","ApproximateNumberOfMessagesDelayed","ApproximateNumberOfMessagesNotVisible","ApproximateNumberOfMessagesVisible","ApproximateAgeOfOldestMessage","NumberOfEmptyReceives","SentMessageSize"].map((function(t){var n=e.map((function(e){return["AWS/SQS",t,"QueueName",e.physicalId.split("/").pop(),{label:e.logicalId}]})),r=v.apply(void 0,b(n));return r.properties.title=t,r}))}};function S(e){var t=e.resourceType,n=e.resources;return{widgets:(O[t]||O.lambda)(n)}}var j='\nfilter @type = "REPORT"\n| fields @timestamp as Timestamp, @requestId as RequestID, @logStream as LogStream, @duration as DurationInMS, @billedDuration as BilledDurationInMS, @memorySize/1000000 as MemorySetInMB, @maxMemoryUsed/1000000 as MemoryUsedInMB\n| sort Timestamp desc\n| head 9\n',T='\nfilter @type = "REPORT"\n| fields @timestamp as Timestamp, @requestId as RequestID, @logStream as LogStream, @billedDuration as BilledDurationInMS, @memorySize/1000000 as MemorySetInMB, @billedDuration/1000*MemorySetInMB/1024 as BilledDurationInGBSeconds\n| sort BilledDurationInGBSeconds desc\n| head 9\n';function x(e){var t=e.functionName;return{widgets:[{query:j,title:"Recent invocations"},{query:T,title:"Most expensive invocations in GB-seconds (memory assigned * billed duration)"}].map((function(e){return{type:"log",width:24,height:6,properties:{title:e.title,query:"SOURCE '/aws/lambda/".concat(t,"' | ").concat(e.query)}}}))}}var _=n(31),w=n(5);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return M}));var k,P,D,M=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=I(this,N(t).call(this,e))).state={loading:!0},n}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;try{Object(w.startCustomTimer)(w.EVENT_NAMES.CWDB_READY),this.dashboard=new o.Dashboard(this.dashboardContainer,"dashboard",Object(f.H)(),{displayMode:"static",style:"polaris",heightUnit:40,widgetMarginX:10,widgetMarginY:10}),this.dashboard.on("ready",(function(){e.stopLoading(),e.refresh()}))}catch(e){this.stopLoading(),Object(w.logEvent)(w.EVENT_NAMES.CWDB_ERROR)}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){s()(e,this.props)||this.refresh(e)}},{key:"componentWillUnmount",value:function(){var e;null===(e=this.dashboard)||void 0===e||e.release()}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.dashboard&&("_custom"===e.method?(this.dashboard.load(e.dashboardName),this.dashboard.load(e.dashboardName),this.dashboard.updateStyle({height:"700px"})):this.dashboard.update(r[e.method](e),{widgetHeightInUnits:e.widgetHeightInUnits||6,widgetsPerRow:e.widgetsPerRow||3}))}},{key:"stopLoading",value:function(){Object(w.stopCustomTimer)(w.EVENT_NAMES.CWDB_READY),this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"embedded-dashboard"},this.state.loading&&i.a.createElement(_.a,null),i.a.createElement("div",{ref:function(t){return e.dashboardContainer=t}}))}}])&&A(n.prototype,a),c&&A(n,c),t}(i.a.Component);k=M,P="propTypes",D={dashboardName:l.a.string,method:l.a.string.isRequired,widgetHeightInUnits:l.a.number,widgetsPerRow:l.a.number},P in k?Object.defineProperty(k,P,{value:D,enumerable:!0,configurable:!0,writable:!0}):k[P]=D},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(156),o=n(111),c=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){if("string"==typeof e){var t=(0,i.parsePath)(e),n=t.search,r=void 0===n?"":n,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["search"]),s=r&&c.default.parse(r);return s?a({},o,{query:s,search:r}):a({},o)}var u=e.search,l=e.query,d=u||l&&Object.keys(l).length&&"?"+c.default.stringify(l)||"",p=l||c.default.parse(u||"");return a({},e,{search:d,query:p})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(315),o=(r=i)&&r.__esModule?r:{default:r};function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e,t){return Object.keys(e).reduce((function(n,r){return t(r)?a({},n,c({},r,e[r])):n}),{})},u=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=t?t(i):i,s=n?n(e[i]):e[i];return a({},r,c({},o,s))}),{})},l=function(e){return s(e,(function(e){return 0===e.indexOf("/")}))},d=function(e){return s(e,(function(e){return 0!==e.indexOf("/")}))};t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(r){var i="/"===r?"":r;e(u(l(t[r]),(function(e){return""+i+e}),(function(e){return a({},e,{parent:a({},d(t[r]),{route:r})})})),n)})),(0,o.default)(n,u(t,null,d)),n}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),a=function(){return{messages:[{level:"WARN",message:"export.triggerNotSupported"}],eventResources:[]}},i={"alexa-skills-kit":function(){return{messages:[],eventResources:[{key:"AlexaSkillEvent",type:"AlexaSkill",messages:[{level:"INFO",message:"export.alexa_skills_kit.toConfigure"}]}]}},"api-gateway":function(e,t){return{messages:[],eventResources:[{key:"Api".concat(e),type:"Api",properties:{Path:t.path||"/MyResource",Method:t.method||"ANY"},messages:[]}]}},"aws-iot":function(e,t){var n={},r=[];return t.sql?n.Sql=t.sql:(n.Sql='TODO fill in your SQL, e.g. SELECT * FROM "topic/test"',r.push({level:"INFO",message:"export.iot.noSql"})),{messages:[],eventResources:[{key:"IoTRule".concat(e),type:"IoTRule",properties:n,messages:r}]}},"cloudwatch-events":function(e,t){var n={messages:[],eventResources:[]};return t.scheduleExpression&&n.eventResources.push({key:"Schedule".concat(e),type:"Schedule",properties:{Schedule:t.scheduleExpression},messages:[]}),t.eventPattern&&n.eventResources.push({key:"CloudWatchEvent".concat(e),type:"CloudWatchEvent",properties:{Pattern:t.eventPattern},messages:[]}),n},dynamodb:function(e,t){return{messages:[],eventResources:[{key:"DynamoDB".concat(e),type:"DynamoDB",reference:{key:"Table".concat(e),type:"AWS::DynamoDB::Table",properties:{AttributeDefinitions:[{AttributeName:"id",AttributeType:"S"}],KeySchema:[{AttributeName:"id",KeyType:"HASH"}],ProvisionedThroughput:{ReadCapacityUnits:5,WriteCapacityUnits:5},StreamSpecification:{StreamViewType:"NEW_IMAGE"}},messages:[]},properties:{Stream:{"Fn::GetAtt":["Table".concat(e),"StreamArn"]},StartingPosition:t.startingPosition||"TRIM_HORIZON",BatchSize:t.batchSize||100},messages:[]}]}},kinesis:function(e,t){return{messages:[],eventResources:[{key:"Kinesis".concat(e),type:"Kinesis",reference:{key:"KinesisStream".concat(e),type:"AWS::Kinesis::Stream",properties:{ShardCount:1},messages:[]},properties:{Stream:{"Fn::GetAtt":["KinesisStream".concat(e),"Arn"]},StartingPosition:t.startingPosition||"TRIM_HORIZON",BatchSize:t.batchSize||100},messages:[]}]}},s3:function(e,t){var n={Bucket:{Ref:"Bucket".concat(e)}};if(t.eventType){var r=Array.isArray(t.eventType)?t.eventType:[t.eventType];n.Events=r.map((function(e){return{ObjectCreated:"s3:ObjectCreated:*",ObjectCreatedByCompleteMultipartUpload:"s3:ObjectCreated:CompleteMultipartUpload",ObjectCreatedByCopy:"s3:ObjectCreated:Copy",ObjectCreatedByPost:"s3:ObjectCreated:Post",ObjectCreatedByPut:"s3:ObjectCreated:Put",ObjectRemoved:"s3:ObjectRemoved:*",ObjectRemovedDelete:"s3:ObjectRemoved:Delete",ObjectRemovedDeleteMarkerCreated:"s3:ObjectRemoved:DeleteMarkerCreated",ReducedRedundancyLostObject:"s3:ReducedRedundancyLostObject"}[e]}))}else n.Events=["s3:ObjectCreated:*"];var a=[];return t.prefix&&a.push({Name:"prefix",Value:t.prefix}),t.suffix&&a.push({Name:"suffix",Value:t.suffix}),a.length&&(n.Filter={S3Key:{Rules:a}}),{messages:[],eventResources:[{key:"BucketEvent".concat(e),type:"S3",reference:{key:"Bucket".concat(e),type:"AWS::S3::Bucket",messages:[]},properties:n,messages:[]}]}},sns:function(e){return{messages:[],eventResources:[{key:"SNS".concat(e),type:"SNS",reference:{key:"SNSTopic".concat(e),type:"AWS::SNS::Topic",messages:[]},properties:{Topic:{Ref:"SNSTopic".concat(e)}},messages:[]}]}},sqs:function(e,t){return{messages:[],eventResources:[{key:"SQS".concat(e),type:"SQS",reference:{key:"SQSQueue".concat(e),type:"AWS::SQS::Queue",properties:{},messages:[]},properties:{Queue:{"Fn::GetAtt":["SQSQueue".concat(e),"Arn"]},BatchSize:t.batchSize||1},messages:[]}]}}};var o=function(e){return{messages:e.flatMap((function(e){return Object(r.List)(e.messages)})).toArray(),eventResources:e.flatMap((function(e){return Object(r.List)(e.eventResources)})).toArray()}};function c(e){return Object(r.List)(e).groupBy((function(e){return e.id})).map((function(e,t){return e.map((function(e,n){return function(e,t,n){return(i[e]||a)(t+1,n.data||n)}(t,n,e)}))})).map(o).toArray()}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(72),s=n.n(c),u=n(3),l=n(13),d=n(32),p=n(61);function f(e,t){return e===p.b?!t:e===p.a?null!==t:e.filters(t)}var m={keyword:function(e,t,n){var r=t.map((function(t){if(t.pairs)return t.pairs(e).map((function(e){return"".concat(e.key," ").concat(e.value)})).join(" ");var n=t.value(e);return Array.isArray(n)?n.join(" "):n}));return n.value.filters(r.join(" "))},keyValueMatch:function(e,t,n){var r=n.metadata;if(r.pairs)return!!r.pairs(e).find((function(e){var t=e.key,r=e.value;return n.key.filters(t)&&f(n.value,r)}));var a=r.value(e);return Array.isArray(a)?!!a.find((function(e){return f(n.value,e)})):f(n.value,a)}};function b(e,t,n){return n.reduce((function(n,r){return n&&function(e,t,n){return!m[n.type]||m[n.type](e,t,n)}(e,t,r)}),!0)}function g(e,t,n){return e.filter((function(e){return b(e,t,n)}))}var y=n(471),v=n(4);function h(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(e,t,n){var r,a=t.propertyKey,i=t.propertyLabel,o=t.negated,c=t.value,s=t.isFreeText,u=function(e){return s?e.includes(c):e===c};return r=!a&&s?n.some((function(t){return e[t].includes(c)}))||e.tags.some((function(e){return e.value.includes(c)})):a.startsWith("tag-indicator__")?e.tags.some((function(e){return e.key===i&&u(e.value)})):u(e[a]),o?!r:r}var O=n(108),S=n(7);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=":";function _(e,t,n){var r;try{r=t.split(x).map(S.i)}catch(e){return null}switch(r[0]){case"kw":return r[1]?{type:"keyword",value:r[1]}:null;case"kvm":var a=e.find((function(e){return function(e,t){return!!e.key&&(e.key.id||e.key)===t}(e,r[1])||function(e,t){return e.prefix===t}(e,r[1])}));return a&&3===r.length?{type:"keyValueMatch",key:Object(S.E)(n,a.key),value:r[2],metadata:a}:a&&4===r.length?{type:"keyValueMatch",key:r[2],value:r[3],metadata:a}:null;default:return null}}function w(e){return e.reduce((function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,T({},"f".concat(n),function(e){var t=[];switch(e.type){case"keyword":t=["kw",e.value];break;case"keyValueMatch":t=["kvm",e.metadata.prefix||null,e.metadata.prefix?e.key:e.metadata.key.id||e.metadata.key,e.value]}return t.filter((function(e){return e})).map(S.j).join(x)}(t)))}),{})}function R(e,t,n){var r=[];t.search&&r.push({type:"keyword",value:t.search});for(var a=0,i=t["f".concat(a)];i;){var o=_(e,i,n);o&&r.push(o),i=t["f".concat(++a)]}return r}var A=n(29),I=n(5);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e){return B(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||G()}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){return B(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||G()}function G(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function B(e){if(Array.isArray(e))return e}function z(e,t){return Object.entries(e).map((function(e){var n=U(e,2);return function(e,t,n){if(null===t)return{key:void 0};var r,a=encodeURIComponent(t);switch(e){case"propertyKey":r="k";break;case"value":r="v";break;case"isFreeText":r="f";break;case"negated":r="n";break;default:return{key:void 0}}return{key:"".concat(r).concat(n),value:a}}(n[0],n[1],t)})).filter((function(e){return e.key}))}function H(e,t){return["k","v","n","f"].reduce((function(e,n){return q({},e,V({},"".concat(n).concat(t),void 0))}),e)}function W(e,t,n){if(e.startsWith("tag-indicator__"))return e.slice("tag-indicator__".length);var r=n.find((function(t){return t.propertyKey===e})).key;return Object(S.E)(t,r)}function K(e,t,n,r){var i,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return c=i=function(i){function o(e,r){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a=D(this,M(o).call(this,e,r));var i,c,s=e.disableUrlConversion,u=e.location,l=s?[]:R(n,u.query,r.intl);try{var d=k(s?["and"]:a.urlToTokens(u.query,r.intl,n));i=d[0],c=d.slice(1)}catch(e){i="and",c=[]}return a.state={filteredData:g(e[t],n,l),searchFacets:l,suggestions:Object(O.b)(e[t],n,r.intl),tokens:c,operation:i},a}var c,u,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(o,i),c=o,(u=[{key:"UNSAFE_componentWillReceiveProps",value:function(e,r){var a=this,i=this.props.disableUrlConversion?[]:R(n,this.props.location.query,this.context.intl),o=e.disableUrlConversion?[]:R(n,e.location.query,r.intl);this.props[t]===e[t]&&s()(i,o)||this.setState((function(){return{filteredData:g(e[t],n,o),searchFacets:o,suggestions:Object(O.b)(e[t],n,a.context.intl)}}))}},{key:"addSearchFacet",value:function(e){if(!this.state.searchFacets.find((function(t){return s()(t,e)}))){!function(e){"keyword"===e.type?Object(I.logEvent)(I.EVENT_NAMES.TAG_FL_ADD_PILL("kw")):"keyValueMatch"===e.type&&Object(I.logEvent)(I.EVENT_NAMES.TAG_FL_ADD_PILL("kvm",e.metadata.logEventName||"none"))}(e);var r=this.state.searchFacets;r.push(e),this.props.updateUrl(w(r)),this.setState({searchFacets:r,filteredData:g(this.props[t],n,r)})}}},{key:"removeSearchFacet",value:function(e){var r,a=this.state.searchFacets,i=a.length-1;"keyword"===(r=a[e]).type?Object(I.logEvent)(I.EVENT_NAMES.TAG_FL_RM_PILL("kw")):"keyValueMatch"===r.type&&Object(I.logEvent)(I.EVENT_NAMES.TAG_FL_RM_PILL("kvm",r.metadata.logEventName||"none")),a.splice(e,1),this.props.updateUrl(q({},w(a),V({},"f".concat(i),void 0))),this.setState({searchFacets:a,filteredData:g(this.props[t],n,a)})}},{key:"selectSearchPreset",value:function(e){var r,a=e.facets;r=e.id,Object(I.logEvent)(I.EVENT_NAMES.FL_SEARCH_PRESET(r));var i=w(a);if(this.state.searchFacets.length>a.length)for(var o=a.length;o<this.state.searchFacets.length;o++)i["f".concat(o)]=void 0;this.props.updateUrl(i),this.setState({searchFacets:a,filteredData:g(this.props[t],n,a)})}},{key:"updateTokens",value:function(e){var t=e.tokens,n=e.operation,r=this.state.tokens;this.setState({tokens:t,operation:n});var a={op:void 0};if(this.state.tokens.length){r.length>this.state.tokens.length&&(a=H(a,r.length-1)),a.op=n;for(var i=0;i<this.state.tokens.length;i++)z(this.state.tokens[i],i).forEach((function(e){var t=e.key,n=e.value;a[t]=n}))}else for(var o=0;o<r.length;o++)a=H(a,o);this.props.updateUrl(a)}},{key:"urlToTokens",value:function(e,t,n){var r=e.op||"and";if("and"!==r&&"or"!==r)throw new Error("Operation must be and/or");for(var a=[r],i=0;e["n".concat(i)];){var o=e["n".concat(i)],c=e["f".concat(i)],s=e["v".concat(i)],u=e["k".concat(i)];if(!s||!c&&!u)throw new Error("Missing value in url");var l={negated:"true"===o,isFreeText:"true"===c,value:decodeURIComponent(s),propertyKey:u,propertyLabel:""};u&&(l.propertyLabel=W(l.propertyKey,t,n)),a.push(l),i++}return a}},{key:"render",value:function(){var n=q({},this.props);n[t]=this.state.filteredData;var i,o,c,s,u,d,p,f,m,b,g,O={addSearchFacet:this.addSearchFacet.bind(this),removeSearchFacet:this.removeSearchFacet.bind(this),selectSearchPreset:this.selectSearchPreset.bind(this),updateTokens:this.updateTokens.bind(this)},S=a.a.createElement(y.a,C({},O,{searchFacets:this.state.searchFacets,searchPresets:r,suggestionData:this.state.suggestions,pageId:l})),j=(i=this.state.suggestions,o=this.state.tokens,c=this.state.operation,s=this.context.intl,u=Object(v.Set)(i.map((function(e){return e.group}))).toArray().sort(),d=Object(v.Set)(i.map((function(e){return e.metadata.propertyKey}))).filter((function(e){return e&&"arn"!==e})),p=h(u),f=p[0],m=p.slice(1),b=i.map((function(e){var t=e.group,n=e.key,r=e.values,a=e.metadata;return{groupValuesLabel:s.formatMessage({id:"search.groupValuesText"}),group:t!==f?t:null,propertyKey:"tags"===a.groupId?"tag-indicator__".concat(n):a.propertyKey,propertyLabel:n,values:r}})),g=m.map((function(e){return{group:e,properties:e,values:e}})),{filteringOptions:b,tokens:o,operation:c,customGroupsText:g,allowFreeTextFiltering:!0,hideOperations:!1,filteringFunction:function(e){return!o.length||("or"===c?o.some((function(t){return E(e,t,d)})):o.every((function(t){return E(e,t,d)})))},operationAndText:s.formatMessage({id:"search.operationAndText"}),operationNotAndText:s.formatMessage({id:"search.operationNotAndText"}),operationOrText:s.formatMessage({id:"search.operationOrText"}),operationNotOrText:s.formatMessage({id:"search.operationNotOrText"}),clearFiltersText:s.formatMessage({id:"search.clearFiltersText"}),groupPropertiesText:f,groupValuesText:s.formatMessage({id:"search.groupValuesText"}),filteringEmpty:s.formatMessage({id:"search.filteringEmpty"}),filteringLabel:s.formatMessage({id:"search.filteringLabel"}),placeholder:s.formatMessage({id:"search.placeholderNoPills"})});return a.a.createElement(e,C({},O,n,{SearchComponent:S,propertyFilterProps:j}))}}])&&P(c.prototype,u),d&&P(c,d),o}(a.a.Component),V(i,"propTypes",{disableUrlConversion:o.a.bool,location:o.a.object.isRequired,updateUrl:o.a.func.isRequired}),V(i,"contextTypes",{intl:u.intlShape.isRequired}),c}n.d(t,"a",(function(){return Q}));var Y=function(e){return{location:Object(A.b)(e)}},J=function(e,t){return{updateUrl:t.disableUrlConversion?function(){}:function(t){return e(Object(d.h)({query:t},{persistQuery:!0}))}}};function Q(e,t,n,r){var a=K(e,t,n,r,arguments.length>4&&void 0!==arguments[4]?arguments[4]:null);return Object(l.connect)(Y,J)(a)}},,function(e,t,n){"use strict";n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return P})),n.d(t,"f",(function(){return U})),n.d(t,"e",(function(){return G})),n.d(t,"g",(function(){return B}));var r=n(4),a=n(32),i=n(2),o=n(16),c=n(190),s=n(252),u=n(14),l=n(23),d=n(92),p=n(20),f=n(85),m=n(17),b=n(29),g=n(5);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=regeneratorRuntime.mark(D),E=regeneratorRuntime.mark(M),O=regeneratorRuntime.mark(L),S=regeneratorRuntime.mark(F),j=regeneratorRuntime.mark(q),T=regeneratorRuntime.mark(V),x="addLayer",_=Object(r.Map)({loadingLayers:!1,loadingLayerVersions:!1}),w=function(e,t){var n=t.payload;return e.set("loadingLayers",n.loading)},R=function(e){return{type:Object(m.b)(x,"SET_IS_LOADING_LAYERS"),payload:{loading:e},reducer:w}},A=function(e,t){var n=t.payload;return e.set("loadingLayerVersions",n.loading)},I=function(e){return{type:Object(m.b)(x,"SET_IS_LOADING_LAYER_VERSIONS"),payload:{loading:e},reducer:A}},N=function(e){return{type:Object(m.b)(x,"LOAD_LAYER_VERSIONS"),layer:e}},C=function(e){return e.pages[x]},k=Object(o.createSelector)(C,(function(e){return e.get("loadingLayers")})),P=Object(o.createSelector)(C,(function(e){return e.get("loadingLayerVersions")}));function D(e){var t,n,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.put)(Object(l.i)(x));case 2:return a.next=4,Object(i.put)(Object(d.d)([]));case 4:return t=e.query,n=t.function,r=t.layer,a.abrupt("return",{functionName:n,layer:r});case 6:case"end":return a.stop()}}),h)}function M(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.put)(R(!0));case 2:return e.prev=2,e.next=5,Object(i.call)(f.b);case 5:return e.next=7,Object(i.call)(f.d);case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(2),e.next=13,Object(i.put)(Object(u.d)({message:e.t0.message,scope:x}));case 13:return e.prev=13,e.next=16,Object(i.put)(R(!1));case 16:return e.finish(13);case 17:case"end":return e.stop()}}),E,null,[[2,9,13,17]])}function L(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.layer,n.next=3,Object(i.put)(I(!0));case 3:if(n.prev=3,!t.includes(":")){n.next=9;break}return n.next=7,Object(i.call)(f.c,{layerArn:t});case 7:n.next=11;break;case 9:return n.next=11,Object(i.call)(f.e,{layerName:t});case 11:n.next=17;break;case 13:return n.prev=13,n.t0=n.catch(3),n.next=17,Object(i.put)(Object(u.d)({message:n.t0.message,scope:x}));case 17:return n.prev=17,n.next=20,Object(i.put)(I(!1));case 20:return n.finish(17);case 21:case"end":return n.stop()}}),O,null,[[3,13,17,21]])}function F(e){var t,n,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.functionName,n=e.layer,a.next=3,Object(i.put)(Object(l.l)(x,"layerSelection",n?"provideArn":"selectCompatible"));case 3:if(!t){a.next=21;break}return a.next=6,Object(i.put)(Object(l.l)(x,"functionName",t));case 6:return r="",a.prev=7,a.next=10,Object(i.call)(s.a,t);case 10:r=a.sent,a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(7),a.next=17,Object(i.put)(Object(u.d)({message:a.t0.message,scope:x}));case 17:return a.next=19,Object(i.put)(Object(l.l)(x,"runtime",r));case 19:a.next=23;break;case 21:return a.next=23,Object(i.put)(c.a.loadFunctions());case 23:if(!n){a.next=26;break}return a.next=26,Object(i.put)(Object(l.l)(x,"layerVersionArn",n));case 26:return a.next=28,Object(i.call)(M);case 28:return a.abrupt("return",!0);case 29:case"end":return a.stop()}}),S,null,[[7,13]])}function q(e){var t,n,r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.functionName,n=e.qualifier,r=e.layer,o.next=3,Object(i.call)(p.t,t,n,"layer","add",{layer:r});case 3:return o.next=5,Object(i.put)(Object(a.h)("/functions/".concat(t)));case 5:case"end":return o.stop()}}),j)}function V(e){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.functionName,n=e.qualifier,r.next=3,Object(i.call)(p.t,t,n,"layer","cancel");case 3:return r.next=5,Object(i.put)(Object(a.h)("/functions/".concat(t)));case 5:case"end":return r.stop()}}),T)}var U=function(e){return{fields:Object(l.e)(e,x),selection:Object(l.c)(e,x,"layerSelection"),showFunctionSelector:!Object(b.b)(e).query.function}},G=function(e){return{add:function(t,n){return e(function(e,t){return{type:Object(m.b)(x,"ADD"),functionName:e,layer:t}}(t,n))},cancel:function(t){return e(function(e){return{type:Object(m.b)(x,"CANCEL"),functionName:e}}(t))},reloadFunctions:function(){return e(c.a.loadFunctions())},onFunctionSelectorChange:function(t,n){var r,a=(null==n?void 0:null===(r=n.find((function(e){return e.functionName===t})))||void 0===r?void 0:r.runtime)||"";e(Object(l.l)(x,"runtime",a)),e(Object(l.l)(x,"layerName",void 0)),e(Object(d.d)([]))}}},B=function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{},e,{},t,{add:function(){var n=e.fields,r=e.selection;Object(g.logEvent)(g.EVENT_NAMES.LAYERS_ADD(r));var a="selectCompatible"===r?n.layerVersion:n.layerVersionArn;t.add(n.functionName,a)},cancel:function(){return t.cancel(e.fields.functionName)}})},z=new m.a({id:x,preview:"layette",initialState:_,init:F,load:D,hasHelpContent:!0,watchers:[{matcher:Object(m.b)(x,"ADD"),task:q},{matcher:Object(m.b)(x,"CANCEL"),task:V},{matcher:Object(m.b)(x,"LOAD_LAYER_VERSIONS"),task:L}]});t.a=z},function(e,t,n){"use strict";n.d(t,"b",(function(){return L})),n.d(t,"d",(function(){return G})),n.d(t,"c",(function(){return B})),n.d(t,"e",(function(){return z}));var r=n(4),a=n(32),i=n(2),o=n(16),c=n(88),s=n(236),u=n(14),l=n(44),d=n(155),p=n(253),f=n(17),m=n(11),b=n(9),g=n(7),y=n(5),v=n(40),h=n(27);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=regeneratorRuntime.mark(F),j=regeneratorRuntime.mark(q),T=regeneratorRuntime.mark(U),x="createApplicationConfigure",_=Object(r.Map)({creatingApplication:!1,applicationTemplate:null,githubAuthURL:null}),w=function(e){return e.set("creatingApplication",!0)},R=function(e){return e.set("creatingApplication",!1)},A=function(){return{type:Object(f.b)(x,"CREATE_DONE"),reducer:R}},I=function(e,t){var n=t.payload;return e.set("applicationTemplate",n.applicationTemplate)},N=function(e){return{type:Object(f.b)(x,"SET_APPLICATION_TEMPLATE"),payload:{applicationTemplate:e},reducer:I}},C=function(e,t){var n=t.payload;return e.set("githubAuthURL",n.githubAuthURL)},k=function(e){return{type:Object(f.b)(x,"SET_GITHUB_AUTH_URL"),payload:{githubAuthURL:e},reducer:C}},P=function(e){return e.pages[x]},D=Object(o.createSelector)(P,(function(e){return e.get("creatingApplication")})),M=Object(o.createSelector)(P,(function(e){return e.get("applicationTemplate")})),L=Object(o.createSelector)(P,(function(e){return e.get("githubAuthURL")}));function F(){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(b.f.includes("gintama")){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,Object(i.call)(m.a.getGitHubAuthURL);case 5:return e=n.sent,t=e.body,n.next=9,Object(i.put)(k(t));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(2),n.next=15,Object(i.put)(Object(u.d)({scope:"GitHub-scope",message:{id:"applications.create.configuration.repository.getGitHubAuthURL.failure",values:{error:n.t0.message}}}));case 15:case"end":return n.stop()}}),S,null,[[2,11]])}function q(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e&&s.a.find((function(t){return t.id===e})),!e||t){n.next=5;break}return n.next=4,Object(i.put)(Object(a.h)("/create/application"));case 4:return n.abrupt("return",!1);case 5:return n.next=7,Object(i.put)(Object(l.a)("appCreate"));case 7:return n.next=9,Object(i.call)(F);case 9:return n.next=11,Object(i.put)(Object(l.c)("appCreate.repositorySelectionType",Object(v.d)("repositorySelectionType")));case 11:return n.next=13,Object(i.put)(Object(l.c)("appCreate.accessTokenGitHub",Object(v.d)("accessTokenGitHub")));case 13:return n.next=15,Object(i.put)(N(t));case 15:return n.abrupt("return",!0);case 16:case"end":return n.stop()}}),j)}function V(e,t,n){Object(y.logEventWithDetail)(y.EVENT_NAMES.APPS_CREATE_ID,{appId:e}),Object(y.logEventWithDetail)(y.EVENT_NAMES.APPS_CREATE_RUNTIME,{runtime:t}),Object(y.logEventWithDetail)(y.EVENT_NAMES.APPS_CREATE_REPO,{repoType:n})}function U(e){var t,n,r,o,s,l,f,b,v,E,O,S,j,_,w;return regeneratorRuntime.wrap((function(T){for(;;)switch(T.prev=T.next){case 0:return t=e.payload,n=t.fields,r=t.feature,o=n.name,s=n.description,l=n.runtime,f=n.repositorySelectionType,b=n.repositoryNameCodeCommit,v=b,E=null,f===c.a.REPO_TYPE_GITHUB&&(v=n.repositoryNameGitHub,E=n.accessTokenGitHub),O={name:o,description:s,repositoryName:v,repositoryType:f,template:{runtime:Object(h.g)(l),runtimeVersion:Object(h.h)(l),language:Object(h.j)(l),features:[{name:r||"fromScratch"}]},accessToken:E},T.prev=6,T.next=9,Object(i.call)(m.a.createApp,O);case 9:return S=T.sent,j=S.body,V(o,l,f),Object(y.logEvent)(y.EVENT_NAMES.APPS_CREATE,!0),_="".concat(j.appId),w="".concat(j.stackId.split("/")[1]),T.next=17,Object(i.select)(d.f);case 17:if(!T.sent){T.next=21;break}return T.next=21,Object(i.put)(Object(d.b)(Object(p.a)({name:_})));case 21:return T.next=23,Object(i.put)(Object(a.h)("/applications/".concat(_,"?projectId=").concat(w)));case 23:T.next=33;break;case 25:return T.prev=25,T.t0=T.catch(6),T.next=29,Object(i.put)(Object(u.d)({message:{id:"applications.create.errors.failure",values:{error:T.t0.message}},scope:x}));case 29:return T.next=31,Object(i.call)(g.ab);case 31:Object(y.logEvent)(y.EVENT_NAMES.APPS_CREATE,!1),Object(y.logEventWithDetail)(y.EVENT_NAMES.APP_CREATE_FAILED,{error:T.t0.message,status:T.t0.status});case 33:return T.prev=33,T.next=36,Object(i.put)(A());case 36:return Object(y.logEvent)(y.EVENT_NAMES.APPS_CREATE),T.finish(33);case 38:case"end":return T.stop()}}),T,null,[[6,25,33,38]])}var G=function(e){return{appTemplate:M(e),createFields:e.formFields.getIn(["fields","appCreate"]),codeCommitRepositoryNameEntered:e.formFields.getIn(["fields","appCreate","codeCommitRepositoryNameEntered"]),gitHubRepositoryNameEntered:e.formFields.getIn(["fields","appCreate","gitHubRepositoryNameEntered"]),isCreating:D(e),repositorySelectionType:e.formFields.getIn(["fields","appCreate","repositorySelectionType"])}},B=function(e){return{createApp:function(t,n){return e(function(e,t){return{type:Object(f.b)(x,"CREATE_APPLICATION"),payload:{fields:e,feature:t},reducer:w}}(t.toJS(),n))},validateField:function(t,n){return e(Object(l.e)(t,n))},setAppCreateField:function(t,n){return e(Object(l.c)("appCreate.".concat(t),n))}}},z=function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{},e,{},t,{createApp:function(){var n;return t.createApp(e.createFields,null===(n=e.appTemplate)||void 0===n?void 0:n.id)}})},H=new f.a({id:x,preview:"huesillo",initialState:_,init:q,load:function(e){return e.query.applicationId},resetStateOnInit:!0,watchers:[{matcher:Object(f.b)(x,"CREATE_APPLICATION"),task:U}]});t.a=H},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d}));var r=n(4),a=n(16),i=n(15),o=Object(r.Map)({loadingFunctions:!1});function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a.LOAD_FUNCTIONS:return e.set("loadingFunctions",!0);case i.a.LOAD_FUNCTIONS_DONE:return e.set("loadingFunctions",!1).update("loadFunctionsError",(function(e){return t.err||e})).update("functions",(function(e){return t.res||e}));default:return e}}var s=function(e){return e.add},u=Object(a.createSelector)(s,(function(e){return e.get("loadingFunctions")})),l=Object(a.createSelector)(s,(function(e){return e.get("functions")})),d=Object(a.createSelector)(s,(function(e){return e.get("loadFunctionsError")}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(6),s=n(3),u=n(13),l=n(84),d=n(23),p=n(28),f=n(48),m=n(9),b=n(7),g=n(5),y=["basic","existing","template"],v=function(e){var t=e.detail,n=t.selectedId,r=t.deselected;Object(g.logEvent)(g.EVENT_NAMES.SELECT_ROLE_TEMPLATE(JSON.parse(n).id),!r)};function h(e,t){var n=t.intl,r=e.showBasic,a=e.showRadioSelection,i=e.allowedRoleTemplates,u=e.functionName,d=e.role,h=e.roleSelectionType,E=e.sessionId,O=e.roleFilter,S=e.onChange,j=void 0===a||a,T=Object(l.b)(u||"<myFunctionName>",E),x=d&&new b.d(d).roleName,_=O||"lambda.amazonaws.com",w=Object(f.m)().map((function(e){var t=e.arn;return{id:t,label:new b.d(t).roleId}})).filter((function(e){return e.original.assumeRolePolicyDocument.includes(_)})).takeAll(),R=o.a.createElement(c.Alert,{key:"roleRestrictionAlert"},o.a.createElement(s.FormattedHTMLMessage,{id:"role.name.restriction.text"})),A=y.filter((function(e){return"basic"!==e||r})).map((function(e){return{value:e,label:o.a.createElement(s.FormattedMessage,{id:"role.".concat(e,".text")})}})),I=m.n.filter((function(e){return!i||i.includes(e.id)})).map((function(e){return{id:JSON.stringify(e),label:n.formatMessage({id:"roleTemplates.".concat(e.id)}),tags:e.services}}));return o.a.createElement(o.a.Fragment,null,j?o.a.createElement(p.e,{id:"roleSelectionType",fieldTextProps:["label","description"],rawOnChange:function(e){return Object(g.logEvent)(g.EVENT_NAMES["ROLE_".concat(e.detail.value.toUpperCase())])}},o.a.createElement(c.RadioGroup,{items:A})):"",{basic:[R,o.a.createElement(s.FormattedMessage,{key:"basicRoleName",id:"role.basic.blurb",values:{name:T}})],existing:o.a.createElement(p.e,{id:"existingRole",fieldTextProps:["label","description"],hintText:x&&o.a.createElement(s.FormattedHTMLMessage,{id:"role.existing.subtext",values:{roleName:x}}),paginator:w,onChange:S},o.a.createElement(c.Select,{enableFiltering:!0})),template:[R,o.a.createElement(p.e,{id:"roleName",key:"roleName",fieldTextProps:["label","description","hintText"]},o.a.createElement(c.Input,{placeholder:"myRoleName"})),o.a.createElement(p.e,{id:"roleTemplates",key:"roleTemplates",fieldTextProps:["label","description"],infoText:o.a.createElement(s.FormattedHTMLMessage,{id:"role.template.helpContent"}),rawOnChange:v,onChange:S,optional:!0},o.a.createElement(c.Multiselect,{enableFiltering:!0,options:I}))]}[h])}h.propTypes={showRadioSelection:a.a.bool,showBasic:a.a.bool,allowedRoleTemplates:a.a.arrayOf(a.a.string),functionName:a.a.string,role:a.a.string,roleSelectionType:a.a.oneOf(y),sessionId:a.a.string,roleFilter:a.a.string,onChange:a.a.func},h.contextTypes={intl:s.intlShape.isRequired};t.a=Object(u.connect)((function(e,t){var n=t.formId,r=t.functionNameField;return{allowedRoleTemplates:Object(d.c)(e,n,"allowedRoleTemplates"),functionName:Object(d.c)(e,n,r),role:Object(d.c)(e,n,"existingRole"),roleSelectionType:Object(d.c)(e,n,"roleSelectionType"),sessionId:Object(d.c)(e,n,"sessionId")}}))(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=t.logTimer=function(e,t){try{window.AWSC.Timer.submitCustomTimer("cwdbi_"+e,t)}catch(e){}},i=(t.logCounter=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{window.AWSC.Clog.log("cwdbi_"+e,t)}catch(e){}},t.calculateDuration=function(e){return new Date-e});t.StopWatch=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timers={}}return r(e,[{key:"start",value:function(e){this.timers[e]=new Date}},{key:"stop",value:function(e){var t=this.timers[e];t&&(a(e,i(t)),delete this.timers[e])}}]),e}()},function(e,t,n){"use strict";t.__esModule=!0,t.UNDEFINED_INPUT_ERROR=t.INVALID_BUFFER=t.isEnd=t.END=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.emitter=function(){var e=[];return{subscribe:function(t){return e.push(t),function(){return(0,a.remove)(e,t)}},emit:function(t){for(var n=e.slice(),r=0,a=n.length;r<a;r++)n[r](t)}}},t.channel=d,t.eventChannel=p,t.stdChannel=function(e){var t=p((function(t){return e((function(e){e[a.SAGA_ACTION]?t(e):(0,o.asap)((function(){return t(e)}))}))}));return r({},t,{take:function(e,n){arguments.length>1&&((0,a.check)(n,a.is.func,"channel.take's matcher argument must be a function"),e[a.MATCH]=n),t.take(e)}})};var a=n(179),i=n(426),o=n(427),c=t.END={type:"@@redux-saga/CHANNEL_END"},s=t.isEnd=function(e){return e&&"@@redux-saga/CHANNEL_END"===e.type};var u=t.INVALID_BUFFER="invalid buffer passed to channel factory function",l=t.UNDEFINED_INPUT_ERROR="Saga was provided with an undefined action";function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.buffers.fixed(),t=!1,n=[];function r(){if(t&&n.length)throw(0,a.internalErr)("Cannot have a closed channel with pending takers");if(n.length&&!e.isEmpty())throw(0,a.internalErr)("Cannot have pending takers with non empty buffer")}return(0,a.check)(e,a.is.buffer,u),{take:function(i){r(),(0,a.check)(i,a.is.func,"channel.take's callback must be a function"),t&&e.isEmpty()?i(c):e.isEmpty()?(n.push(i),i.cancel=function(){return(0,a.remove)(n,i)}):i(e.take())},put:function(i){if(r(),(0,a.check)(i,a.is.notUndef,l),!t){if(!n.length)return e.put(i);for(var o=0;o<n.length;o++){var c=n[o];if(!c[a.MATCH]||c[a.MATCH](i))return n.splice(o,1),c(i)}}},flush:function(n){r(),(0,a.check)(n,a.is.func,"channel.flush' callback must be a function"),t&&e.isEmpty()?n(c):n(e.flush())},close:function(){if(r(),!t&&(t=!0,n.length)){var e=n;n=[];for(var a=0,i=e.length;a<i;a++)e[a](c)}},get __takers__(){return n},get __closed__(){return t}}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.buffers.none(),n=arguments[2];arguments.length>2&&(0,a.check)(n,a.is.func,"Invalid match function passed to eventChannel");var r=d(t),o=function(){r.__closed__||(c&&c(),r.close())},c=e((function(e){s(e)?o():n&&!n(e)||r.put(e)}));if(r.__closed__&&c(),!a.is.func(c))throw new Error("in eventChannel: subscribe should return a function to unsubscribe");return{take:r.take,flush:r.flush,close:o}}},function(e,t,n){"use strict";t.__esModule=!0,t.buffers=t.BUFFER_OVERFLOW=void 0;var r=n(179),a=t.BUFFER_OVERFLOW="Channel's Buffer overflow!",i=1,o=3,c=4,s={isEmpty:r.kTrue,put:r.noop,take:r.noop};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments[1],n=new Array(e),r=0,s=0,u=0,l=function(t){n[s]=t,s=(s+1)%e,r++},d=function(){if(0!=r){var t=n[u];return n[u]=null,r--,u=(u+1)%e,t}},p=function(){for(var e=[];r;)e.push(d());return e};return{isEmpty:function(){return 0==r},put:function(d){if(r<e)l(d);else{var f=void 0;switch(t){case i:throw new Error(a);case o:n[s]=d,u=s=(s+1)%e;break;case c:f=2*e,n=p(),r=n.length,s=n.length,u=0,n.length=f,e=f,l(d)}}},take:d,flush:p}}t.buffers={none:function(){return s},fixed:function(e){return u(e,i)},dropping:function(e){return u(e,2)},sliding:function(e){return u(e,o)},expanding:function(e){return u(e,c)}}},function(e,t,n){"use strict";t.__esModule=!0,t.asap=function(e){r.push(e),a||(o(),s())},t.suspend=o,t.flush=s;var r=[],a=0;function i(e){try{o(),e()}finally{c()}}function o(){a++}function c(){a--}function s(){c();for(var e=void 0;!a&&void 0!==(e=r.shift());)i(e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return g}));var r=n(4),a=n(32),i=n(2),o=n(16),c=n(236),s=n(17),u=regeneratorRuntime.mark(b),l="createApplicationView",d=Object(r.Map)({applicationTemplate:null}),p=function(e,t){var n=t.payload;return e.set("applicationTemplate",n.applicationTemplate)},f=function(e){return{type:Object(s.b)(l,"SET_APPLICATION_TEMPLATE"),payload:{applicationTemplate:e},reducer:p}},m=Object(o.createSelector)((function(e){return e.pages[l]}),(function(e){return e.get("applicationTemplate")}));function b(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e&&c.a.find((function(t){return t.id===e}))){n.next=5;break}return n.next=4,Object(i.put)(Object(a.h)("/create/application"));case 4:return n.abrupt("return",!1);case 5:return n.next=7,Object(i.put)(f(t));case 7:return n.abrupt("return",!0);case 8:case"end":return n.stop()}}),u)}var g=function(e){return{appTemplate:m(e)}},y=new s.a({id:l,preview:"huesillo",initialState:d,init:b,load:function(e){return e.query.applicationId},resetStateOnInit:!0});t.a=y},function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var r=n(4),a=n(2),i=n(14),o=n(17),c=n(66),s=n(7),u=regeneratorRuntime.mark(p),l=Object(r.Map)(),d=function(e){return e.pages.begin};function p(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.select)(c.g);case 2:if(!(e=t.sent)){t.next=7;break}return t.next=6,Object(a.put)(Object(i.d)({message:e}));case 6:return t.abrupt("return",!1);case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}}),u)}var f=function(e){var t=Object(c.f)(e),n=t.getIn(["accountUsage","functionCount"]);return{error:d(e).get("error"),funcCount:n,funcSize:Object(s.m)(t.getIn(["accountUsage","totalCodeSize"])),hasFunctions:n>0}},m=new o.a({id:"begin",initialState:l,init:p,sidebar:!1});t.a=m},function(e,t,n){"use strict";n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return _}));var r=n(4),a=n(2),i=n(16),o=n(23),c=n(85),s=n(17);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=regeneratorRuntime.mark(O),f=regeneratorRuntime.mark(S),m=regeneratorRuntime.mark(j),b="createLayer",g=Object(r.Map)({creating:!1}),y=function(e){return e.set("creating",!0)},v=function(e){return e.set("creating",!1)},h=function(){return{type:Object(s.b)(b,"CREATE_LAYER_COMPLETE"),reducer:v}},E=Object(i.createSelector)((function(e){return e.pages[b]}),(function(e){return e.get("creating")}));function O(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.put)(Object(o.i)(b,{entryType:"upload",compatibleRuntimes:[]}));case 2:case"end":return e.stop()}}),p)}function S(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),f)}function j(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.layer,n.next=3,Object(a.call)(c.f,t,"createLayer");case 3:return n.next=5,Object(a.put)(h());case 5:case"end":return n.stop()}}),m)}var T=function(e){return{creating:E(e),entryType:Object(o.c)(e,b,"entryType")}},x=function(e){return{createLayer:function(t){return e(function(e){return{type:Object(s.b)(b,"CREATE_LAYER"),payload:{layer:e},reducer:y}}(t))}}},_=function(e,t,n){return l({},n,{},e,{},t,{createLayer:function(e){var n={codeSource:e.entryType,upload:e.upload,s3:e.s3};t.createLayer(l({},e,{data:n}))}})},w=new s.a({id:b,preview:"layette",initialState:g,init:S,load:O,sidebar:!1,watchers:[{matcher:Object(s.b)(b,"CREATE_LAYER"),task:j}]});t.a=w},function(e,t,n){"use strict";n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return S}));var r=n(4),a=n(2),i=n(16),o=n(14),c=n(92),s=n(85),u=n(39),l=n(17),d=regeneratorRuntime.mark(h),p=regeneratorRuntime.mark(E),f="listLayers",m=Object(r.Map)({refreshing:!1}),b=function(e,t){var n=t.payload;return e.set("refreshing",n.refreshing)},g=function(e){return{type:Object(l.b)(f,"SET_IS_REFRESHING"),payload:{refreshing:e},reducer:b}},y=function(){return{type:Object(l.b)(f,"REFRESH_TABLE")}},v=Object(i.createSelector)((function(e){return e.pages[f]}),(function(e){return e.get("refreshing")}));function h(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.put)(y());case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),d)}function E(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.put)(g(!0));case 2:return e.next=4,Object(a.put)(Object(c.e)(Object(r.List)()));case 4:return e.prev=4,e.next=7,Object(a.call)(s.b);case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(4),e.next=13,Object(a.put)(Object(o.d)({message:e.t0.message,scope:f}));case 13:return e.next=15,Object(a.put)(g(!1));case 15:case"end":return e.stop()}}),p,null,[[4,9]])}var O=function(e){return{layers:u.c.getLayersList(e).toArray(),refreshing:v(e)}},S=function(e){return{refreshTable:function(){return e(y())}}},j=new l.a({id:f,preview:"layette",initialState:m,init:h,hasHelpContent:!0,watchers:[{matcher:Object(l.b)(f,"REFRESH_TABLE"),task:E}]});t.a=j},function(e,t,n){"use strict";n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return N})),n.d(t,"d",(function(){return C}));var r=n(4),a=n(2),i=n(16),o=n(23),c=n(85),s=n(17),u=n(29),l=n(48);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=regeneratorRuntime.mark(w),b=regeneratorRuntime.mark(R),g=regeneratorRuntime.mark(A),y="createLayerVersion",v=Object(r.Map)({creating:!1,layerVersions:Object(r.List)()}),h=function(e){return e.set("creating",!0)},E=function(e){return e.set("creating",!1)},O=function(){return{type:Object(s.b)(y,"CREATE_LAYER_VERSION_COMPLETE"),reducer:E}},S=function(e,t){var n=t.payload;return e.set("layerVersions",Object(r.fromJS)(n.layerVersions)).set("loadingVersions",!1)},j=function(e){return{type:Object(s.b)(y,"SET_LAYER_VERSIONS"),payload:{layerVersions:e},reducer:S}},T=function(e){return e.pages[y]},x=Object(i.createSelector)(T,(function(e){return e.get("creating")})),_=Object(i.createSelector)(T,(function(e){return e.get("layerVersions")}));function w(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.put)(Object(o.i)(y,{entryType:"upload",compatibleRuntimes:[]}));case 2:case"end":return e.stop()}}),m)}function R(){var e,t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(a.select)(u.b);case 2:return e=r.sent,t=e.params.layerName,r.next=6,Object(l.g)(t).run();case 6:return n=r.sent,r.next=9,Object(a.put)(j(n));case 9:return r.abrupt("return",!0);case 10:case"end":return r.stop()}}),b)}function A(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.layerVersion,n.next=3,Object(a.call)(c.f,t,"createLayerVersion");case 3:return n.next=5,Object(a.put)(O());case 5:case"end":return n.stop()}}),g)}var I=function(e){var t;return{creating:x(e),entryType:Object(o.c)(e,y,"entryType"),layerName:Object(u.b)(e).params.layerName,latestVersion:(null===(t=_(e).map((function(e){return e.get("version")})).max())||void 0===t?void 0:t.toString())||""}},N=function(e){return{createLayerVersion:function(t){return e(function(e){return{type:Object(s.b)(y,"CREATE_LAYER_VERSION"),payload:{layerVersion:e},reducer:h}}(t))}}},C=function(e,t,n){return p({},n,{},e,{},t,{createLayerVersion:function(n){var r={codeSource:n.entryType,upload:n.upload,s3:n.s3};t.createLayerVersion(p({},n,{data:r,layerName:e.layerName}))}})},k=new s.a({id:y,preview:"layette",initialState:v,init:R,load:w,sidebar:!1,watchers:[{matcher:Object(s.b)(y,"CREATE_LAYER_VERSION"),task:A}]});t.a=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(111),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){var n=a({},e,t);return{query:n,search:"?"+o.default.stringify(n)}}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));n(944);var r=n(0),a=n.n(r),i=n(6),o=n(13),c=n(67),s=(n(949),n(505)),u=n(453),l=n(506),d=n(31),p=n(459),f=n(502),m=n(504),b=n(503),g=n(5),y=n(9);e.onerror=function(e,t,n,r,a){return Object(g.handleError)(e,t,n,r,a)},i.AwsUi.config({production:!0,logLevel:3});var v=Object(d.c)((function(){return n.e(3).then(n.bind(null,977))})),h=Object(d.c)((function(){return n.e(3).then(n.bind(null,978))})),E=Object(d.c)((function(){return n.e(1).then(n.bind(null,979))})),O=Object(d.c)((function(){return n.e(1).then(n.bind(null,990))})),S=Object(d.c)((function(){return n.e(1).then(n.bind(null,991))})),j=Object(d.c)((function(){return n.e(1).then(n.bind(null,982))})),T=Object(d.c)((function(){return n.e(1).then(n.bind(null,986))})),x=Object(d.c)((function(){return n.e(6).then(n.bind(null,985))})),_=Object(d.c)((function(){return n.e(6).then(n.bind(null,980))})),w=Object(d.c)((function(){return n.e(6).then(n.bind(null,981))})),R=Object(d.c)((function(){return n.e(6).then(n.bind(null,989))})),A=Object(d.c)((function(){return n.e(6).then(n.bind(null,987))})),I=Object(d.c)((function(){return n.e(17).then(n.bind(null,984))})),N=Object(d.c)((function(){return n.e(17).then(n.bind(null,983))})),C=Object(d.c)((function(){return n.e(17).then(n.bind(null,988))}));function k(){return a.a.createElement(o.Provider,{store:Object(b.a)({full:!0})},a.a.createElement(c.a,{forRoute:"/"},a.a.createElement("span",null,y.f.includes("huesillo")?a.a.createElement("span",null,a.a.createElement(c.a,{forRoute:"/create/application/configure"},a.a.createElement(E,null)),a.a.createElement(c.a,{forRoute:"/create/application/view"},a.a.createElement(S,null)),a.a.createElement(c.a,{forRoute:"/create/application"},a.a.createElement(O,null))):null,y.f.includes("serverless-registry")?a.a.createElement("span",null,a.a.createElement(c.a,{forRoute:"/create/app"},a.a.createElement(I,null)),a.a.createElement(c.a,{forRoute:"/status"},a.a.createElement(C,null))):null,y.f.includes("layette")?a.a.createElement("span",null,a.a.createElement(c.a,{forRoute:"/add/layer"},a.a.createElement(x,null)),a.a.createElement(c.a,{forRoute:"/create/layer"},a.a.createElement(_,null)),a.a.createElement(c.a,{forRoute:"/layers/:layerName/create/version"},a.a.createElement(w,null)),a.a.createElement(c.a,{forRoute:"/layers/:layerName/versions/:version"},a.a.createElement(A,null)),a.a.createElement(c.a,{forRoute:"/layers"},a.a.createElement(R,null))):null,y.f.includes("dittograph")?a.a.createElement("span",null,a.a.createElement(c.a,{forRoute:"/add/database-proxy"},a.a.createElement(s.a,null))):null,a.a.createElement(c.a,{forRoute:"/add/relation"},a.a.createElement(u.a,null)),y.f.includes("cba")?a.a.createElement("span",null,a.a.createElement(c.a,{forRoute:"/applications/:applicationName/deployment/:deploymentId"},a.a.createElement(l.a,null))):null,a.a.createElement(c.a,{forRoute:"/create/function/configure/blueprint"},a.a.createElement(p.a,null)),a.a.createElement(c.a,{forRoute:"/create/function"},a.a.createElement(N,null)),a.a.createElement(c.a,{forRoute:"/applications/:applicationName"},a.a.createElement(j,null)),a.a.createElement(c.a,{forRoute:"/applications"},a.a.createElement(T,null)),a.a.createElement(c.a,{forRoute:"/functions/:functionName"},a.a.createElement(f.a,null)),a.a.createElement(c.a,{forRoute:"/functions"},a.a.createElement(m.a,null)),a.a.createElement(c.a,{forRoute:"/begin"},a.a.createElement(v,null)),a.a.createElement(c.a,{forRoute:"/discover"},a.a.createElement(h,null)))))}}).call(this,n(37))},function(e,t,n){var r;e.exports=(r=n(46),r.enc.Hex)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(6),s=n(4),u=n(18),l=n.n(u),d=n(3),p=n(13),f=n(187),m=n(36),b=n(113),g=n(28),y=n(184),v=n(86),h=n(31),E=n(137),O=n(7),S=n(9);function j(e,t){var n=e.type,r=e.nodes,i=e.otherType,o=e.setOtherType,u=t.intl,l=u.formatMessage({id:"addRelation.type.".concat(n)}),d=Object(s.Map)(r[n]).filter((function(e){return null==e?void 0:e.isAvailable})).sortBy((function(e){return e.getDisplayName()})).map((function(e){return{id:e.id,label:e.getDisplayName(),iconUrl:e.icon,tags:e.categories.concat(e.keywords).sort()}})).toArray(),p=!d.length,f=d;if(S.f.includes("encephalon")&&(p=p||!r.thirdParty,r.thirdParty&&!r.thirdParty.isEmpty())){var m=r.thirdParty.map((function(e){return{id:e.id,label:e.name,description:e.description,iconUrl:e.logo}})).toArray();f.push({id:"thirdParty",label:u.formatMessage({id:"addRelation.nodeSelector.thirdParty.label"}),options:m})}return a.a.createElement(c.Select,{id:"node-selector",className:"awsui-util-mb-s",enableFiltering:!0,triggerVariant:"option",options:f,loading:p,selectedId:i,onChange:function(e){return o(e.detail.selectedId)},placeholder:u.formatMessage({id:"addRelation.nodeSelector.placeholder"},{type:l})})}function T(e,t){var n=e.type,r=t.intl,i=r.formatMessage({id:"addRelation.type.".concat(n)}),o=[{text:r.formatMessage({id:"addRelation.header"},{type:i}),href:"#/add/relation"}];return a.a.createElement(b.a,{items:o})}function x(e){var t=e.adding,n=e.config,r=e.nodes,i=e.relation,o=e.add,s=e.cancel,u=e.setOtherType,l=e.updateRelation,p=n.toJS(),f=p.type,b=p.sourceType,S=p.target,x=p.targetType,_=p.focus,w=p.nodeId;if(!f)return null;var R,A=a.a.createElement(d.FormattedMessage,{id:"addRelation.type.".concat(f)}),I=_===b?x:b,N=_===b?r.lambda:r[f][w],C=_===b?r[f][w]:r.lambda,k=N&&C;(null==I?void 0:I.startsWith("aws.partner/"))&&(R={partner:I});var P,D=!1;"cloudfront"!==I||Object(O.S)(new O.e(S).qualifier)||(D=!0,P=E.b);var M=a.a.createElement("div",null,a.a.createElement(c.Button,{variant:"link",onClick:s},a.a.createElement(d.FormattedMessage,{id:"cancel"})),a.a.createElement(c.Button,{variant:"primary",onClick:o,disabled:D,loading:t},a.a.createElement(d.FormattedMessage,{id:"add.button.submit"}))),L=null;return k?L=P?a.a.createElement(P,{target:S,sourceDefinition:N}):a.a.createElement(y.a,{type:f,source:i.get("identifier"),target:S,data:i.get("data"),metadata:R,persistedState:i.get("persistedState"),validation:i.get("validation"),focus:_,sourceDefinition:N,targetDefinition:C,onChange:l}):I&&(L=a.a.createElement(h.a,null)),a.a.createElement(v.a,{id:"addRelation",breadcrumbs:a.a.createElement(T,{type:f})},a.a.createElement(m.a,{scope:"addRelation"}),a.a.createElement(g.d,{id:"addRelation",header:a.a.createElement(d.FormattedMessage,{tagName:"h1",id:"addRelation.header",values:{type:A}}),actions:M},a.a.createElement(c.FormSection,{header:a.a.createElement(d.FormattedMessage,{id:"addRelation.section.".concat(f)})},a.a.createElement(j,{type:f,nodes:r,otherType:I,setOtherType:u}),L)))}j.propTypes={type:o.a.string.isRequired,nodes:o.a.object.isRequired,otherType:o.a.string,setOtherType:o.a.func.isRequired},j.contextTypes={intl:d.intlShape.isRequired},T.propTypes={type:o.a.string.isRequired},T.contextTypes={intl:d.intlShape.isRequired},x.propTypes={adding:o.a.bool.isRequired,config:l.a.map.isRequired,nodes:o.a.object.isRequired,relation:l.a.map.isRequired,add:o.a.func.isRequired,cancel:o.a.func.isRequired,setOtherType:o.a.func.isRequired,updateRelation:o.a.func.isRequired},t.a=Object(p.connect)(f.c,f.b,f.d)(x)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(4),a=n(9),i=n(33);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new RegExp(e.matcher);return function(n){return!e.matcher||!t.test(n)||(!e.preview||a.f.includes(e.preview))}}function f(e,t,n){return(n||t.static).filter(p(t.itemVisible)).map((function(n){return{value:n,text:e.getMessage("schema.".concat(t.id,".").concat(n))||n}}))}function m(e,t){var n,o=t.validation,s=Object(r.Map)().set("id","trigger.".concat(t.id)).set("data",Object(r.fromJS)(t)).set("label",e.getMessage("schema.".concat(t.id,".name"))).set("tooltip",e.formatMessage("schema.".concat(t.id,".description"))).set("isVisible",(n=t.visible||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(r.Map)();return n.equals?e.get(n.id)===n.equals:n.matches?new RegExp(n.matches).test(e.get(n.id)):!n.preview||a.f.includes(n.preview)}));if(t.dynamic)s=s.set("type",t.type),"select"===t.type&&(s=s.set("items",[]));else if(t.static)s=Array.isArray(t.static)?s.set("type","select").set("items",f(e,t)):"object"===c(t.static)?s.set("type","select").set("items",function(e,t){return function n(r){return Array.isArray(r)?f(e,t,r):Object.entries(r).filter((function(e){var n=d(e,1)[0];return p(t.itemVisible)(n)})).map((function(r){var a=d(r,2),i=a[0],o=a[1];return{value:i,text:e.getMessage("schema.".concat(t.id,".").concat(i))||i,children:n(o)}}))}(t.static)}(e,t)).set("duplicateGroupHeadersInOptions",!0):s.set("type","number"==typeof t.static?"number":"text").set("defaultValue",t.static);else{var m=t.type||{boolean:"checkbox",timestamp:"timestamp",integer:"number"}[o.type]||"text";s=s.set("type",m)}return"text"===s.get("type")&&(s=s.set("placeholder",e.getMessage("schema.".concat(t.id,".placeholder")))),"number"===s.get("type")&&(s=s.set("min",o.minimum).set("max",o.maximum)),"select"===s.get("type")&&(s=s.set("enum",t.enum||!!o.enum)),"array"===o.type&&(s=s.set("multi",!0)),o.default&&!s.get("defaultValue")&&(s=s.set("defaultValue",o.default)),s=s.set("schema",new i.c(function(e,t){var n=u({},t.validation,{messages:["type","required","minimum","maximum","pattern"].reduce((function(n,r){return u({},n,l({},r,e.getMessage("schema.".concat(t.id,".validation.").concat(r))||i.b[r]))}),{})});return"timestamp"===t.type&&(n.type="string",n.pattern=a.r,n.messages.pattern=i.b.timestamp),n.allowEmpty=!n.required,n.required=n.required||!1,n.messages.allowEmpty=n.messages.required,delete n.enum,delete n.default,n}(e,t)))}var b=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=Object.entries(n.properties).map((function(e){var t=d(e,2),r=t[0],i=t[1];return u({id:r},a[r],{validation:u({},i,{required:n.required.includes(r)})})}));this.parameters=Object(r.List)(i).map((function(e){return m(t,e)}))}var t,n,a;return t=e,(n=[{key:"apply",value:function(e){var t=this;Object.entries(e).forEach((function(e){var n=d(e,2),r=n[0],a=n[1],i=t.parameters.findIndex((function(e){return e.getIn(["data","id"])===r}));-1!==i&&("select"===t.parameters.getIn([i,"data","type"])?t.parameters=t.parameters.setIn([i,"items"],a):t.parameters=t.parameters.setIn([i,"defaultValue"],a))}))}},{key:"getParameter",value:function(e){return this.parameters.find((function(t){return t.getIn(["data","id"])===e}))}}])&&o(t.prototype,n),a&&o(t,a),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t,n){return t.reduce((function(e,t){return e.update(t,Object(r.Set)(),(function(e){return e.add(n)}))}),e)}function o(e){return e.reduceRight((function(e,t){var n=a(e,2),r=n[0],i=n[1];return[r.unshift(t.subtract(i)),i.union(t)]}),[Object(r.List)(),Object(r.Set)()])[0]}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return Object(r.Map)(e).map(t).filter((function(e){return Array.isArray(e)&&e.length})).reduce(i,Object(r.Map)()).map((function(e,t,n){return function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(r.List)();if(n.isEmpty())return a;var i=n.flatMap((function(e){return t.get(e)}));return e(t,i,a.push(n))}(n,e)})).map(o).toJS()}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(4),s=n(18),u=n.n(s),l=n(41),d=n(42),p=n(11),f=n(9);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){b(i,r,a,o,c,"next",e)}function c(e){b(i,r,a,o,c,"throw",e)}o(void 0)}))}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O,S,j,T=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=v(this,h(n).call(this,e))).state={initialized:!1},t}var r,a,i,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(n,t),r=n,(a=[{key:"componentDidMount",value:function(){this._mounted=!0,this.initialize(this.props.definition)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.definition.id!==this.props.definition.id&&this.initialize(e.definition)}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"onCall",value:(u=g(regeneratorRuntime.mark((function e(t,n,r,a){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._mounted&&this.props.setLoading(!0),e.next=4,p.a.invokeNodeAction({id:t,action:n,payload:JSON.stringify(r)});case 4:i=e.sent,a(null,JSON.parse(i.body.payload)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),this._mounted&&this.props.alert({type:"error",message:e.t0.message}),a(e.t0);case 12:return e.prev=12,this._mounted&&this.props.setLoading(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[0,8,12,15]])}))),function(e,t,n,r){return u.apply(this,arguments)})},{key:"initialize",value:(s=g(regeneratorRuntime.mark((function e(t){var n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.setLoading(!0),n=t.id,l.f.reset(this.props.focus,n),l.f.onCall(this.props.focus,(function(e,t,a){return r.onCall(n,e,t,a)})),l.f.onChange(this.props.focus,(function(e){return r.props.onChange(Object(c.fromJS)(e))})),!this.loadScript(t)){e.next=9;break}return e.next=9,l.f.load(this.props.focus);case 9:this.props.setLoading(!1),this.setState({initialized:!0});case 11:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"loadScript",value:function(t){var n=t.id,r="lw-".concat(n);if(e.document.getElementById(r))return!1;var a=t["x-lambda"].widget.hash,i=a?"".concat(n,"-").concat(a):n,o=e.lambda.cdn,c=e.document.createElement("script");return c.id=r,c.type="text/javascript",c.src="".concat(o.substring(0,o.lastIndexOf("/")),"/integrations/").concat(i,".js"),c.crossOrigin="anonymous",e.document.body.appendChild(c),!0}},{key:"render",value:function(){var t=this,n=(e.registeredWidgets[this.props.definition.id]||{}).component,r=null;if(n&&this.state.initialized){var a=this.props.persistedState,i={config:this.props.definition,target:this.props.target,otherDefinition:this.props.otherDefinition,features:f.f,metadata:this.props.metadata};r=o.a.createElement(n,{persistState:function(e){return t.props.onChange(Object(c.fromJS)({persistedState:e}))},persistedState:null==a?void 0:a.toJS(),data:i,value:this.props.data.toJS()})}return o.a.createElement("div",{className:"node-pane needs-old-form-field-override"},r)}}])&&y(r.prototype,a),i&&y(r,i),n}(o.a.Component);O=T,S="propTypes",j={type:a.a.string.isRequired,target:a.a.string,data:u.a.map.isRequired,metadata:a.a.object,persistedState:u.a.map,validation:u.a.map,focus:a.a.string.isRequired,definition:d.c.isRequired,otherDefinition:d.c.isRequired,alert:a.a.func.isRequired,onChange:a.a.func.isRequired,onInit:a.a.func.isRequired,setLoading:a.a.func.isRequired},S in O?Object.defineProperty(O,S,{value:j,enumerable:!0,configurable:!0,writable:!0}):O[S]=j}).call(this,n(37))},function(e,t,n){!function(e){function t(){var e=Reflect.construct(HTMLElement,[],this.constructor);return e.shadowRoot=e.attachShadow({mode:"open"}),e}t.prototype=Object.create(HTMLElement.prototype),t.observedAttributes=["value","label"],t.prototype.constructor=t,Object.setPrototypeOf(t,HTMLElement),t.prototype.attributeChangedCallback=function(e,t,n){if(this.registered)switch(e){case"label":this.label.textContent=n;break;default:this.text.textContent=n.toString()+"%",this.filler.style.height=parseInt(n)+"%"}},t.prototype.connectedCallback=function(){var e=document.createElement("style"),t=document.createElement("div");t.innerHTML="<div class='traffic-jug'><div class='traffic-jug-label'></div><div class='traffic-jug-container'><div class='traffic-jug-text'></div><div class='traffic-jug-filler' style='height: 100%;'></div></div></div>",e.textContent=".traffic-jug {} \n .traffic-jug-label { \n     margin-bottom: 1rem; \n     color: #879596; \n } \n .traffic-jug-container { \n     background-color: #d5dbdb; \n     height: 10rem; \n     position: relative; \n     width: 12.5rem; \n     display: inline-block; \n } \n .traffic-jug-text { \n     text-align: center; \n     vertical-align: middle; \n     line-height: 10rem; \n     position: relative; \n     text-shadow: 0 0.1rem 0 rgba(0,0,0,.05); \n     font-family: Arial-BoldMT,Arial Bold,Arial,sans-serif; \n     font-weight: 700; \n     font-size: 3.6rem; \n     color: #fff; \n     z-index: 100; \n } \n .traffic-jug-filler { \n     background-color: #0073bb; \n     height: 0; \n     width: 12.5rem; \n     position: absolute; \n     bottom: 0; \n }",this.shadowRoot.appendChild(e),this.shadowRoot.appendChild(t),this.label=this.shadowRoot.querySelector(".traffic-jug-label"),this.text=this.shadowRoot.querySelector(".traffic-jug-text"),this.filler=this.shadowRoot.querySelector(".traffic-jug-filler"),this.label.textContent=this.getAttribute("label"),this.text.textContent=this.getAttribute("value").toString()+"%",this.filler.style.height=this.getAttribute("value")+"%",this.registered=!0},"undefined"!=typeof customElements&&customElements.define("aws-jug",t),e.AwsJug="aws-jug"}(t)},function(e,t,n){!function(e){function t(e){return{type:"error",content:e.message,dismissible:!0}}function n(e){for(var t={},n=0;n<e.length;n++){var r=e[n];if(!(r.faultRootCauses.length<1)){r.faultRootCauses[0];for(var a=r.faultRootCauses[0].services,i={executionPath:"",count:0},o=0;o<a.length;o++)if("AWS::Lambda::Function"===a[o].type)for(var c=a[o].entityPath,s=0;s<c.length;s++){var u=c[s].exceptions;i.name=u[u.length-1].name,i.message=u[u.length-1].message,i.executionPath+=" -> "+c[s].name+"("+i.name+")"}t.hasOwnProperty(i.executionPath)?t[i.executionPath].count++:t[i.executionPath]=i}}return Object.values(t)}function r(e,t,n,r){return r?{method:"post",url:"services/ajax?operation="+e,data:{service:t,api:e,operation:"proxyAwsCall",payload:n}}:{method:"POST",url:"/elasticbeanstalk/service/sam/"+e,data:n}}function a(e){this.lambdaAdaptiveShifting="CodeDeployDefault.LambdaAdaptiveShifting",this.baseUrl=e.baseUrl||!1,this.deploymentId=e.deploymentId,this.ajax=e.getFunction,this.createElement=e.createElement||!1,this.dateFormatter=e.dateFormatter,this.icon=e.icon,this.setState=e.setState,this.flashMessages=[],this.locale=document.getElementById("awsc-mezz-locale")?document.getElementById("awsc-mezz-locale").content:"en"}a.prototype.eventTableColumnDefinitions=function(){var e=this.createElement,t=this.dateFormatter;return[{id:"Event",header:"Event",cell:function(e){return e.eventName}},{id:"Type",header:"Type",cell:function(e){return e.type}},{id:"Timestamp",header:"Timestamp",cell:function(n){return n.timestamp?e&&t?(r=e,a=t,i=n.timestamp,r(a,{value:i})):new Date(n.timestamp).toString().substring(0,21):"-";var r,a,i}},{id:"Message",header:"Message",cell:function(e){return e.message}}]},a.prototype.failureTableColumnDefinitions=function(){return[{id:"Root cause name",header:"Root cause name",cell:function(e){return e.name}},{id:"Root cause message",header:"Root cause message",cell:function(e){return e.message}},{id:"Count",header:"Count",cell:function(e){return e.count}},{id:"Execution path",header:"Execution path",cell:function(e){return e.executionPath}}]},a.prototype.intervalLength=15e3,a.prototype.localizationLookup={},a.prototype.pageSizeOptions=[{value:5,label:"5"},{value:10,label:"10"},{value:20,label:"20"}],a.prototype.completeDeployment=function(){var e=this,n=r("forceCompleteAdaptiveTrafficShift","codedeploy.AmazonCodeDeploy",{deploymentId:this.deploymentId},this.createElement);this.ajax(n).then(window.location.reload,(function(n){e.flashMessages.push(t(n)),e.setState({error:e.flashMessages})}))},a.prototype.stopDeployment=function(){var e=this,n=r("stopDeployment","codedeploy.AmazonCodeDeploy",{deploymentId:this.deploymentId},this.createElement);this.ajax(n).then(window.location.reload,(function(n){e.flashMessages.push(t(n)),e.setState({error:e.flashMessages})}))},a.prototype.getDeploymentConfig=function(e){var n=this,a=r("getDeploymentConfig","codedeploy.AmazonCodeDeploy",{deploymentConfigName:e},this.createElement);this.ajax(a).then((function(e){n.setState({trafficRoutingConfigType:e.body.deploymentConfigInfo.trafficRoutingConfig.type})}),(function(e){n.flashMessages.push(t(e)),n.setState({error:n.flashMessages})}))},a.prototype.startPollingInterval=function(){this.events=[];var e=this,n=this.setState,a=this.flashMessages,i=this.deploymentId,o={deploymentId:i},c=["stopped","skipped","failed"],s=function(){var s=function(r){e.cancel(),a.push(t(r)),n({error:a})},l=r("getDeployment","codedeploy.AmazonCodeDeploy",o,e.createElement),d=r("listDeploymentTargets","codedeploy.AmazonCodeDeploy",o,e.createElement),p=r("getDeploymentTarget","codedeploy.AmazonCodeDeploy",{deploymentId:i},e.createElement),f=r("listDeploymentEvents","codedeploy.AmazonCodeDeploy",o,e.createElement);e.ajax(l).then((function(r){var i=r.body.deploymentInfo.status,o=r.body.deploymentInfo.deploymentConfigName;o.includes("CodeDeployDefault")||e.getDeploymentConfig(o),e.setState({cdApplicationName:r.body.deploymentInfo.applicationName,status:r.body.deploymentInfo.status,deploymentConfigName:o,deploymentGroup:r.body.deploymentInfo.deploymentGroupName,revisionLocation:r.body.deploymentInfo.revision.string.sha256,createTime:r.body.deploymentInfo.createTime,completeTime:r.body.deploymentInfo.completeTime}),null!==r.body.deploymentInfo.errorInformation&&(a.push(t(r.body.deploymentInfo.errorInformation)),n({error:a})),"succeeded"===i.toLowerCase()?(n({lastUpdatedTime:r.body.deploymentInfo.completeTime,replacementWeight:1,originalWeight:0}),clearInterval(u)):c.includes(i.toLowerCase())&&(n({lastUpdatedTime:r.body.deploymentInfo.completeTime,originalWeight:1,replacementWeight:0}),clearInterval(u))}),s),e.ajax(d).then((function(t){l.data.payload?p.data.payload.targetId=t.body.targetIds[0]:p.data.targetId=t.body.targetIds[0],e.ajax(p).then((function(t){var r=0;null!==t.body.deploymentTarget.lambdaTarget.lambdaFunctionInfo.targetVersion&&(r=t.body.deploymentTarget.lambdaTarget.lambdaFunctionInfo.targetVersionWeight,n({originalWeight:1-r,replacementWeight:r})),n({lastUpdated:t.body.deploymentTarget.lambdaTarget.lastUpdatedAt});var a=t.body.deploymentTarget.lambdaTarget.targetArn,i=a.toLowerCase().indexOf(":live");a=a.substring(0,i),e.targetId=a,n({lastUpdated:t.body.deploymentTarget.lambdaTarget.lastUpdatedAt,targetArn:a})}),s)}),s),n({eventsLoading:!0}),e.ajax(f).then((function(t){e.events=t.body.deploymentEvents,n({eventsLoading:!1,events:t.body.deploymentEvents||[]})}),s)},u=setInterval(s,this.intervalLength);this.interval=u,s()},a.prototype.getTraceSummaries=function(e,r){var a=this.events.length,i={method:"post",url:"services/ajax?operation=getTraceSummaries",data:{startTime:new Date(this.events[0].timestamp).getTime(),endTime:new Date(this.events[a-1].timestamp).getTime(),targetArn:this.targetId,nextToken:e,operation:"getTraceSummaries"}},o=this,c=r||[],s=this.getTraceSummaries;return this.setState({failuresLoading:!0}),this.ajax(i).then((function(t){c=c.concat(t.body.traceSummaries),t.body.nextToken?s(e,c):o.setState({failuresLoading:!1,failures:n(c)})}),(function(e){o.flashMessages.push(t(e)),o.setState({failuresLoading:!1,error:o.flashMessages})}))},a.prototype.cancel=function(){this.interval&&clearInterval(this.interval)},e.DeploymentDetailsModel=a}(t)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(6),s=n(4),u=n(18),l=n.n(u),d=n(3),p=n(13),f=n(159),m=n(25),b=n(86),g=n(113),y=n(36),v=n(245),h=n(246),E=n(96),O=n(62),S=n(65),j=n(41),T=n(184),x=n(247),_=n(7),w=n(27),R=n(33);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){I(i,r,a,o,c,"next",e)}function c(e){I(i,r,a,o,c,"throw",e)}o(void 0)}))}}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){var n=e.blueprint,r=t.intl,i=r.formatMessage({id:"authorFromScratch"});n&&(i=r.formatMessage({id:"create.breadcrumbsTitleWithBlueprint"},{blueprint:n}));var o=[{text:r.formatMessage({id:"functions.title"}),href:"#/functions"},{text:r.formatMessage({id:"create.title"}),href:"#/create/function"},{text:i,href:"#/create/function/configure/blueprint?blueprint=".concat(n)}];return a.a.createElement(g.a,{items:o})}L.propTypes={blueprint:o.a.string},L.contextTypes={intl:d.intlShape.isRequired};var F=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=k(this,P(t).call(this,e,n))).getMessage=function(e){return n.intl.formatMessage({id:e})},r.state={validating:!1},r}var n,r,i,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,e),n=t,(r=[{key:"removeTrigger",value:function(){this.props.updateTrigger(Object(s.fromJS)({data:{id:""}}))}},{key:"validate",value:(u=N(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.refreshAlerts(),(t=Object(R.i)(this.props.createFields)).isEmpty()){e.next=6;break}return t.forEach((function(e,t){return o.props.validateField("create.".concat(t),Object(R.g)(t,"create"))})),t.forEach((function(e,t){return o.props.validationError({scope:"configureBlueprint",message:{id:O.a[t]||t},key:t})})),e.abrupt("return",!1);case 6:if(!this.props.existingFunctionNames.includes(this.props.functionName)){e.next=10;break}return this.props.validationError({scope:"configureBlueprint",message:{id:O.a.name},key:"name"}),e.abrupt("return",!1);case 10:if(n=!0,r=this.props.trigger.getIn(["data","id"]),a="cloudfront"===r,!r||a){e.next=26;break}return e.prev=14,e.next=17,j.f.submit();case 17:i=e.sent,(n=!i||i.valid)&&this.props.updateTrigger(Object(s.fromJS)(i)),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(14),this.props.error({scope:"configureBlueprint",message:{id:"trigger.create.error",values:{error:e.t0.message}}}),n=!1;case 26:if(n){e.next=29;break}return this.props.validationError({scope:"configureBlueprint",message:{id:"triggers"},key:"triggers"}),e.abrupt("return",!1);case 29:return e.abrupt("return",!0);case 30:case"end":return e.stop()}}),e,this,[[14,22]])}))),function(){return u.apply(this,arguments)})},{key:"create",value:(o=N(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.refreshAlerts(),this.setState({validating:!0}),e.prev=2,e.next=5,this.validate();case 5:!1!==e.sent?this.props.createFunction():Object(_.ab)();case 7:return e.prev=7,this.setState({validating:!1}),e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[2,,7,10]])}))),function(){return o.apply(this,arguments)})},{key:"render",value:function(){var e,t=this.props,n=t.functionName,r=t.isQuickstart,i=t.runtime,o=t.trigger,s=r?a.a.createElement("div",{className:"awsui-util-mb-l"},a.a.createElement(c.Alert,{header:a.a.createElement(d.FormattedMessage,{id:"create.quickstart.header"})},a.a.createElement(d.FormattedMessage,{id:"create.quickstart.new.content"}))):null,u=o.getIn(["data","id"]),l=this.props.integrations[u],p=l&&u&&"cloudfront"!==u?a.a.createElement("div",{className:"awsui-util-container"},a.a.createElement("div",{className:"awsui-util-container-header"},a.a.createElement(m.a,{header:a.a.createElement(d.FormattedMessage,{id:"trigger.create.header.title",values:{trigger:l.getDisplayName()}})},a.a.createElement(c.Button,{text:this.context.intl.formatMessage({id:"remove"}),onClick:this.removeTrigger.bind(this)}))),a.a.createElement(T.a,{type:"trigger",source:o.getIn(["data","identifier"]),target:_.e.fromFunctionName(n).arn,data:o.get("data"),persistedState:o.get("persistedState"),validation:o.get("validation"),focus:"lambda",sourceDefinition:l,targetDefinition:this.props.lambdaNode,onChange:this.props.updateTrigger})):null,f=null;(null===(e=this.props.blueprint)||void 0===e?void 0:e.config.config.lambda.Environment)&&(f=a.a.createElement(v.b,{context:"create"}));var g=this.props.blueprint?a.a.createElement(m.d,{header:a.a.createElement(d.FormattedMessage,{id:"create.configureFunction.code.title"}),description:a.a.createElement(d.FormattedHTMLMessage,{id:"create.configureFunction.new.code.runtime.text",values:{docPage:Object(w.i)("deploymentPackage",i)}})},a.a.createElement(c.FormField,{label:"".concat(this.getMessage(O.a.runtime)),hintText:Object(w.r)(i)}),a.a.createElement("div",{className:"code-section"},a.a.createElement(E.a,{type:"code",id:"create.inline",mode:Object(w.j)(i),readonly:!0,toolbar:!0})),f):null,j=this.props.creating||this.state.validating,A=a.a.createElement("div",null,a.a.createElement(c.Button,{variant:"link",href:"#/create/function"},a.a.createElement(d.FormattedMessage,{id:"cancel"})),a.a.createElement(c.Button,{className:"next",variant:"primary",onClick:this.create.bind(this),disabled:j,loading:j},a.a.createElement(d.FormattedMessage,{id:"wizard.button.done"}))),I=a.a.createElement("div",null,a.a.createElement(d.FormattedMessage,{id:"create.configureFunction.basics.title"}),a.a.createElement(S.a,{message:a.a.createElement(d.FormattedHTMLMessage,{id:"configureBlueprint.helpContent"})}));return a.a.createElement(b.a,{id:"configureBlueprint",breadcrumbs:a.a.createElement(L,{blueprint:this.props.blueprintName})},a.a.createElement(c.Form,{actions:A},s,a.a.createElement(y.a,{scope:"configureBlueprint"}),a.a.createElement(m.d,{header:I},a.a.createElement(E.a,{type:"text",id:"create.name",label:"".concat(this.getMessage(O.a.name)),placeholder:"myFunctionName",error:this.props.existingFunctionNames.includes(n)?this.getMessage("error.frontend.create.existingFunction"):"",schema:R.e.name}),a.a.createElement(x.a,{context:"create"})),p,g),a.a.createElement(h.b,{context:"create"}))}}])&&C(n.prototype,r),i&&C(n,i),t}(a.a.Component);M(F,"propTypes",{blueprint:o.a.object,blueprintName:o.a.string,createFields:l.a.map,creating:o.a.bool.isRequired,existingFunctionNames:o.a.arrayOf(o.a.string).isRequired,functionName:o.a.string,integrations:o.a.object.isRequired,isQuickstart:o.a.bool.isRequired,lambdaNode:o.a.object.isRequired,runtime:o.a.string,trigger:l.a.map.isRequired,refreshAlerts:o.a.func,validateField:o.a.func,validationError:o.a.func,createFunction:o.a.func,error:o.a.func,updateTrigger:o.a.func.isRequired,visit:o.a.func.isRequired}),M(F,"contextTypes",{intl:d.intlShape.isRequired}),t.a=Object(p.connect)(f.d,f.c)(F)},function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(6),s=n(3),u=n(13),l=n(65),d=n(14),p=n(69),f=n(62),m=n(11);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){v(i,r,a,o,c,"next",e)}function c(e){v(i,r,a,o,c,"throw",e)}o(void 0)}))}}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=O(this,S(t).call(this,e,n))).state={kmsKeys:[]},r}var n,r,a,i,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:(u=h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getKmsKeys();case 2:this.getKmsArnOption();case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getKmsKeys",value:(i=h(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.listKmsKeys();case 3:t=e.sent,this.setState({kmsKeys:y(t.body)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.error(e.t0.message);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return i.apply(this,arguments)})},{key:"getKmsArnOption",value:function(){this.setState({kmsArnOption:this.checkDefaultKmsKey(this.props.previousKmsArn)?"default":"customer"})}},{key:"checkDefaultKmsKey",value:function(e){return!e||!!this.state.kmsKeys.find((function(t){return"aws/lambda"===t.text&&t.value===e}))}},{key:"changeKmsArnOption",value:function(e){this.setState({kmsArnOption:e}),"default"===e&&this.props.setField("kmsKeyArn","")}},{key:"render",value:function(){var e=this,t={default:this.context.intl.formatMessage({id:"envVars.defaultKmsKey"}),customer:this.context.intl.formatMessage({id:"envVars.customerKmsKey"})},n=this.props.readonly?o.a.createElement("span",null,t[this.state.kmsArnOption]):o.a.createElement(c.RadioGroup,{onChange:function(t){return e.changeKmsArnOption(t.detail.value)},value:this.state.kmsArnOption,items:Object.entries(t).map((function(e){var t=g(e,2);return{value:t[0],label:t[1]}}))}),r="default"===this.state.kmsArnOption?null:o.a.createElement(p.a,{name:"kmsKeyArn",type:"select",nodeId:this.props.nodeId,context:this.props.context,readonly:this.props.readonly,items:this.state.kmsKeys.filter((function(e){return"aws/lambda"!==e.text})),empty:this.context.intl.formatMessage({id:"envVars.defaultKmsKey"}),searchable:!0,allowManualValues:!0}),a=o.a.createElement("span",null,o.a.createElement("span",null,this.context.intl.formatMessage({id:f.a.kmsKeyArn})),o.a.createElement(l.a,{message:o.a.createElement(s.FormattedHTMLMessage,{tagName:"p",id:"kmsKeyArn.description.html"})}));return o.a.createElement("div",null,o.a.createElement(c.FormField,{label:a,description:this.props.readonly?null:o.a.createElement(s.FormattedMessage,{id:"envVars.fields.kmsKeyArn.info"})},n),r)}}])&&E(n.prototype,r),a&&E(n,a),t}(o.a.Component);T(x,"propTypes",{context:a.a.string,nodeId:a.a.string,readonly:a.a.bool,previousKmsArn:a.a.string,error:a.a.func.isRequired,setField:a.a.func.isRequired}),T(x,"contextTypes",{intl:s.intlShape.isRequired}),t.a=Object(u.connect)((function(e,t){var n=t.nodeId;return{previousKmsArn:n?Object(p.b)({state:e,nodeId:n,field:"kmsKeyArn"}):null}}),(function(e,t){var n=t.nodeId,r=t.context;return{error:function(t){return e(Object(d.d)({message:t}))},setField:function(t,a){return e(Object(p.d)({nodeId:n,context:r,field:t,value:a}))}}}))(x)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(6),s=n(3),u=n(13),l=n(14),d=n(96),p=n(11),f=n(33);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E,O,S,j=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=y(this,v(t).call(this,e))).state={kmsKeys:[]},n}var n,r,i,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.getKmsKeys()}},{key:"getKmsKeys",value:(o=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.listKmsKeys();case 3:t=e.sent,n=t.body.filter((function(e){return"aws/lambda"!==e.text})),this.setState({kmsKeys:n}),0===n.length&&this.props.showWarningForNoKmsKeys(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.props.showError(e.t0.message);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})),u=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){b(a,n,r,i,c,"next",e)}function c(e){b(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return u.apply(this,arguments)})},{key:"render",value:function(){var e=d.b.select;return a.a.createElement(c.FormField,{label:a.a.createElement(s.FormattedMessage,{id:"envVars.fields.kmsKeyTransit.label"}),errorText:this.props.errorMessage},a.a.createElement(e,{readonly:this.props.readonly,items:this.state.kmsKeys,disabled:this.props.disabled,schema:f.e.kmsKeyArn,error:this.props.errorMessage,onChange:this.props.changeKmsEncryptionKey,value:this.props.kmsEncryptionKey||"",allowManualValues:!0}))}}])&&g(n.prototype,r),i&&g(n,i),t}(a.a.Component);E=j,O="propTypes",S={disabled:o.a.bool,errorMessage:o.a.string,readonly:o.a.bool,showWarningForNoKmsKeys:o.a.func.isRequired,kmsEncryptionKey:o.a.string,changeKmsEncryptionKey:o.a.func.isRequired,showError:o.a.func.isRequired},O in E?Object.defineProperty(E,O,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[O]=S;t.a=Object(u.connect)(null,(function(e){return{showError:function(t){return e(Object(l.d)({message:t}))}}}))(j)},function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(6),s=n(56),u=n.n(s),l=n(4),d=n(18),p=n.n(d),f=n(3),m=n(13),b=n(211),g=n(464),y=n(465),v=n.n(y),h=n(10),E=n(43),O=n(20),S=n(31),j=n(42),T=n(7),x=n(9),_=n(5);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){var t=e.message;return a.a.createElement("div",{className:"placeholder-card"},a.a.createElement("div",{className:"awsui-util-d-ib awsui-util-ml-s"},a.a.createElement(f.FormattedMessage,{id:t})))};k.propTypes={message:o.a.string.isRequired};var P=function(e,t){var n=e.focus,r=e.nodes,i=e.onChangeFunction,o=t.intl,s=r.filter((function(e){return"function"===e.get("type")&&e.get("id")!==n})).map((function(e){return{id:e.get("id"),label:e.get("name")}})).toJS();return s.length?a.a.createElement("div",null,a.a.createElement(f.FormattedMessage,{tagName:"small",id:"designer.relatedFunctions.label"}),a.a.createElement("div",{className:"function-select"},a.a.createElement(c.Select,{enableFiltering:!0,filteringPlaceholder:o.formatMessage({id:"designer.relatedFunctions.filter"}),options:s,className:"designer-dropdown",placeholder:o.formatMessage({id:"designer.relatedFunctions.placeholder"}),onChange:i}))):null};P.propTypes={focus:o.a.string.isRequired,nodes:p.a.listOf(j.e).isRequired,onChangeFunction:o.a.func.isRequired},P.contextTypes={intl:f.intlShape.isRequired};var D=[{id:"permissions",icon:a.a.createElement(v.a,null)}],M=function(e){var t=e.onClickItem,n=e.selectedItem;return a.a.createElement("div",{className:"designer-toolbar"},D.map((function(e){var r=e.id,i=e.icon;return a.a.createElement(c.Tooltip,{key:r,position:"bottom",text:a.a.createElement(f.FormattedMessage,{id:"designer.toolbar.".concat(r)})},a.a.createElement("div",{className:u()("awsui-util-container","awsui-util-no-gutters","designer-card-container",{selected:n===r}),onClick:function(){return t(r)}},a.a.createElement("div",null,i)))})))};M.propTypes={onClickItem:o.a.func.isRequired,selectedItem:o.a.string};var L=o.a.shape({loading:o.a.bool,type:o.a.string.isRequired}),F=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=A(this,I(n).call(this,e))).state={nodes:Object(l.Map)()},t}var r,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(n,t),r=n,(i=[{key:"UNSAFE_componentWillMount",value:function(){this.stackNodes(this.props.nodes)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.stackNodes(e.nodes)}},{key:"onChangeFunction",value:function(e){var t=this.props.nodes.filter((function(t){return t.get("name")===e.detail.selectedOption.label})).getIn([0,"id"]);this.props.changeFunction(t)}},{key:"getStackStatesKey",value:function(e){return e.get("name")+e.get("type")}},{key:"stackNodes",value:function(e){var t=this,n=Object(l.Map)();e.forEach((function(e){return n=n.update(t.getStackStatesKey(e),Object(l.List)(),(function(t){return t.concat(e.get("states")).filter((function(e,t,n){return n.findIndex((function(t){return t.get("type")===e.get("type")}))===t}))}))}));var r=e.map((function(e){return e.set("states",n.get(t.getStackStatesKey(e))||Object(l.List)())})).filter((function(e,t,n){return n.findIndex((function(t){return Object(O.d)(t,e)}))===t}));this.setState((function(){return{nodes:r}}))}},{key:"clickToolbarItem",value:function(e){this.props.onClickToolbarItem(e)}},{key:"selectNode",value:function(t){var n=this.props.nodes.filter((function(e){return Object(O.d)(e,t)}));this.props.onClickNodes(n);var r=this.designer.getBoundingClientRect().bottom,a=e.innerHeight,i=this.canvas.scrollTop;r>a-100&&(this.scroller.style.bottom="".concat(Math.max(r-a+60,28)-i,"px"),Array.from(this.scroller.children).forEach((function(e,t){return setTimeout((function(){e.style.opacity=1,setTimeout((function(){e.style.opacity=0}),500)}),150*t)})))}},{key:"deleteNode",value:function(e){this.props.onDeleteNode(e)}},{key:"updateNodeState",value:function(e,t){this.props.onUpdateNodeState(e,t)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.navigateToAddDestination,i=n.focus,o=n.nodes,s=n.readonly,u=n.leftNodes,d=n.rightNodes,p=n.topMessage,m=o.find((function(e){return e.get("id")===i}))||Object(l.Map)({id:i,type:"function",name:null==i?void 0:i.split(":").pop(),states:Object(l.List)(),icon:function(){return a.a.createElement("div",null)}}),y=null,v=null,h=null;if(x.f.includes("layette")&&i&&(null==o?void 0:o.size)){var E=o.find((function(e){return"layer"===e.get("id")}));E&&(h=a.a.createElement(b.a,{key:"layer",selected:this.props.selectedNodes.includes("layer"),node:E,count:m.getIn(["data","layers"]).size,selectNode:this.selectNode.bind(this),deleteNode:this.deleteNode.bind(this),updateNodeState:this.updateNodeState.bind(this),readonly:s}))}p&&(v=a.a.createElement("div",{className:"awsui-alert awsui-alert-type-warning designer-top-message",role:"alert"},a.a.createElement("div",{className:"awsui-alert-content awsui-util-t-c"},a.a.createElement("div",{"awsui-alert-region":"content"},p))));var j=a.a.createElement("div",null);s||(j=a.a.createElement(c.Button,{id:"add-trigger",icon:"add-plus",href:"#/add/relation?type=trigger&targetType=lambda&target=".concat(i),onClick:function(){return Object(_.logEvent)(_.EVENT_NAMES.TRIGGER_ADD)}},a.a.createElement(f.FormattedMessage,{id:"trigger.create.title"})));var w=s?a.a.createElement("div",null):a.a.createElement("div",null,a.a.createElement(k,{message:"designer.placeholder.".concat(d.type)}));if(!s&&x.f.includes("starfish")){var R=new T.e(i),A=R.functionName,I=R.qualifier;w=a.a.createElement(c.Button,{className:"awsui-util-f-r",id:"add-destination",icon:"add-plus",onClick:function(){r(A,I),Object(_.logEvent)(_.EVENT_NAMES.DESTINATION_ADD)}},a.a.createElement(f.FormattedMessage,{id:"destination.create.title"}))}this.state.nodes.size&&(y=a.a.createElement("div",{className:"awsui-grid"},a.a.createElement("div",{className:"awsui-row awsui-util-no-gutters"},a.a.createElement("div",{className:"col-4"}),a.a.createElement("div",{className:"col-4 function-and-layer"},a.a.createElement(b.a,{key:i,selected:this.props.selectedNodes.includes(i),node:m,selectNode:this.selectNode.bind(this),deleteNode:this.deleteNode.bind(this),updateNodeState:this.updateNodeState.bind(this),readonly:s}),h),a.a.createElement("div",{className:"col-4"},a.a.createElement(P,{nodes:o,focus:i,onChangeFunction:this.onChangeFunction.bind(this)}))),a.a.createElement("div",{className:"awsui-row awsui-util-no-gutters"},a.a.createElement("div",{className:"col-6 left-column"},a.a.createElement(S.b,{cond:u.loading},this.state.nodes.filter((function(e){return e.get("type")===u.type})).map((function(e){return a.a.createElement(b.a,{key:e.get("id"),selected:t.props.selectedNodes.includes(e.get("id")),node:e,count:o.filter((function(t){return Object(O.d)(t,e)})).size,selectNode:t.selectNode.bind(t),deleteNode:t.deleteNode.bind(t),updateNodeState:t.updateNodeState.bind(t),readonly:s})})),j)),a.a.createElement("div",{className:"col-6 right-column"},a.a.createElement(S.b,{cond:d.loading},this.state.nodes.filter((function(e){return e.get("type")===d.type})).map((function(e){return a.a.createElement(b.a,{key:e.get("id"),selected:t.props.selectedNodes.includes(e.get("id")),node:e,count:o.filter((function(t){return Object(O.d)(t,e)})).size,selectNode:t.selectNode.bind(t),deleteNode:t.deleteNode.bind(t),updateNodeState:t.updateNodeState.bind(t),readonly:s})})),w))),Object(T.P)("parmigiana")?null:a.a.createElement(M,{onClickItem:this.clickToolbarItem.bind(this),selectedItem:this.props.selectedToolbarItem}),a.a.createElement("div",{className:"scroller",ref:function(e){return t.scroller=e}},a.a.createElement(c.Icon,{size:"big",variant:"disabled",name:"caret-down-filled"}),a.a.createElement(c.Icon,{size:"big",variant:"disabled",name:"caret-down-filled"}),a.a.createElement(c.Icon,{size:"big",variant:"disabled",name:"caret-down-filled"}))));var N=null===(e=this.props.appDesignerExpand)||void 0===e||e;return a.a.createElement(g.a,{id:"designer",expandedInitially:N,setUserPreference:this.props.setUserPreference},a.a.createElement("div",{className:"app-designer",ref:function(e){return t.designer=e}},a.a.createElement("section",{className:"canvas",ref:function(e){return t.canvas=e}},v,y)))}}])&&R(r.prototype,i),o&&R(r,o),n}(a.a.Component);C(F,"propTypes",{nodes:p.a.listOf(j.e).isRequired,edges:p.a.listOf(j.b).isRequired,appDesignerExpand:o.a.bool,focus:o.a.string.isRequired,selectedNodes:p.a.listOf(o.a.string).isRequired,selectedToolbarItem:o.a.string,leftNodes:L.isRequired,rightNodes:L.isRequired,topMessage:o.a.node,onClickNodes:o.a.func.isRequired,onClickToolbarItem:o.a.func.isRequired,onDeleteNode:o.a.func.isRequired,onUpdateNodeState:o.a.func.isRequired,setUserPreference:o.a.func.isRequired,readonly:o.a.bool,changeFunction:o.a.func.isRequired,navigateToAddDestination:o.a.func.isRequired}),C(F,"contextTypes",{intl:f.intlShape.isRequired});t.a=Object(m.connect)(null,(function(e){return{changeFunction:function(t){return e(Object(E.e)(t))},navigateToAddDestination:function(t,n){e(Object(h.I)(!0)),e(Object(E.d)(t,n,"destination",null,!0))}}}))(F)}).call(this,n(37))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(4),a=n(9),i=n(27),o=n(7),c=n(33),s=n(70),u=n(26);function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p=e.validationMessages,f={MAX_UPLOAD_SIZE:52428800,VALID_FILE_EXTENSIONS:["zip","jar","war"]},m={description:{type:"string",maxLength:256},memory:{type:"integer",minimum:a.k,maximum:a.h},timeout:{type:"integer",minimum:a.l,maximum:a.i},runtime:{type:"string",enum:i.e,errorMessage:{enum:p.enum,required:p.required}},handler:{type:"string",minLength:1,maxLength:128,pattern:"^\\S*$",errorMessage:{pattern:p["handler.pattern"]}},upload:{type:"object",properties:{size:{type:"integer",maximum:f.MAX_UPLOAD_SIZE,errorMessage:{maximum:p["upload.conform"].replace("{maxSize}",Object(o.m)(f.MAX_UPLOAD_SIZE))}},name:{type:"string",pattern:"\\.(".concat(f.VALID_FILE_EXTENSIONS.join("|"),")$"),errorMessage:{pattern:p["upload.conform"].replace("{maxSize}",Object(o.m)(f.MAX_UPLOAD_SIZE))}}},errorMessage:{required:p["upload.required"]}},s3:{type:"string",maxLength:2e3,pattern:"^$|".concat(o.g),errorMessage:{pattern:p["s3.pattern"]}},existingRole:{type:"string",pattern:"^arn:".concat(Object(o.t)(),":iam::\\d{12}:role/?[a-zA-Z_0-9+=,.@\\-/]+$"),maxLength:607,errorMessage:{pattern:p["role.pattern"]}},roleName:{type:"string",maxLength:51,pattern:"^[a-zA-Z0-9+=,.@_-]+$"},subnetIds:{type:"array",minItems:1,maxItems:16,items:{type:"string"},errorMessage:{minItems:p["vpc.subnetsMin"],maxItems:p["vpc.subnetsMax"]}},securityGroupIds:{type:"array",minItems:1,maxItems:16,items:{type:"string"},errorMessage:{minItems:p["vpc.securityGroupsMin"],maxItems:p["vpc.securityGroupsMax"]}},kmsKeyArn:{type:"string",pattern:"^$|^(arn:".concat(Object(o.t)(),":kms:.*:\\d{12}:key/[a-z0-9-]+)$"),errorMessage:{pattern:p["kmsKeyArn.pattern"]}},envVars:{type:"array",allItemsHaveUniqueProperty:"key",errorMessage:{allItemsHaveUniqueProperty:p["keyValueList.uniqueKeys"]},items:{type:"object",properties:{key:{type:"string",minLength:1,pattern:"^[a-zA-Z][a-zA-Z0-9_]*$",errorMessage:{minLength:p["keyValueList.key.allowEmpty"],pattern:p["envVars.key.pattern"]}},value:{type:"string",errorMessage:{patern:p["envVars.value.blueprintsPlaceholderNotChanged"]}},isEncrypted:{type:"boolean"},isEncryptingOrDecrypting:{type:"boolean"}}}},tags:{type:"object",properties:{userTags:{type:"array",maxItems:50,allItemsHaveUniqueProperty:"key",errorMessage:{allItemsHaveUniqueProperty:p["keyValueList.uniqueKeys"]},items:{type:"object",properties:{key:{type:"string",minLength:1,maxLength:128,pattern:"^(?!(aws|lambda):).*$",errorMessage:{minLength:p["keyValueList.key.allowEmpty"],pattern:p["tags.key.pattern"]}},value:{type:"string",maxLength:256},isEncrypted:{type:"boolean"},isEncryptingOrDecrypting:{type:"boolean"}}}}}}},b={required:["timeout","memory","runtime","handler","kmsKeyArn"],properties:{description:m.description,timeout:m.timeout,memory:m.memory,runtime:m.runtime,handler:m.handler,kmsKeyArn:m.kmsKeyArn,envVars:m.envVars,tags:m.tags},allOf:[{if:{properties:{vpcId:{not:{const:"_novpc"}}}},then:{properties:{subnetIds:m.subnetIds,securityGroupIds:m.securityGroupIds}}},{if:{properties:{roleSelectionType:{const:"template"}}},then:{properties:{roleName:m.roleName}},else:{properties:{existingRole:m.existingRole}}},{if:{properties:{codeSource:{const:"upload"}}},then:{properties:{upload:m.upload}}},{if:{properties:{codeSource:{const:"s3"}}},then:{properties:{s3:m.s3}}}]},g=new c.d(b),y={runtime:function(e){var t=e.get("runtime"),n=Object(i.x)(t,e.get("codeSize"));return e.set("codeSource",n?"inline":"upload")}};function v(e,t,n,a,i,o){var c=[u.a.NEEDS_SAVE,u.a.HAS_VALIDATION_ERRORS],p=e.hasIn(["data","alias"])||"$LATEST"!==e.getIn(["data","version"]),f=e.update("states",(function(e){return e.filter((function(e){return!c.includes(e.get("type"))}))}));if(f=f.setIn(["data"].concat(d(n.split("."))),a),y[n]){var m=y[n](f.get("data"));f=f.set("data",m)}Object(s.c)(f,t)&&(f=f.update("states",(function(e){return e.push(Object(u.e)())})));var b=null;if(!p){var v=g.validate(f.get("data").toJS()),h=v.errors,E=l(v,["errors"]).valid;b=E?null:Object(r.fromJS)(h),"reservedConcurrentExecutions"===n&&(E=E&&!o.hasError),E||(f=f.update("states",(function(e){return e.push(Object(u.c)())})))}return{editedNode:f,validationErrors:b}}}).call(this,n(37))},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(3),s=n(6),u=n(5);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b,g,y,v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=p(this,f(t).call(this,e))).state={expanded:e.expandedInitially||!1},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(r=[{key:"onSectionChange",value:function(e){Object(u.logEvent)("cfg_".concat(this.props.id,"_").concat(e.detail.expanded?"expand":"collapse")),this.setState({expanded:e.detail.expanded}),this.props.setUserPreference({appDesignerExpand:this.state.expanded})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.children;return a.a.createElement(s.FormSection,{id:"".concat(t,"Section"),header:a.a.createElement(c.FormattedMessage,{id:"functionDetail.sections.".concat(t,".title")}),expandable:!0,expanded:this.state.expanded,onChange:this.onSectionChange.bind(this)},n)}}])&&d(n.prototype,r),i&&d(n,i),t}(a.a.Component);b=v,g="propTypes",y={id:o.a.string.isRequired,expandedInitially:o.a.bool,children:o.a.node.isRequired,setUserPreference:o.a.func.isRequired},g in b?Object.defineProperty(b,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):b[g]=y},function(e,t,n){var r=n(0);function a(e){return r.createElement("svg",e,r.createElement("g",{transform:"translate(103.2 -35.05) scale(-2.063 2.063)"},r.createElement("path",{d:"M49 48h-2.94a1 1 0 0 1-.69-.28L43.6 46H39a1 1 0 0 1-1-1v-2.59L36.59 41H34a1 1 0 0 1-1-1v-2.71l-.38-.61a10.06 10.06 0 0 1-3.45.6 10.15 10.15 0 0 1-5.47-18.72c.27-.18.55-.34.83-.49s.63-.3.94-.43A10.15 10.15 0 0 1 27 17.2a7.65 7.65 0 0 1 .81-.13H28.53a4.34 4.34 0 0 1 .63-.05 10.19 10.19 0 0 1 10.19 10.1 9 9 0 0 1-.62 3.51l11 11a1 1 0 0 1 .29.7V47A1 1 0 0 1 49 48zm-2.53-2H48v-3.27L36.83 31.56a1 1 0 0 1-.22-1.08 7.09 7.09 0 0 0 .73-3.34A8.18 8.18 0 0 0 29.17 19H28.05a4.31 4.31 0 0 0-.61.1 8.28 8.28 0 0 0-1.24.34c-.21.09-.49.21-.75.35a7.33 7.33 0 0 0-.67.39A8.09 8.09 0 0 0 21 27.12a8.17 8.17 0 0 0 11.59 7.41 1 1 0 0 1 1.27.37l1 1.57A1 1 0 0 1 35 37v2h2a1 1 0 0 1 .71.29l2 2A1 1 0 0 1 40 42v2h4a1 1 0 0 1 .7.28zm-19-17a3.61 3.61 0 0 1-2.61-1.1 3.69 3.69 0 0 1 5.23-5.22 3.61 3.61 0 0 1 1.1 2.61A3.72 3.72 0 0 1 27.45 29zm0-5.26a1.69 1.69 0 0 0-1.2.5 1.7 1.7 0 1 0 2.4 2.4 1.68 1.68 0 0 0 0-2.39 1.75 1.75 0 0 0-1.22-.51z"})))}a.defaultProps={version:"1.1",viewBox:"0 0 64 64"},e.exports=a,a.default=a},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(205),s=n.n(c),u=n(18),l=n.n(u),d=n(3),p=n(467),f=n(7),m=n(40),b=n(5),g=n(468),y=n(9);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}s.a.prototype.stopCallback=function(){return!1};var T=function(e,t){return"".concat(e,"-").concat(t,"-").concat(Object(f.H)(),"-").concat(Object(f.K)())},x=function(t){function n(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=E(this,O(n).call(this,t))).state={fullscreen:!1},r.initVFS(t.unzipped),r.origin=e.location.origin,r}var r,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(n,t),r=n,(i=[{key:"componentDidMount",value:function(){var t=this;b.logEvent("ideTryLoad"),s.a.bind(["command+shift+f","ctrl+shift+f"],this.toggleFullscreenBinding.bind(this));var n=e.lambda.ideCdn;n.startsWith("/")&&(n=e.location.origin),n=n.split("/").slice(0,3).join("/"),this.api=new p.a(e,this.iframe.contentWindow,n,"application/x-cloud9-lite-v1+json"),this.api.handle("init",(function(e,n){n(null,{features:y.f,identity:t.identity})})),this.api.on("lambda.metrics",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return b[e].apply(b,n)})),this.api.on("lambda.save",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t[e].apply(t,r)})),this.api.on("lambda.fullscreen",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t[e].apply(t,r)})),this.api.handle("lambda.invoke.call",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t[e].apply(t,r)})),this.api.on("lambda.invoke.emit",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t[e].apply(t,r)})),this.api.handle("lambda.vfs",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t[e].apply(t,r)})),this.api.handle("lambda.daemon",(function(e,n){"load"===e&&t.vfs&&void 0!==t.code&&n(null,"webappReady")})),this.iframe.src="".concat(e.lambda.ideCdn,"/index.html?fn=").concat(this.props.funcName,"&origin=").concat(this.origin,"&readonly=").concat(this.props.readonly)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(!this.props.unzipped&&e.unzipped&&this.initVFS(e.unzipped),e.codeSha256&&e.codeSha256!==this.props.codeSha256&&(this.vfs.uid=T(e.codeSha256,this.props.funcName),this.updateCodeAttributes({sha256:e.codeSha256}),this.cleanupStorage(this.props.codeSha256,this.props.funcName)),e.invokeFailureMessage&&e.invokeFailureMessage!==this.props.invokeFailureMessage){var t=this.context.intl.formatMessage({id:"executionResults.invokeFailureMessage.title"},{message:e.invokeFailureMessage});this.updateExecutionResults({message:t,error:!0})}else e.executionResults&&e.executionResults!==this.props.executionResults&&this.updateExecutionResults(e.executionResults.toJS());e.savedEvents&&e.savedEvents!==this.props.savedEvents&&this.updateTestEventsList(e.savedEvents.toJS()),e.eventIdToInvoke&&e.eventIdToInvoke!==this.props.eventIdToInvoke&&this.updateSelectedTestEvent(e.eventIdToInvoke),e.saveCodeResults&&e.saveCodeResults!==this.props.saveCodeResults&&this.sendCodeSaveSuccessNotice(e.saveCodeResults.toJS())}},{key:"componentWillUnmount",value:function(){s.a.unbind(["command+shift+f","ctrl+shift+f"]),this.props.unzipped&&this.api&&this.api.remove()}},{key:"initVFS",value:function(e){var t=this;if(e){var n=T(this.props.codeSha256,this.props.funcName);if(this.vfs=new g.a(e,n),!this.props.fileName)return void(this.code=null);this.vfs.load(n).then((function(e){return e&&t.props.setZip(e),t.vfs.cat(t.props.fileName)})).then((function(e){t.code=e})).catch((function(){t.code=null}))}}},{key:"toggleFullscreen",value:function(){this.setState((function(e){return{fullscreen:!e.fullscreen}}))}},{key:"cleanupStorage",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"function"==typeof t[t.length-1]&&t.pop();var r=new RegExp(f.G.apply(void 0,t));Object(f.o)(r),Object(m.a)(r)}},{key:"sendIdentity",value:function(e){e(null,this.identity)}},{key:"checkVFSCache",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),a=t.length?t[0]:this.vfs.uid;this.vfs.hasSnapshot(a).then((function(e){r(null,e)})).catch((function(e){r(e)}))}},{key:"handleZip",value:function(e){for(var t,n=this,r=["write","remove","rename","copy","load"],a=["ls","cat"],i=arguments.length,o=new Array(i>1?i-1:0),c=1;c<i;c++)o[c-1]=arguments[c];var s=o.pop();!this.props.readonly||a.includes(e)?(t=this.vfs)[e].apply(t,o).then((function(t){"deploy"===e?(n.props.setZip(t),n.props.saveCode(t),s(null,!0)):r.includes(e)?(n.props.setZip(t),s(null,!0)):s(null,t)})).catch((function(){s(!0)})):s(!0)}},{key:"sendEventsInfo",value:function(e){e(null,{selectedEventId:this.props.eventIdToInvoke,savedEvents:this.props.savedEvents.toJS()})}},{key:"testFunction",value:function(){this.props.testFunction()}},{key:"openTestEventsModal",value:function(){this.props.openTestEventsModal()}},{key:"selectEventIdToInvoke",value:function(e){this.props.selectEventIdToInvoke(e)}},{key:"toggleFullscreenBinding",value:function(){this.props.isFunctionSelected&&this.api&&this.api.emit("lambda.webapp.fullscreen","toggleFullscreen")}},{key:"updateCodeAttributes",value:function(e){this.api&&this.api.emit("lambda.webapp.ui","updateCodeAttributes",e)}},{key:"updateExecutionResults",value:function(e){this.api&&this.api.emit("lambda.webapp.invoke","updateExecutionResults",e)}},{key:"updateTestEventsList",value:function(e){this.api&&this.api.emit("lambda.webapp.invoke","updateTestEventsList",e)}},{key:"updateSelectedTestEvent",value:function(e){this.api&&this.api.emit("lambda.webapp.invoke","updateSelectedTestEvent",e)}},{key:"sendCodeSaveSuccessNotice",value:function(e){this.api&&this.api.emit("lambda.webapp.save","updateCodeSaveSuccessNotice",e)}},{key:"render",value:function(){var e=this,t=a.a.createElement("iframe",{id:"editor",ref:function(t){return e.iframe=t}});return a.a.createElement("div",{className:this.state.fullscreen?"fullscreen-ide":"ide-container"},t)}},{key:"identity",get:function(){return{code:this.code,initiallyOpenFileName:this.props.fileName,funcName:this.props.funcName,sha256:this.props.codeSha256,id:Object(f.K)(),region:Object(f.H)()}}}])&&h(r.prototype,i),o&&h(r,o),n}(a.a.Component);j(x,"propTypes",{unzipped:o.a.object,codeSha256:o.a.string.isRequired,fileName:o.a.string,funcName:o.a.string.isRequired,savedEvents:l.a.list.isRequired,eventIdToInvoke:o.a.string,executionResults:l.a.map.isRequired,invokeFailureMessage:o.a.string,saveCodeResults:l.a.map.isRequired,isFunctionSelected:o.a.bool,readonly:o.a.bool.isRequired,setZip:o.a.func.isRequired,saveCode:o.a.func.isRequired,testFunction:o.a.func.isRequired,openTestEventsModal:o.a.func.isRequired,selectEventIdToInvoke:o.a.func.isRequired}),j(x,"contextTypes",{intl:d.intlShape.isRequired})}).call(this,n(37))},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return u}));var u=function(e){function t(e,n,i,s){var u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(u=o(this,c(t).call(this))).page=e,u.remote=n,u.origin=i,u.messageType=s,u.listener=function(e){var t;e.origin===i&&e.source===n&&"object"===a(e.data)&&e.data.type===u.messageType&&e.data.channel&&(t=u)._broadcast.apply(t,[e.data.channel].concat(r(e.data.value)))},u.page.addEventListener("message",u.listener),u}var n,u,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,(u=[{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.remote.postMessage({channel:e,type:this.messageType,value:n},this.origin)}},{key:"remove",value:function(){this.page.removeEventListener("message",this.listener)}}])&&i(n.prototype,u),l&&i(n,l),t}(n(243).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(89),a=n.n(r),i=n(127),o=n.n(i),c=n(7),s=n(98);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){f(i,r,a,o,c,"next",e)}function c(e){f(i,r,a,o,c,"throw",e)}o(void 0)}))}}function b(e,t){return g.apply(this,arguments)}function g(){return(g=m(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],a=[],i=[],t.folder(n).forEach((function(e,t){e.endsWith("/")?i.push(e):(a.push(e),r.push(t.async("string")))})),e.next=6,Promise.all(r);case 6:return r=e.sent,e.abrupt("return",{files:r,filePaths:a,folderPaths:i});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,n){var r=n.folderPaths,a=n.filePaths,i=n.files;e.folder(t),r.forEach((function(n){e.folder("".concat(t,"/").concat(n))})),i.forEach((function(n,r){e.file("".concat(t,"/").concat(a[r]),n)}))}var v=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fs=t,this.uid=n,!a.a)throw l({},new Error,{message:{id:"error.browser"}})}var t,n,r,i,u,d,f,g,v,h,E,O,S,j,T,x,_,w,R,A,I;return t=e,(n=[{key:"ls",value:(I=m(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=t,"/"!==t.slice(-1)&&(r+="/"),this.fs.filter((function(e){return e.startsWith(t)})).forEach((function(e){var a=e.name.slice(t.length);if(a=a.startsWith("/")?a.slice(1):a){var i=a.split("/");if(1===i.length)n.push(e.name);else{var o=t?"".concat(r).concat(i[0],"/"):"".concat(i[0],"/");n.includes(o)||n.push(o)}}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return I.apply(this,arguments)})},{key:"cat",value:(A=m(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.fs.file(t))){e.next=6;break}return e.next=4,n.async("string");case 4:return r=e.sent,e.abrupt("return",r);case 6:throw(a=new Error).code="ENOENT",a;case 9:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"write",value:(R=m(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof n?(null!==(r=this.fs.file(t))&&(a=r.unixPermissions),this.fs.file(t,n,{unixPermissions:a})):this.fs.folder(t),e.prev=1,e.next=4,this.snapshot();case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),this.fs.remove(t),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e,t){return R.apply(this,arguments)})},{key:"_getExistingFile",value:(w=m(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.fs.file(t),r=n.unixPermissions,e.next=4,n.async("string");case 4:return a=e.sent,e.abrupt("return",{data:a,unixPermissions:r});case 6:case"end":return e.stop()}}),e,this)}))),function(e){return w.apply(this,arguments)})},{key:"_rm",value:(_=m(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getExistingFile(t);case 2:return n=e.sent,r=n.data,a=n.unixPermissions,this.fs.remove(t),e.prev=6,e.next=9,this.snapshot();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(6),this.fs.file(t,r,{unixPermissions:a}),e.t0;case 16:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(e){return _.apply(this,arguments)})},{key:"_rmdir",value:(x=m(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(this.fs,t);case 2:return n=e.sent,this.fs.remove(t),e.prev=4,e.next=7,this.snapshot();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),y(this.fs,t,n),e.t0;case 14:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return x.apply(this,arguments)})},{key:"remove",value:(T=m(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this[n?"_rmdir":"_rm"](t));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return T.apply(this,arguments)})},{key:"_mv",value:(j=m(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getExistingFile(n);case 2:return r=e.sent,a=r.data,i=r.unixPermissions,this.fs.file(t,a,{unixPermissions:i}),this.fs.remove(n),e.prev=7,e.next=10,this.snapshot();case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(7),this.fs.file(n,a,{unixPermissions:i}),this.fs.remove(t),e.t0;case 18:case"end":return e.stop()}}),e,this,[[7,13]])}))),function(e,t){return j.apply(this,arguments)})},{key:"_mvdir",value:(S=m(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(this.fs,n);case 2:return r=e.sent,y(this.fs,t,r),this.fs.remove(n),e.prev=5,e.next=8,this.snapshot();case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(5),y(this.fs,n,r),this.fs.remove(t),e.t0;case 16:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(e,t){return S.apply(this,arguments)})},{key:"rename",value:(O=m(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this[r?"_mvdir":"_mv"](t,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return O.apply(this,arguments)})},{key:"_cp",value:(E=m(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getExistingFile(n);case 2:return r=e.sent,a=r.data,i=r.unixPermissions,this.fs.file(t,a,{unixPermissions:i}),e.prev=6,e.next=9,this.snapshot();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(6),this.fs.remove(t),e.t0;case 16:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(e,t){return E.apply(this,arguments)})},{key:"_cpdir",value:(h=m(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(this.fs,n);case 2:return r=e.sent,y(this.fs,t,r),e.prev=4,e.next=7,this.snapshot();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),this.fs.remove(t),e.t0;case 14:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e,t){return h.apply(this,arguments)})},{key:"copy",value:(v=m(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this[r?"_cpdir":"_cp"](t,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return v.apply(this,arguments)})},{key:"_zipFS",value:(g=m(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fs.generateAsync(l({type:"blob"},s.a));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"deploy",value:(f=m(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._zipFS();case 2:return t=e.sent,e.next=5,Object(c.l)(t);case 5:return n=e.sent,e.next=8,o.a.removeItem(this.uid);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"snapshot",value:(d=m(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._zipFS();case 2:return t=e.sent,e.next=5,Object(c.l)(t);case 5:return n=e.sent,e.next=8,o.a.setItem(this.uid,t);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"hasSnapshot",value:(u=m(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:this.uid,e.next=3,o.a.getItem(t);case 3:return n=e.sent,e.abrupt("return",null!=n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"load",value:(i=m(regeneratorRuntime.mark((function e(){var t,n,r,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:this.uid,e.next=3,o.a.getItem(t);case 3:if(n=e.sent,this.uid!==t&&(this.uid=t),!n){e.next=11;break}return e.next=8,Promise.all([Object(c.l)(n),a.a.loadAsync(n,{base64:!0})]);case 8:return r=e.sent,this.fs=r[1],e.abrupt("return",r[0]);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})}])&&p(t.prototype,n),r&&p(t,r),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.Events=t.Dashboard=void 0;var r,a=n(950),i=(r=a)&&r.__esModule?r:{default:r};var o={debounce:n(307).debounce};t.Dashboard=i.default,t.Events=a.Events,t.utils=o},function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(13),s=n(18),u=n.n(s),l=n(6),d=n(3),p=n(31),f=n(7),m=n(22),b=n(8),g=n(27),y=function(t){var n=t.id,r=t.value,a=void 0===r?"":r,i=e.innerWidth/10,c=Math.min(10,a.split(/\r\n|\r|\n/).map((function(e){return Math.ceil((e.length+1)/i)})).reduce((function(e,t){return e+t})));return o.a.createElement(l.Textarea,{id:n,className:"awsui-util-mv-xs",readonly:!0,value:a,rows:c})};function v(e){var t,n=e.functionName,r=e.invoking,a=e.error,i=e.invokeFailureMessage;if(r)t=o.a.createElement(d.FormattedMessage,{id:"executionResults.pending.title"});else if(i)t=o.a.createElement(d.FormattedMessage,{id:"executionResults.invokeFailureMessage.title",values:{message:i}});else{var c=o.a.createElement("a",{href:"/cloudwatch/home?region=".concat(Object(f.H)(),"#logStream:group=%252Faws%252Flambda%252F").concat(encodeURIComponent(n)),target:"_blank",rel:"noopener noreferrer"},o.a.createElement(d.FormattedMessage,{id:"executionResults.logs.subtextLink"}));t=o.a.createElement("span",null,o.a.createElement(d.FormattedMessage,{id:"executionResults.".concat(a?"failed":"succeeded",".title")}),o.a.createElement("span",{className:"awsui-util-ml-xs"},o.a.createElement(d.FormattedMessage,{id:"wrapper",values:{value:c}})))}return o.a.createElement("h3",null,t)}function h(e){var t=e.results,n=e.codeSha256,r=["execId","duration","billed","size"],a=t.get("used");return t.get("initDuration")&&r.splice(1,0,"initDuration"),o.a.createElement("div",{className:"results-summary awsui-util-mv-s"},o.a.createElement("h3",{className:"awsui-util-mb-s"},o.a.createElement(d.FormattedMessage,{id:"executionResults.summary.title"})),o.a.createElement(l.ColumnLayout,{columns:2,borders:"vertical"},o.a.createElement("div",{"data-awsui-column-layout-root":!0},o.a.createElement("div",null,o.a.createElement("div",{className:"awsui-util-label"},o.a.createElement(d.FormattedMessage,{id:"config.codeSha256.label"})),o.a.createElement("div",null,n)),r.map((function(e){return o.a.createElement("div",{key:e},o.a.createElement("div",{className:"awsui-util-label"},o.a.createElement(d.FormattedMessage,{id:"executionResults.summary.".concat(e)})),o.a.createElement("div",null,t.get(e)))})),o.a.createElement("div",null,o.a.createElement("div",{className:"awsui-util-label"},o.a.createElement(d.FormattedMessage,{id:"executionResults.summary.used"})),o.a.createElement("div",null,a&&a===t.get("size")?o.a.createElement("span",{className:"awsui-util-status-negative"},o.a.createElement(l.Icon,{name:"status-warning"})," ",a):a)))))}function E(e){var t=e.functionName,n=e.logs,r=o.a.createElement("a",{href:"/cloudwatch/home?region=".concat(Object(f.H)(),"#logStream:group=%252Faws%252Flambda%252F").concat(encodeURIComponent(t)),target:"_blank",rel:"noopener noreferrer"},o.a.createElement(d.FormattedMessage,{id:"executionResults.logs.cloudwatchLink"}));return o.a.createElement("div",null,o.a.createElement(d.FormattedMessage,{tagName:"h3",id:"executionResults.logs.title"}),o.a.createElement(d.FormattedMessage,{id:"executionResults.logs.cloudwatchWrapper",values:{link:r}}),o.a.createElement(y,{id:"execution-logs",value:n}))}function O(e){var t=e.results,n=e.codeSha256,r=e.showExecutionResults,a=e.invoking,i=e.runtime,c=e.functionName,s=e.dismissExecutionResults,u=e.invokeFailureMessage;return o.a.createElement(p.b,{overlay:!0,className:"execution-results",cond:a},o.a.createElement(l.Alert,{type:t.get("error")||u?"error":"success",visible:r,dismissible:!0,onDismiss:s},o.a.createElement(v,{functionName:c,invoking:a,error:t.get("error"),invokeFailureMessage:u}),u?null:o.a.createElement(l.ExpandableSection,{header:o.a.createElement(d.FormattedMessage,{id:"details"})},o.a.createElement(d.FormattedHTMLMessage,{id:"executionResults.runtime.text.html",values:{docPage:Object(g.i)("programmingModel",i)}}),o.a.createElement(y,{id:"execution-result",value:t.get("message")}),o.a.createElement(h,{results:t,codeSha256:n}),o.a.createElement(E,{functionName:c,logs:t.get("logs")}))))}y.propTypes={id:a.a.string,value:a.a.string},v.propTypes={functionName:a.a.string,invoking:a.a.bool.isRequired,error:a.a.bool.isRequired,invokeFailureMessage:a.a.string},h.propTypes={results:u.a.map.isRequired,codeSha256:a.a.string},E.propTypes={functionName:a.a.string,logs:a.a.string.isRequired},O.propTypes={results:u.a.map.isRequired,codeSha256:a.a.string,invoking:a.a.bool.isRequired,showExecutionResults:a.a.bool.isRequired,runtime:a.a.string.isRequired,functionName:a.a.string,dismissExecutionResults:a.a.func.isRequired,invokeFailureMessage:a.a.string};t.a=Object(c.connect)((function(e){return{results:m.e.getExecutionResults(e),codeSha256:Object(b.s)(e),invoking:m.e.getIsInvoking(e),showExecutionResults:m.e.getShowExecutionResults(e),functionName:Object(b.w)(e),runtime:Object(b.x)(e)||g.a,invokeFailureMessage:m.e.getInvokeFailureMessage(e)}}),(function(e){return{dismissExecutionResults:function(){return e(m.c.dismissExecutionResults())}}}))(O)}).call(this,n(37))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var r=n(1),a=n.n(r),i=n(0),o=n.n(i),c=n(3),s=n(6),u=n(56),l=n.n(u),d=n(108),p=n(61),f=n(7),m=n(9);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var S=function(e){return{value:"",highlightedIndexPath:-1,open:!1,caretPosition:0,suggestionsToShow:Object(d.a)(e,"",0)}};function j(e,t,n){var r=t.suggestionData,a=t.addSearchFacet,i=e.value;if(!n.final){var o=r.find((function(e){return e.key===n.value})),c="".concat(Object(d.c)(o)).concat(p.d);return{open:!0,value:c,highlightedIndexPath:-1,caretPosition:c.length,suggestionsToShow:Object(d.a)(r,c,c.length)}}var s=O(i.split(p.d),1)[0],u=r.find((function(e){return Object(d.c)(e)===s}));return a({type:"keyValueMatch",key:u.metadata.prefix?s.split("".concat(u.metadata.prefix,":"))[1]:s,value:n.value,metadata:u.metadata}),S(r)}function T(e){e.preventDefault()}var x=function(t){function n(e){var t,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,a=y(n).call(this,e),t=!a||"object"!==b(a)&&"function"!=typeof a?v(r):a,E(v(t),"onSuggestionClicked",(function(e){var n=j(t.state,t.props,e);t.setState(n)})),E(v(t),"onPresetClicked",(function(e){t.props.selectSearchPreset(e),t.setState(S(t.props.suggestionData))})),E(v(t),"onSuggestionMouseEntered",(function(e){t.setState({highlightedIndexPath:e})})),E(v(t),"onFacetDeleteClick",(function(e){return function(){t.props.removeSearchFacet(e),t.filterInput.focus()}})),E(v(t),"onInputClicked",(function(){var e=t.updateCaretPositionAndSuggestionsToShow;t.setState({open:!0,focused:!0},e)})),E(v(t),"onInputFocused",(function(){t.setState({focused:!0})})),E(v(t),"onInputBlurred",(function(){t.setState({open:!1,focused:!1})})),E(v(t),"onInputChanged",(function(e){var n={value:e.target.value,open:!0,focused:!0,highlightedIndexPath:-1},r=t.updateCaretPositionAndSuggestionsToShow;t.setState(n,r)})),E(v(t),"onNavigationPress",(function(e){var n;switch(e.key){case"ArrowLeft":case"ArrowRight":return setTimeout(t.updateCaretPositionAndSuggestionsToShow,0);case"ArrowUp":return e.preventDefault(),n={highlightedIndexPath:Math.max(t.state.highlightedIndexPath-1,0)},t.setState(n);case"ArrowDown":return e.preventDefault(),n={highlightedIndexPath:Math.min(t.state.highlightedIndexPath+1,t.state.suggestionsToShow.length-1)},t.setState(n);case"Enter":return n=function(e,t){var n,r,a=(null===(n=t.searchPresets)||void 0===n?void 0:n.length)||0;if(e.highlightedIndexPath>-1)return a&&e.highlightedIndexPath<a?(t.selectSearchPreset(t.searchPresets[e.highlightedIndexPath]),S(t.suggestionData)):j(e,t,e.suggestionsToShow[e.highlightedIndexPath-a]);if(!e.value)return e;if(e.value.includes(p.d)){var i=O(e.value.split(p.d),2),o=i[0],c=i[1],s=t.suggestionData.find((function(e){return Object(d.c)(e)===o}));if(s)r={type:"keyValueMatch",key:s.metadata.prefix?o.split("".concat(s.metadata.prefix,":"))[1]:o,value:c,metadata:s.metadata};else r={type:"keyword",value:e.value}}else r={type:"keyword",value:e.value};return t.addSearchFacet(r),S(t.suggestionData)}(t.state,t.props),t.setState(n);default:return null}})),E(v(t),"updateCaretPositionAndSuggestionsToShow",(function(){var e=t.state,n=e.value,r=e.caretPosition,a=t.props.suggestionData,i=t.filterInput.selectionStart;r!==i&&t.setState({caretPosition:i,suggestionsToShow:Object(d.a)(a,n,i)})})),t.state={value:"",open:!1,focused:!1,highlightedIndexPath:-1,caretPosition:0,suggestionsToShow:Object(d.a)(e.suggestionData,"",0)},t}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,t),r=n,(a=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState((function(t){return{suggestionsToShow:Object(d.a)(e.suggestionData,t.value,t.caretPosition)}}))}},{key:"componentDidUpdate",value:function(t,n){if(n.highlightedIndexPath!==this.state.highlightedIndexPath){var r=e.document.querySelector(".suggestionBox"),a=e.document.querySelector(".suggestionBox .highlight");if(!a||!r)return;r.scrollTop>a.offsetTop?r.scrollTop=a.offsetTop:a.offsetTop+a.clientHeight>=r.clientHeight+r.scrollTop&&(r.scrollTop=a.offsetTop-r.clientHeight+a.clientHeight)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.open,a=t.focused,i=t.highlightedIndexPath,c=t.suggestionsToShow,u=this.props,d=u.searchFacets,b=u.searchPresets,g=u.pageId,y=O(n.split(p.d),2),v=y[0],h=y[1]||v,E=!n.endsWith(p.d),S=g?"search.".concat(g,".placeholderNoPills"):"search.placeholderNoPills";return o.a.createElement("div",{className:"searchWrapper"},o.a.createElement("div",{className:l()("multiSearchBoxContainer",{focused:a}),onKeyDown:function(t){return e.onNavigationPress(t)}},o.a.createElement(s.Icon,{variant:"subtle",name:"search",className:"awsui-util-ml-s awsui-util-mr-s"}),o.a.createElement("div",{className:"facetsAndInputAndSuggestions"},o.a.createElement("div",{className:"inputAndSuggestions"},o.a.createElement("input",{placeholder:this.context.intl.formatMessage({id:0===d.length?S:"search.placeholderWithPills"}),type:"text",value:n,onChange:this.onInputChanged,onClick:this.onInputClicked,onFocus:this.onInputFocused,onBlur:this.onInputBlurred,ref:function(t){return e.filterInput=t}}),o.a.createElement(_,{searchPresets:b,onPresetClicked:this.onPresetClicked,suggestions:c,highlightedIndex:i,highlightMatch:E,matchingText:h,open:r,onSuggestionClicked:this.onSuggestionClicked,onSuggestionMouseEntered:this.onSuggestionMouseEntered}))),m.f.includes("tag-search")&&!g?o.a.createElement(s.Button,{variant:"icon",icon:"help",href:Object(f.v)("tagging.html#tag-filtering"),target:"_blank"}):null),o.a.createElement("div",null,d.map((function(t,n){return o.a.createElement("span",{key:n,className:"button-clone",tabIndex:"0",onFocus:e.onInputFocused,onMouseDown:T},o.a.createElement(s.Button,{onClick:e.onFacetDeleteClick(n),iconAlign:"right",icon:"status-negative",className:"awsui-util-mt-xs awsui-util-mr-xs awsui-util-ml-xs"},o.a.createElement("span",null,o.a.createElement("span",{style:{fontWeight:"bold"}},"".concat(t.key||e.context.intl.formatMessage({id:"search.keyword"})).concat(p.d)),t.value)))}))))}}])&&g(r.prototype,a),i&&g(r,i),n}(o.a.Component);function _(e,t){var n=e.open,r=e.matchingText,a=e.suggestions,i=e.highlightedIndex,s=e.highlightMatch,u=e.onSuggestionClicked,d=e.onSuggestionMouseEntered,m=e.searchPresets,b=e.onPresetClicked,g=t.intl;function y(e,t){return o.a.createElement("li",{key:t,className:l()({highlight:t===i}),onClick:function(){return u(e)},onMouseEnter:function(){return d(t)}},o.a.createElement(w,{value:e.value,matchingText:r,highlightMatch:s}))}function v(e,t){return o.a.createElement("li",{key:t},t!==p.e&&t!==p.c?o.a.createElement("div",null,t):null,o.a.createElement("ul",null,e),t===p.e?o.a.createElement("hr",null):null)}var h=(null==m?void 0:m.length)||0,E=[],O=a.length>0?a[0].group:null,S=[];a.forEach((function(e,t){e.group===O?S.push(y(e,h+t)):(E.push(v(S,O)),S=[y(e,h+t)],O=e.group)})),S.length>0&&E.push(v(S,O));var j=null;h&&!r&&(j=o.a.createElement("li",null,o.a.createElement("div",null,o.a.createElement(c.FormattedMessage,{id:"search.presets"})),o.a.createElement("ul",null,m.map((function(e,t){return o.a.createElement("li",{key:t,className:l()({highlight:t===i}),onClick:function(){return b(e)},onMouseEnter:function(){return d(t)}},o.a.createElement("span",null,Object(f.E)(g,e.name)))})))));var x=n?{}:{display:"none"};return o.a.createElement("div",{className:"suggestionBox",style:x,onMouseDown:T},o.a.createElement("ul",null,j,E))}function w(e){for(var t=e.value,n=e.matchingText,r=e.highlightMatch,a=n.toLowerCase(),i=[],c=t,s=t.toLowerCase(),u=s.indexOf(a),d=0;a&&-1!==u;)i.push(o.a.createElement("span",{key:d++},c.slice(0,u))),i.push(o.a.createElement("span",{key:d++,className:l()({matchingText:r})},c.slice(u,u+n.length))),s=s.slice(a.length+u),c=c.slice(a.length+u),u=s.indexOf(a);return c&&i.push(o.a.createElement("span",{key:d+1},c)),o.a.createElement("span",null,i)}E(x,"propTypes",{addSearchFacet:a.a.func.isRequired,removeSearchFacet:a.a.func.isRequired,selectSearchPreset:a.a.func.isRequired,searchFacets:a.a.array.isRequired,searchPresets:a.a.array,suggestionData:a.a.array.isRequired,pageId:a.a.string}),E(x,"contextTypes",{intl:c.intlShape.isRequired}),_.propTypes={open:a.a.bool.isRequired,matchingText:a.a.string.isRequired,suggestions:a.a.any.isRequired,highlightedIndex:a.a.number.isRequired,highlightMatch:a.a.bool.isRequired,onSuggestionClicked:a.a.func.isRequired,onSuggestionMouseEntered:a.a.func.isRequired,searchPresets:a.a.array,onPresetClicked:a.a.func.isRequired},_.contextTypes={intl:c.intlShape.isRequired},w.propTypes={value:a.a.string.isRequired,matchingText:a.a.string.isRequired,highlightMatch:a.a.bool.isRequired}}).call(this,n(37))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=void 0===t?{}:t,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["context"]),c=o.sagaMonitor,s=o.logger,u=o.onError;if(r.is.func(o))throw new Error("Saga middleware no longer accept Generator functions. Use sagaMiddleware.run instead");if(s&&!r.is.func(s))throw new Error("`options.logger` passed to the Saga middleware is not a function!");0;if(u&&!r.is.func(u))throw new Error("`options.onError` passed to the Saga middleware is not a function!");if(o.emitter&&!r.is.func(o.emitter))throw new Error("`options.emitter` passed to the Saga middleware is not a function!");function l(e){var t=e.getState,d=e.dispatch,p=(0,a.emitter)();return p.emit=(o.emitter||r.ident)(p.emit),l.run=i.runSaga.bind(null,{context:n,subscribe:p.subscribe,dispatch:d,getState:t,sagaMonitor:c,logger:s,onError:u}),function(e){return function(t){c&&c.actionDispatched&&c.actionDispatched(t);var n=e(t);return p.emit(t),n}}}return l.run=function(){throw new Error("Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware")},l.setContext=function(e){(0,r.check)(e,r.is.object,(0,r.createSetContextWarning)("sagaMiddleware",e)),r.object.assign(n,e)},l};var r=n(179),a=n(425),i=n(956)},function(e,t,n){"use strict";var r=n(418),a=n(959);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=h,t.resolve=function(e,t){return h(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?h(e,!1,!0).resolveObject(t):t},t.format=function(e){a.isString(e)&&(e=h(e));return e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var o=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),d=["%","/","?",";","#"].concat(l),p=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(960);function h(e,t,n){if(e&&a.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),c=-1!==i&&i<e.indexOf("#")?"?":"#",u=e.split(c);u[0]=u[0].replace(/\\/g,"/");var h=e=u.join(c);if(h=h.trim(),!n&&1===e.split("#").length){var E=s.exec(h);if(E)return this.path=h,this.href=h,this.pathname=E[1],E[2]?(this.search=E[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var O=o.exec(h);if(O){var S=(O=O[0]).toLowerCase();this.protocol=S,h=h.substr(O.length)}if(n||O||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var j="//"===h.substr(0,2);!j||O&&g[O]||(h=h.substr(2),this.slashes=!0)}if(!g[O]&&(j||O&&!y[O])){for(var T,x,_=-1,w=0;w<p.length;w++){-1!==(R=h.indexOf(p[w]))&&(-1===_||R<_)&&(_=R)}-1!==(x=-1===_?h.lastIndexOf("@"):h.lastIndexOf("@",_))&&(T=h.slice(0,x),h=h.slice(x+1),this.auth=decodeURIComponent(T)),_=-1;for(w=0;w<d.length;w++){var R;-1!==(R=h.indexOf(d[w]))&&(-1===_||R<_)&&(_=R)}-1===_&&(_=h.length),this.host=h.slice(0,_),h=h.slice(_),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var I=this.hostname.split(/\./),N=(w=0,I.length);w<N;w++){var C=I[w];if(C&&!C.match(f)){for(var k="",P=0,D=C.length;P<D;P++)C.charCodeAt(P)>127?k+="x":k+=C[P];if(!k.match(f)){var M=I.slice(0,w),L=I.slice(w+1),F=C.match(m);F&&(M.push(F[1]),L.unshift(F[2])),L.length&&(h="/"+L.join(".")+h),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var q=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+q,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!b[S])for(w=0,N=l.length;w<N;w++){var U=l[w];if(-1!==h.indexOf(U)){var G=encodeURIComponent(U);G===U&&(G=escape(U)),h=h.split(U).join(G)}}var B=h.indexOf("#");-1!==B&&(this.hash=h.substr(B),h=h.slice(0,B));var z=h.indexOf("?");if(-1!==z?(this.search=h.substr(z),this.query=h.substr(z+1),t&&(this.query=v.parse(this.query)),h=h.slice(0,z)):t&&(this.search="",this.query={}),h&&(this.pathname=h),y[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){q=this.pathname||"";var H=this.search||"";this.path=q+H}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=v.stringify(this.query));var c=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),c&&"?"!==c.charAt(0)&&(c="?"+c),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(c=c.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(h(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(a.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var c=r[o];n[c]=this[c]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),u=0;u<s.length;u++){var l=s[u];"protocol"!==l&&(n[l]=e[l])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var f=d[p];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var b=n.pathname||"",v=n.search||"";n.path=b+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var h=n.pathname&&"/"===n.pathname.charAt(0),E=e.host||e.pathname&&"/"===e.pathname.charAt(0),O=E||h||n.host&&e.pathname,S=O,j=n.pathname&&n.pathname.split("/")||[],T=(m=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(T&&(n.hostname="",n.port=null,n.host&&(""===j[0]?j[0]=n.host:j.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),O=O&&(""===m[0]||""===j[0])),E)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,j=m;else if(m.length)j||(j=[]),j.pop(),j=j.concat(m),n.search=e.search,n.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(T)n.hostname=n.host=j.shift(),(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift());return n.search=e.search,n.query=e.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!j.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=j.slice(-1)[0],_=(n.host||e.host||j.length>1)&&("."===x||".."===x)||""===x,w=0,R=j.length;R>=0;R--)"."===(x=j[R])?j.splice(R,1):".."===x?(j.splice(R,1),w++):w&&(j.splice(R,1),w--);if(!O&&!S)for(;w--;w)j.unshift("..");!O||""===j[0]||j[0]&&"/"===j[0].charAt(0)||j.unshift(""),_&&"/"!==j.join("/").substr(-1)&&j.push("");var A,I=""===j[0]||j[0]&&"/"===j[0].charAt(0);T&&(n.hostname=n.host=I?"":j.length?j.shift():"",(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift()));return(O=O||n.host&&j.length)&&!I&&j.unshift(""),j.length?n.pathname=j.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=c.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){var r=n(0);function a(e){return r.createElement("svg",e,[r.createElement("defs",{key:0},r.createElement("linearGradient",{x1:"-20.707%",y1:"120.707%",x2:"120.707%",y2:"-20.707%",id:"a"},[r.createElement("stop",{stopColor:"#1B660F",offset:"0%",key:0}),r.createElement("stop",{stopColor:"#6CAE3E",offset:"100%",key:1})])),r.createElement("g",{fill:"none",fillRule:"evenodd",key:1},[r.createElement("text",{fill:"#232F3E",fontFamily:"AmazonEmber-Heavy, Amazon Ember",fontSize:"9",fontWeight:"600",transform:"translate(180)",key:0},r.createElement("tspan",{x:"8.7",y:"93"},"AWS Lambda")),r.createElement("g",{fillRule:"nonzero",key:1},[r.createElement("path",{fill:"#D86613",d:"M180 75V0h75v75h-75z",key:0}),r.createElement("g",{fill:"#FFF",key:1},[r.createElement("path",{d:"M228.34 61h10.69v-9h-4a1 1 0 0 1-.9-.57L216.79 15h-13.76v9h7a1 1 0 0 1 .91.57L228.35 61h-.01zm11.69 2h-12.32a1 1 0 0 1-.9-.57L209.39 26h-7.37a1 1 0 0 1-1-1V14a1 1 0 0 1 1-1h15.39a1 1 0 0 1 .9.57L235.65 50h4.37a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1h.01z",key:0}),r.createElement("path",{d:"M195.62 61h10.76l6.63-14-5.39-11.13-12 25.15V61zm11.39 2h-13a1 1 0 0 1-.85-.47 1 1 0 0 1-.05-1l13.6-28.45a1 1 0 1 1 1.8-.01l6.51 13.43a1 1 0 0 1 0 .87l-7.1 15a1 1 0 0 1-.91.57V63z",key:1})])]),r.createElement("g",{transform:"translate(83 26)",stroke:"#D86613",key:2},[r.createElement("path",{d:"M4 9l-4 4 4 4M0 13h32M85 9.444L89 13l-4 3.556M89 13H57",key:0}),r.createElement("circle",{strokeWidth:"2",cx:"44.5",cy:"12.5",r:"12.5",key:1}),r.createElement("g",{strokeWidth:"2",key:2},r.createElement("path",{d:"M39.16 7h3.07l6.95 11.19h1.64M44.99 11.44L39 18.7"}))]),r.createElement("g",{key:3},[r.createElement("text",{fill:"#232F3E",fontFamily:"AmazonEmber-Heavy, Amazon Ember",fontSize:"9",fontWeight:"600",key:0},[r.createElement("tspan",{x:"3.377",y:"92",key:0},"Amazon Simple "),r.createElement("tspan",{x:"3.394",y:"103",key:1},"Storage Service")]),r.createElement("g",{fillRule:"nonzero",key:1},[r.createElement("path",{fill:"url(#a)",d:"M0 0h75v75H0z",key:0}),r.createElement("path",{d:"M61.28 39.64c-.29-1.57-2.07-2.68-3.29-3.47-.39-.25-1.46-.65-1.55-1-.006-.25.028-.5.1-.74l1-7.19c.29-2.11.57-4.22.86-6.33.26-1.94-.67-3.24-2.25-4.33-3.22-2.23-7.42-3.13-11.21-3.75a55.85 55.85 0 0 0-14.38-.47 40 40 0 0 0-12.53 3c-2.14 1-4.94 2.56-4.59 5.29 1 8.12 2.18 16.22 3.27 24.33l1.5 11.13a4.13 4.13 0 0 0 2.46 3.33c3.1 1.68 6.94 2.16 10.4 2.48a51.5 51.5 0 0 0 13.86-.54c2.88-.53 8.24-1.4 8.7-5 .57-4.46 1.2-8.92 1.8-13.37l.18-1.35c1.59.31 6.24 1.14 5.67-2.02zM35.9 14.08c6 0 12.87.68 18.25 3.64.83.46 2.76 1.49 2.18 2.71-.58 1.22-2.38 1.83-3.53 2.27a30.88 30.88 0 0 1-4.83 1.35 62.29 62.29 0 0 1-21.66.45 26.8 26.8 0 0 1-9.32-2.73c-.72-.41-1.91-1.15-1.58-2.13a3 3 0 0 1 1.18-1.26 20.84 20.84 0 0 1 7.2-2.91 50.35 50.35 0 0 1 12.11-1.39zm15.68 42.15c-.15 1.17-2.08 1.75-3 2.08a29.6 29.6 0 0 1-5.88 1.32 50.72 50.72 0 0 1-13.37 0 22.24 22.24 0 0 1-8-2.17 2 2 0 0 1-1.2-1.73c-1-7.93-2.14-15.86-3.21-23.79l-1.16-8.6a23.26 23.26 0 0 0 7.3 2.56 59.62 59.62 0 0 0 8.31 1.09 64.8 64.8 0 0 0 16.39-.91 24.27 24.27 0 0 0 8.21-2.74l-2.12 15.7a120.43 120.43 0 0 1-14.82-6 4.27 4.27 0 0 1-.61-.29c-.27-.2-.2-.1-.33-.41-.25-.57-.31-1-.84-1.47a2.25 2.25 0 1 0-1.24 4 4.12 4.12 0 0 0 1-.3c.39-.12.39-.1.8.09a126.72 126.72 0 0 0 15 6.16c.77.25.76.05.76.64a11.49 11.49 0 0 1-.19 1.45l-.64 4.77-1.16 8.55zM36.15 32.58c0 .27-.38.24-.48.07-.1-.17.48-.45.48-.07zm19.7 7l.3-2.21c1 .57 2.7 1.43 3.15 2.57-.98.4-2.53-.13-3.45-.36z",fill:"#FFF",key:1})])])])])}a.defaultProps={viewBox:"0 0 255 105"},e.exports=a,a.default=a},function(e,t,n){var r=n(0);function a(e){return r.createElement("svg",e,[r.createElement("defs",{key:0},r.createElement("linearGradient",{x1:"-20.707%",y1:"121.474%",x2:"120.714%",y2:"-19.947%",id:"a"},[r.createElement("stop",{stopColor:"#B0084D",offset:"0%",key:0}),r.createElement("stop",{stopColor:"#FF4F8B",offset:"100%",key:1})])),r.createElement("g",{fill:"none",fillRule:"evenodd",key:1},[r.createElement("g",{fillRule:"nonzero",key:0},[r.createElement("path",{fill:"url(#a)",d:"M0 0h75v75H0z",key:0}),r.createElement("g",{fill:"#FFF",key:1},[r.createElement("path",{d:"M54.43 51.5v.53a2.33 2.33 0 0 1 0-.53zM41.3 31.58l-.1.19a.72.72 0 0 0 .09-.2l.01.01zm-8.67-3.47c-.89 0-8.75-.07-8.75 2.9-.003.188.03.375.1.55a2 2 0 0 0 .1.21l5.44 12v6.21c0 .63.26 1 .81 1h.26a8.76 8.76 0 0 0 3.42-1.77l.67-.47a1 1 0 0 0 .47-.84v-4.12l6-12a.72.72 0 0 0 .09-.2 1.42 1.42 0 0 0 .1-.55c.05-2.99-7.81-2.92-8.71-2.92zm0 1.84c3.53 0 5.8.62 6.56 1.06-.76.44-3 1.06-6.56 1.06-3.56 0-5.79-.62-6.55-1.06.77-.43 3.02-1.06 6.55-1.06zm.73 13v4.56l-.39.24c-.57.33-1.07.56-1.64.86v-5a1.14 1.14 0 0 0-.08-.4l-4.26-9.74a25.91 25.91 0 0 0 5.64.62 26.37 26.37 0 0 0 5.48-.58l-4.75 9.44z",key:0}),r.createElement("path",{d:"M50.85 55.75a22.8 22.8 0 0 1-13.41 4.33c-10.88 0-20.16-7.07-22.34-17.52a4.51 4.51 0 0 0 4.18-3.49h5.1V37.2h-5.13a4.49 4.49 0 0 0-4.18-3.62 23 23 0 0 1 35.4-13.42l1.14-1.58a25 25 0 0 0-38.68 15.49 4.48 4.48 0 0 0 0 8.13c2.4 11.588 12.596 19.906 24.43 19.93a24.77 24.77 0 0 0 14.58-4.71l-1.09-1.67zm-38.5-17.67a2.5 2.5 0 0 1 2.2-2.5h.3a2.5 2.5 0 1 1-2.49 2.5h-.01zm2.36-2.5h-.15.15z",key:1}),r.createElement("path",{d:"M59.85 42.58a4.5 4.5 0 1 0-4.4-5.43h-5.2V24.78h2.7a4.5 4.5 0 1 0 .08-1.61h-3.68a.83.83 0 0 0-1 .88v13.07h-7.69v1.85h7.69v13.08a1 1 0 0 0 1 1h3.14a4.5 4.5 0 1 0 0-1.77h-2.13l-.05-12.32h5.19a4.51 4.51 0 0 0 4.35 3.62zm0-7a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5zm-2.5-13.91a2.49 2.49 0 1 1-2.5 2.47 2.49 2.49 0 0 1 2.51-2.49l-.01.02zm-.5 27.91a2.5 2.5 0 1 1-2.47 2.81v-.3c0-.178.02-.356.06-.53a2.51 2.51 0 0 1 2.41-1.98z",key:2})])]),r.createElement("text",{fill:"#232F3E",fontFamily:"AmazonEmber-Heavy, Amazon Ember",fontSize:"8",fontWeight:"600",key:1},[r.createElement("tspan",{x:"7.168",y:"91",key:0},"Amazon Simple "),r.createElement("tspan",{x:"14.132",y:"101",key:1},"Notification "),r.createElement("tspan",{x:"23.34",y:"111",key:2},"Service")]),r.createElement("g",{transform:"translate(83 25)",stroke:"#D86613",key:2},[r.createElement("path",{d:"M4 9l-4 4 4 4M0 13h32M85 9.444L89 13l-4 3.556M89 13H57",key:0}),r.createElement("circle",{strokeWidth:"2",cx:"44.5",cy:"12.5",r:"12.5",key:1}),r.createElement("g",{strokeWidth:"2",key:2},r.createElement("path",{d:"M39.16 7h3.07l6.95 11.19h1.64M44.99 11.44L39 18.7"}))]),r.createElement("g",{key:3},[r.createElement("text",{fill:"#232F3E",fontFamily:"AmazonEmber-Heavy, Amazon Ember",fontSize:"8",fontWeight:"600",transform:"translate(180)",key:0},r.createElement("tspan",{x:"12.4",y:"91"},"AWS Lambda")),r.createElement("g",{fillRule:"nonzero",key:1},[r.createElement("path",{fill:"#D86613",d:"M180 0h75v75h-75z",key:0}),r.createElement("g",{fill:"#FFF",key:1},[r.createElement("path",{d:"M228.81 60.5h10.69v-9h-4a1 1 0 0 1-.9-.57L217.26 14.5H203.5v9h7a1 1 0 0 1 .91.57l17.41 36.43h-.01zm11.69 2h-12.32a1 1 0 0 1-.9-.57L209.86 25.5h-7.37a1 1 0 0 1-1-1v-11a1 1 0 0 1 1-1h15.39a1 1 0 0 1 .9.57l17.34 36.43h4.37a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1h.01z",key:0}),r.createElement("path",{d:"M196.09 60.5h10.76l6.63-14-5.39-11.13-12 25.15v-.02zm11.39 2h-13a1 1 0 0 1-.85-.47 1 1 0 0 1-.05-1l13.6-28.45a1 1 0 0 1 1.8-.01L215.49 46a1 1 0 0 1 0 .87l-7.1 15a1 1 0 0 1-.91.57v.06z",key:1})])])])])])}a.defaultProps={viewBox:"0 0 255 112"},e.exports=a,a.default=a},function(e,t,n){var r=n(0);function a(e){return r.createElement("svg",e,r.createElement("g",{fill:"none",fillRule:"evenodd"},[r.createElement("text",{fill:"#232F3E",fontFamily:"AmazonEmber-Heavy, Amazon Ember",fontSize:"11",fontWeight:"600",key:0},[r.createElement("tspan",{x:"15.819",y:"94",key:0},"Amazon "),r.createElement("tspan",{x:".1",y:"107",key:1},"Simple Queue "),r.createElement("tspan",{x:"18.03",y:"120",key:2},"Service")]),r.createElement("g",{fillRule:"nonzero",key:1},[r.createElement("path",{fill:"#FF4F8B",d:"M0 0h74.013v74.013H0z",key:0}),r.createElement("g",{fill:"#FFF",key:1},[r.createElement("path",{d:"M21.047 21.387a21.888 21.888 0 0 1 36.118 8.25l1.865-.65a23.862 23.862 0 0 0-45.05 0l1.866.65a21.553 21.553 0 0 1 5.2-8.25zM51.945 51.98c-8.55 8.537-22.398 8.537-30.948 0a21.71 21.71 0 0 1-5.2-8.31l-1.865.652a23.862 23.862 0 0 0 45.108-.08l-1.865-.63a21.71 21.71 0 0 1-5.23 8.368zM19.527 36.644a5.763 5.763 0 1 0-1.688 4.066 5.704 5.704 0 0 0 1.688-4.066zm-3.109 2.674a3.878 3.878 0 0 1-5.338 0 3.78 3.78 0 0 1 2.664-6.444 3.81 3.81 0 0 1 2.674 1.106 3.78 3.78 0 0 1 0 5.338zM63.59 32.647a5.743 5.743 0 1 0 0 8.122 5.743 5.743 0 0 0 0-8.122zm-1.402 6.72a3.77 3.77 0 0 1-6.436-2.664c0-1 .398-1.959 1.107-2.664a3.77 3.77 0 1 1 5.33 5.329z",key:0}),r.createElement("path",{d:"M28.438 46.236c4.046-4.046 12.286-4.046 16.332 0a.987.987 0 0 0 .691.286.987.987 0 0 0 .987-.987.987.987 0 0 0-.286-.7 12.572 12.572 0 0 1 0-16.323.987.987 0 0 0 0-1.391.987.987 0 0 0-1.392 0c-4.046 4.036-12.286 4.036-16.332 0a.987.987 0 0 0-1.391 0 .987.987 0 0 0 0 1.391 12.572 12.572 0 0 1 0 16.323.987.987 0 0 0-.287.7.987.987 0 0 0 .287.701.987.987 0 0 0 1.391 0zm2.556-15.158a15.395 15.395 0 0 0 11.22 0 15.651 15.651 0 0 0 0 11.2 15.395 15.395 0 0 0-11.22 0 15.651 15.651 0 0 0 0-11.2z",key:1}),r.createElement("path",{d:"M48.619 40.72l3.326-3.365a.987.987 0 0 0 0-1.392l-3.346-3.345-1.401 1.391 1.687 1.678h-4.5v1.973h4.461l-1.668 1.668 1.441 1.392zM24.767 40.74l3.365-3.366a.987.987 0 0 0 0-1.391l-3.365-3.365-1.391 1.391 1.677 1.678h-4.312v1.973h4.312l-1.677 1.688 1.391 1.391z",key:2})])]),r.createElement("g",{transform:"translate(83 25)",stroke:"#D86613",key:2},[r.createElement("path",{d:"M4 9l-4 4 4 4M0 13h32M85 9.444L89 13l-4 3.556M89 13H57",key:0}),r.createElement("circle",{strokeWidth:"2",cx:"44.5",cy:"12.5",r:"12.5",key:1}),r.createElement("g",{strokeWidth:"2",key:2},r.createElement("path",{d:"M39.16 7h3.07l6.95 11.19h1.64M44.99 11.44L39 18.7"}))]),r.createElement("text",{fill:"#232F3E",fontFamily:"AmazonEmber-Heavy, Amazon Ember",fontSize:"11",fontWeight:"600",transform:"translate(180)",key:3},r.createElement("tspan",{x:"2.8",y:"94"},"AWS Lambda")),r.createElement("g",{fillRule:"nonzero",key:4},[r.createElement("path",{fill:"#D86613",d:"M180 0h75v75h-75z",key:0}),r.createElement("g",{fill:"#FFF",key:1},[r.createElement("path",{d:"M228.81 60.5h10.69v-9h-4a1 1 0 0 1-.9-.57L217.26 14.5H203.5v9h7a1 1 0 0 1 .91.57l17.41 36.43h-.01zm11.69 2h-12.32a1 1 0 0 1-.9-.57L209.86 25.5h-7.37a1 1 0 0 1-1-1v-11a1 1 0 0 1 1-1h15.39a1 1 0 0 1 .9.57l17.34 36.43h4.37a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1h.01z",key:0}),r.createElement("path",{d:"M196.09 60.5h10.76l6.63-14-5.39-11.13-12 25.15v-.02zm11.39 2h-13a1 1 0 0 1-.85-.47 1 1 0 0 1-.05-1l13.6-28.45a1 1 0 0 1 1.8-.01L215.49 46a1 1 0 0 1 0 .87l-7.1 15a1 1 0 0 1-.91.57v.06z",key:1})])])]))}a.defaultProps={viewBox:"0 0 255 121"},e.exports=a,a.default=a},function(e,t,n){var r=n(0);function a(e){return r.createElement("svg",e,r.createElement("g",{fill:"none",fillRule:"evenodd"},[r.createElement("g",{fillRule:"nonzero",key:0},[r.createElement("path",{fill:"#CC2264",d:"M0 0h75v75H0z",key:0}),r.createElement("g",{fill:"#FFF",key:1},r.createElement("path",{d:"M27.13 57.25h-9.38a1 1 0 0 1-1-1V35.62a1 1 0 0 1 1-1h9.38a1 1 0 0 1 1 1v20.63a1 1 0 0 1-1 1zm-8.38-2h7.38V36.62h-7.38v18.63zM42.13 57.25h-9.38a1 1 0 0 1-1-1V40.31a1 1 0 0 1 1-1h9.38a1 1 0 0 1 1 1v15.94a1 1 0 0 1-1 1zm-8.38-2h7.38V41.31h-7.38v13.94zM14 59h46.87v2H14zM57.59 29.12h-10.3a2.41 2.41 0 0 1-2.41-2.41V16.42A2.41 2.41 0 0 1 47.29 14h10.3A2.41 2.41 0 0 1 60 16.42v10.29a2.41 2.41 0 0 1-2.41 2.41zM47.29 16a.42.42 0 0 0-.41.42v10.29c0 .226.184.41.41.41h10.3a.41.41 0 0 0 .41-.41V16.42a.41.41 0 0 0-.41-.42h-10.3zM57.13 57.25h-9.38a1 1 0 0 1-1-1V31.88a1 1 0 0 1 1-1h9.38a1 1 0 0 1 1 1v24.37a1 1 0 0 1-1 1zm-8.38-2h7.38V32.88h-7.38v22.37z"}))]),r.createElement("text",{fill:"#232F3E",fontFamily:"AmazonEmber-Heavy, Amazon Ember",fontSize:"11",fontWeight:"600",key:1},[r.createElement("tspan",{x:"15.819",y:"94",key:0},"Amazon "),r.createElement("tspan",{x:"5.022",y:"107",key:1},"CloudWatch "),r.createElement("tspan",{x:"22.457",y:"120",key:2},"Event")]),r.createElement("g",{transform:"translate(83 25)",stroke:"#D86613",key:2},[r.createElement("path",{d:"M4 9l-4 4 4 4M0 13h32M85 9.444L89 13l-4 3.556M89 13H57",key:0}),r.createElement("circle",{strokeWidth:"2",cx:"44.5",cy:"12.5",r:"12.5",key:1}),r.createElement("g",{strokeWidth:"2",key:2},r.createElement("path",{d:"M39.16 7h3.07l6.95 11.19h1.64M44.99 11.44L39 18.7"}))]),r.createElement("g",{key:3},[r.createElement("text",{fill:"#232F3E",fontFamily:"AmazonEmber-Heavy, Amazon Ember",fontSize:"11",fontWeight:"600",transform:"translate(180)",key:0},r.createElement("tspan",{x:"2.8",y:"94"},"AWS Lambda")),r.createElement("g",{fillRule:"nonzero",key:1},[r.createElement("path",{fill:"#D86613",d:"M180 0h75v75h-75z",key:0}),r.createElement("g",{fill:"#FFF",key:1},[r.createElement("path",{d:"M228.81 60.5h10.69v-9h-4a1 1 0 0 1-.9-.57L217.26 14.5H203.5v9h7a1 1 0 0 1 .91.57l17.41 36.43h-.01zm11.69 2h-12.32a1 1 0 0 1-.9-.57L209.86 25.5h-7.37a1 1 0 0 1-1-1v-11a1 1 0 0 1 1-1h15.39a1 1 0 0 1 .9.57l17.34 36.43h4.37a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1h.01z",key:0}),r.createElement("path",{d:"M196.09 60.5h10.76l6.63-14-5.39-11.13-12 25.15v-.02zm11.39 2h-13a1 1 0 0 1-.85-.47 1 1 0 0 1-.05-1l13.6-28.45a1 1 0 0 1 1.8-.01L215.49 46a1 1 0 0 1 0 .87l-7.1 15a1 1 0 0 1-.91.57v.06z",key:1})])])])]))}a.defaultProps={viewBox:"0 0 255 121"},e.exports=a,a.default=a},function(e,t,n){var r=n(0);function a(e){return r.createElement("svg",e,r.createElement("g",{fill:"none",fillRule:"evenodd"},[r.createElement("text",{fill:"#232F3E",fontFamily:"AmazonEmber-Heavy, Amazon Ember",fontSize:"11",fontWeight:"600",key:0},[r.createElement("tspan",{x:"15.819",y:"94",key:0},"Amazon "),r.createElement("tspan",{x:"18.47",y:"107",key:1},"Kinesis")]),r.createElement("g",{fillRule:"nonzero",key:1},[r.createElement("path",{fill:"#A166FF",d:"M0 0h75v75H0z",key:0}),r.createElement("g",{fill:"#FFF",key:1},[r.createElement("path",{d:"M62.38 32.08v2h-8.82c-23.09 0-41.18-9.1-41.18-20.74a8.92 8.92 0 0 1 .08-1.26h2a7.64 7.64 0 0 0-.1 1.26c0 10.33 17.58 18.74 39.2 18.74h8.82z",key:0}),r.createElement("path",{d:"M62.38 36.08v2H50.14c-19.57 0-33.64 3.17-37.76 8.49v-2.68c4.37-3.82 12.45-5.8 20.38-6.81-7.93-1-16-3-20.39-6.73v-2.92c4.07 5.34 17.87 8.55 37.1 8.65h12.91zM62.38 28.07v2h-4.14c-20.08 0-34.65-6.8-34.65-16.17v-1.83h2.11v1.83c0 8 14 14.17 32.55 14.17h4.13z",key:1}),r.createElement("path",{d:"M62.38 40.08v2h-8.82c-21.63 0-39.22 8.44-39.22 18.77 0 .412.03.823.09 1.23h-2a8.424 8.424 0 0 1-.08-1.23c0-11.65 18.11-20.77 41.23-20.77h8.8z",key:2}),r.createElement("path",{d:"M62.38 44.08v2h-4.14c-18.58 0-32.59 6-32.59 14.07v1.93h-2v-1.93c0-9.32 14.56-16.07 34.61-16.07h4.12z",key:3})])]),r.createElement("g",{transform:"translate(83 25)",stroke:"#D86613",key:2},[r.createElement("path",{d:"M4 9l-4 4 4 4M0 13h32M85 9.444L89 13l-4 3.556M89 13H57",key:0}),r.createElement("circle",{strokeWidth:"2",cx:"44.5",cy:"12.5",r:"12.5",key:1}),r.createElement("g",{strokeWidth:"2",key:2},r.createElement("path",{d:"M39.16 7h3.07l6.95 11.19h1.64M44.99 11.44L39 18.7"}))]),r.createElement("text",{fill:"#232F3E",fontFamily:"AmazonEmber-Heavy, Amazon Ember",fontSize:"11",fontWeight:"600",transform:"translate(180)",key:3},r.createElement("tspan",{x:"2.8",y:"94"},"AWS Lambda")),r.createElement("g",{fillRule:"nonzero",key:4},[r.createElement("path",{fill:"#D86613",d:"M180 0h75v75h-75z",key:0}),r.createElement("g",{fill:"#FFF",key:1},[r.createElement("path",{d:"M228.81 60.5h10.69v-9h-4a1 1 0 0 1-.9-.57L217.26 14.5H203.5v9h7a1 1 0 0 1 .91.57l17.41 36.43h-.01zm11.69 2h-12.32a1 1 0 0 1-.9-.57L209.86 25.5h-7.37a1 1 0 0 1-1-1v-11a1 1 0 0 1 1-1h15.39a1 1 0 0 1 .9.57l17.34 36.43h4.37a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1h.01z",key:0}),r.createElement("path",{d:"M196.09 60.5h10.76l6.63-14-5.39-11.13-12 25.15v-.02zm11.39 2h-13a1 1 0 0 1-.85-.47 1 1 0 0 1-.05-1l13.6-28.45a1 1 0 0 1 1.8-.01L215.49 46a1 1 0 0 1 0 .87l-7.1 15a1 1 0 0 1-.91.57v.06z",key:1})])])]))}a.defaultProps={viewBox:"0 0 255 108"},e.exports=a,a.default=a},function(e,t,n){var r=n(0);function a(e){return r.createElement("svg",e,[r.createElement("defs",{key:0},r.createElement("linearGradient",{x1:"-20.707%",y1:"120.707%",x2:"120.707%",y2:"-20.707%",id:"a"},[r.createElement("stop",{stopColor:"#2E27AD",offset:"0%",key:0}),r.createElement("stop",{stopColor:"#527FFF",offset:"100%",key:1})])),r.createElement("g",{fill:"none",fillRule:"evenodd",key:1},[r.createElement("text",{fill:"#232F3E",fontFamily:"AmazonEmber-Heavy, Amazon Ember",fontSize:"11",fontWeight:"600",transform:"translate(375 12)",key:0},[r.createElement("tspan",{x:"15.819",y:"94",key:0},"Amazon "),r.createElement("tspan",{x:"7.641",y:"107",key:1},"DynamoDB")]),r.createElement("g",{fillRule:"nonzero",key:1},[r.createElement("path",{fill:"url(#a)",d:"M0 0h75v75H0z",transform:"translate(375 12)",key:0}),r.createElement("g",{transform:"translate(391 24)",fill:"#FFF",key:1},[r.createElement("path",{d:"M34.1 28.98l-6.61 6.6a16.23 16.23 0 0 0 3.42-1.39 2.58 2.58 0 0 1 1.19 1.8c0 1.83-3.88 3.82-9.64 4.63a42.23 42.23 0 0 1-5.36.38h-1c-8.08-.19-14-2.74-14-5a2.58 2.58 0 0 1 1.19-1.8c3.14 1.75 8.23 2.79 13.81 2.79h.11l.56-2h-.67c-5.5 0-10.6-1.09-13.31-2.81-1.08-.71-1.68-1.48-1.69-2.15V25.4c3.06 2.34 9.16 3.56 15 3.56.79 0 1.58 0 2.35-.07l.57-2c-.95.07-1.93.1-2.92.1-8.58 0-15-2.63-15-5a2.58 2.58 0 0 1 1.19-1.8c2.76 1.55 7 2.52 11.81 2.74l.05-2c-4.73-.23-9-1.25-11.36-2.76-1.07-.69-1.67-1.47-1.69-2.15V11.4c3.06 2.34 9.16 3.56 15 3.56h.22l1.06-2H17.1c-8.58 0-15-2.63-15-5s6.42-5 15-5a36 36 0 0 1 8.58 1h5.49c-3-1.83-8.18-3-14.07-3-8.24 0-17 2.44-17 7v8.05a4.06 4.06 0 0 0 1.51 2.95 4.07 4.07 0 0 0-1.51 3v8.05a4.06 4.06 0 0 0 1.51 2.95 4.07 4.07 0 0 0-1.51 3v8a1.25 1.25 0 0 0 0 .21c.27 4.39 8.87 6.75 17 6.75s16.73-2.36 17-6.77a.75.75 0 0 0 0-.21v-8a4 4 0 0 0-1.51-3 4.06 4.06 0 0 0 1.51-3v-.96zm-2 15c0 2.36-6.42 5-15 5s-15-2.61-15-5v-4.6c3.06 2.32 9.16 3.54 15 3.54s11.94-1.22 15-3.54v4.6z",key:0}),r.createElement("circle",{cx:"5.1",cy:"16.02",r:"1.25",key:1}),r.createElement("circle",{cx:"5.1",cy:"30.02",r:"1.25",key:2}),r.createElement("circle",{cx:"5.1",cy:"44.02",r:"1.25",key:3}),r.createElement("path",{d:"M19.6 39.98a1 1 0 0 1-.5-.14 1 1 0 0 1-.46-1.15l5.62-18.71H18.6a1 1 0 0 1-.89-1.45l6-12a1 1 0 0 1 .89-.55h13a1 1 0 0 1 1 1.31l-2.56 7.69h5.61a1 1 0 0 1 .72 1.69l-22 23a1 1 0 0 1-.77.31zm.62-22h5.38a1 1 0 0 1 .96 1.28l-4.81 16 17.51-18.3H34.6a1 1 0 0 1-1-1.32l2.56-7.68h-11l-4.94 10.02z",key:4})])]),r.createElement("g",{stroke:"#545B64",key:2},r.createElement("path",{d:"M363 46.444L367 50l-4 3.556M367 50h-83"})),r.createElement("text",{fill:"#232F3E",fontFamily:"AmazonEmber-Heavy, Amazon Ember",fontSize:"11",fontWeight:"600",transform:"translate(180 1)",key:3},r.createElement("tspan",{x:"3.923",y:"115"},"AWS Lambda × 3")),r.createElement("g",{fillRule:"nonzero",key:4},[r.createElement("path",{stroke:"#FFF",fill:"#D86613",d:"M200.33 76V1h75v75h-75z",key:0}),r.createElement("path",{stroke:"#FFF",fill:"#D86613",d:"M190.33 86V11h75v75h-75z",key:1}),r.createElement("path",{stroke:"#FFF",fill:"#D86613",d:"M180 96.42v-75h75v75h-75z",key:2}),r.createElement("path",{d:"M228.81 81.92h10.69v-9h-4a1 1 0 0 1-.9-.57l-17.34-36.43H203.5v9h7a1 1 0 0 1 .91.57l17.41 36.43h-.01zm11.69 2h-12.32a1 1 0 0 1-.9-.57l-17.42-36.43h-7.37a1 1 0 0 1-1-1v-11a1 1 0 0 1 1-1h15.39a1 1 0 0 1 .9.57l17.34 36.43h4.37a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1h.01z",fill:"#FFF",key:3}),r.createElement("path",{d:"M196.09 81.92h10.76l6.63-14-5.39-11.13-12 25.15v-.02zm11.39 2h-13a1 1 0 0 1-.85-.47 1 1 0 0 1-.05-1L207.18 54a1 1 0 1 1 1.8-.01l6.51 13.43a1 1 0 0 1 0 .87l-7.1 15a1 1 0 0 1-.91.57v.06z",fill:"#FFF",key:4})]),r.createElement("g",{transform:"translate(83 37)",stroke:"#D86613",key:5},[r.createElement("path",{d:"M4 9l-4 4 4 4M0 13h32M85 9.444L89 13l-4 3.556M89 13H57",key:0}),r.createElement("circle",{strokeWidth:"2",cx:"44.5",cy:"12.5",r:"12.5",key:1}),r.createElement("g",{strokeWidth:"2",key:2},r.createElement("path",{d:"M39.16 7h3.07l6.95 11.19h1.64M44.99 11.44L39 18.7"}))]),r.createElement("g",{key:6},[r.createElement("text",{fill:"#232F3E",fontFamily:"AmazonEmber-Heavy, Amazon Ember",fontSize:"11",fontWeight:"600",transform:"translate(0 12)",key:0},[r.createElement("tspan",{x:"5.16",y:"94",key:0},"Amazon API "),r.createElement("tspan",{x:"14.389",y:"107",key:1},"Gateway")]),r.createElement("g",{fillRule:"nonzero",key:1},[r.createElement("path",{fill:"#664EA0",d:"M0 87V12h75v75H0z",key:0}),r.createElement("g",{fill:"#FFF",key:1},[r.createElement("path",{d:"M49.51 28.11v43l11-3.65v-34l-11-5.36v.01zm-1 45.39a1 1 0 0 1-.59-.19 1 1 0 0 1-.41-.81v-46a1 1 0 0 1 .47-.85 1 1 0 0 1 1 0l13 6.35a1 1 0 0 1 .57.9v35.33a1 1 0 0 1-.69 1l-13 4.32a1.13 1.13 0 0 1-.32.05l-.03-.1zM14.51 67.46l11 3.65v-43l-11 5.37v34-.02zm12 6a1.13 1.13 0 0 1-.32-.05l-13-4.32a1 1 0 0 1-.68-1V32.85a1 1 0 0 1 .56-.9l13-6.35a1 1 0 0 1 1.44.9v46a1 1 0 0 1-.42.81 1 1 0 0 1-.58.19v-.04z",key:0}),r.createElement("path",{d:"M29.51 39.5h-3v-2h3v2zm6 0h-3v-2h3v2zm6 0h-3v-2h3v2zm6 0h-3v-2h3v2zM29.51 61.5h-3v-2h3v2zm6 0h-3v-2h3v2zm6 0h-3v-2h3v2zm6 0h-3v-2h3v2zM33.11 52.94l-3.76-3.2a1 1 0 0 1 0-1.52l3.76-3.21 1.3 1.52-2.82 2.44 2.87 2.45-1.3 1.52h-.05zM41.9 52.94l-1.31-1.52 2.87-2.46-2.87-2.44 1.3-1.52 3.76 3.2a1 1 0 0 1 0 1.52l-3.76 3.22h.01zM36.45 55.69l-1.89-.64 3.97-11.75 1.9.64-3.98 11.75z",key:1})])])])])])}a.defaultProps={viewBox:"0 0 450 122"},e.exports=a,a.default=a},function(e,t,n){var r=n(0);function a(e){return r.createElement("svg",e,[r.createElement("mask",{id:"middleLayer",key:0},[r.createElement("rect",{fill:"white",x:"0",y:"0",width:"64",height:"64",key:0}),r.createElement("path",{fill:"black",d:"M0 36.5l32 14 32-14L32 18z",key:1})]),r.createElement("mask",{id:"topLayer",key:1},[r.createElement("rect",{fill:"white",x:"0",y:"0",width:"64",height:"64",key:0}),r.createElement("path",{fill:"black",d:"M0 23.5l32 14 32-14L32 5z",key:1})]),r.createElement("g",{fill:"none",stroke:"#232f3e",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",key:2},[r.createElement("path",{d:"M1.5 45l30.5 14 30.5-14L32 32z",mask:"url(#middleLayer)",key:0}),r.createElement("path",{d:"M1.5 32l30.5 14 30.5-14L32 18z",mask:"url(#topLayer)",key:1}),r.createElement("path",{d:"M1.5 19l30.5 14 30.5-14L32 5z",key:2})])])}a.defaultProps={version:"1.1",viewBox:"0 0 64 64"},e.exports=a,a.default=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(4),a=n(183),i=n(2),o=n(10),c=n(21),s=n(8),u=n(5);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=regeneratorRuntime.mark(b),p=regeneratorRuntime.mark(g),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(r.Set)("function"==typeof t?t(e):t)},m=function(e,t,n){var r=n.dependencies,a=Object(s.e)(e);return!a.includes(t)&&!Object(s.Y)(e).includes(t)&&f(e,r).isSubset(a)};function b(e,t,n,a){var o,l,p,m,b,g,y,v,h,E,O,S,j,T,x,_,w,R,A;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(o=a.args,l=void 0===o?function(){}:o,p=a.dependencies,m=a.optional,b=void 0===m?[]:m,g=a.precondition,y=void 0===g?function(){return!0}:g,v=a.onSuccess,h=a.onFailure,E=a.run,O="fd_".concat(e),d.prev=2,u.startCustomTimer(O),f(t,p).subtract(Object(r.Set)(b)).intersect(Object(s.O)(t)).isEmpty()){d.next=10;break}return u.logEvent(O,null),d.next=9,Object(i.put)(n,{name:e,status:c.r.DEPENDENCY_FAILED});case 9:return d.abrupt("return");case 10:if(y(t)){d.next=15;break}return u.logEvent(O,null),d.next=14,Object(i.put)(n,{name:e,status:c.r.PRECONDITION_NOT_SATISFIED});case 14:return d.abrupt("return");case 15:return d.next=17,Object(i.call)(E,l(t));case 17:if(S=d.sent,u.logEvent(O,!0),!v){d.next=47;break}j=Array.isArray(v)?v:[v],T=!0,x=!1,_=void 0,d.prev=24,w=j[Symbol.iterator]();case 26:if(T=(R=w.next()).done){d.next=33;break}return A=R.value,d.next=30,Object(i.call)(A,S);case 30:T=!0,d.next=26;break;case 33:d.next=39;break;case 35:d.prev=35,d.t0=d.catch(24),x=!0,_=d.t0;case 39:d.prev=39,d.prev=40,T||null==w.return||w.return();case 42:if(d.prev=42,!x){d.next=45;break}throw _;case 45:return d.finish(42);case 46:return d.finish(39);case 47:return d.next=49,Object(i.put)(n,{name:e,res:S});case 49:d.next=59;break;case 51:if(d.prev=51,d.t1=d.catch(2),u.logEvent(O,!1),!h){d.next=57;break}return d.next=57,Object(i.call)(h,d.t1);case 57:return d.next=59,Object(i.put)(n,{name:e,err:d.t1});case 59:return d.prev=59,u.stopCustomTimer(O),u.logEvent(O),d.finish(59);case 63:case"end":return d.stop()}}),d,null,[[2,51,59,63],[24,35,39,47],[40,,42,46]])}function g(e){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.call)(a.channel);case 2:t=r.sent,r.prev=3,n=regeneratorRuntime.mark((function n(){var r,a,c,u,d,p,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.select)((function(e){return e}));case 2:return r=n.sent,a=Object.entries(e).filter((function(e){var t=l(e,2),n=t[0],a=t[1];return m(r,n,a)})),n.next=6,Object(i.all)(a.map((function(e){var t=l(e,1)[0];return Object(i.put)(Object(o.P)(t))})));case 6:return n.next=8,Object(i.all)(a.map((function(e){var n=l(e,2),a=n[0],o=n[1];return Object(i.spawn)(b,a,r,t,o)})));case 8:return!a.length&&Object(s.Y)(r).isEmpty()&&t.close(),n.next=11,Object(i.take)(t);case 11:return c=n.sent,u=c.name,d=c.err,p=c.res,f=c.status,n.next=18,i.put.resolve(Object(o.O)(u,d,p,f));case 18:case"end":return n.stop()}}),n)}));case 5:return r.delegateYield(n(),"t0",7);case 7:r.next=5;break;case 9:return r.prev=9,r.finish(9);case 11:case"end":return r.stop()}}),p,null,[[3,,9,11]])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.README_MESSAGE=void 0;var r,a=n(964),i=(r=a)&&r.__esModule?r:{default:r};var o=t.README_MESSAGE="\n  See the README for more information:\n  https://github.com/FormidableLabs/redux-little-router#wiring-up-the-boilerplate\n";t.default=function(e){e||(0,i.default)("\n      Missing route configuration. You must define your routes as\n      an object where the keys are routes and the values are any\n      route-specific data.\n\n      "+o+"\n    ")(),Object.keys(e).every((function(e){return 0===e.indexOf("/")}))||(0,i.default)("\n      The route configuration you provided is malformed. Make sure\n      that all of your routes start with a slash.\n\n      "+o+"\n    ")()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveLocation=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(231),o=n(433),c=(r=o)&&r.__esModule?r:{default:r};var s=t.resolveLocation=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return function(){return t(e.apply(void 0,arguments))}}))}((function(e){var t=e.oldLocation,n=e.newLocation,r=e.options;if(r.persistQuery){var i=(0,c.default)(t.query,n.query);return{oldLocation:t,newLocation:a({},n,i),options:r}}return{oldLocation:t,newLocation:a({},n,{query:n.query}),options:r}}),(function(e){var t=e.oldLocation,n=e.newLocation,r=e.options,i=t.basename;return i?{oldLocation:t,newLocation:a({basename:i},n),options:r}:{oldLocation:t,newLocation:n,options:r}}),(function(e){var t=e.oldLocation,n=e.newLocation,r=e.options;return{oldLocation:t,newLocation:a({},n,{previous:t}),options:r}})),u=function(e,t){var n=e.queue,r=void 0===n?[]:n;if(e.pathname===t.payload.pathname&&e.search===t.payload.search&&e.hash===t.payload.hash&&!r.length)return e;var i=r[0]||{},o=r.slice(1),c=(e.previous,e.routes),u=void 0===c?{}:c,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["previous","routes"]),d=i.options,p=void 0===d?{}:d,f=i.query,m=void 0===f?{}:f,b=a({},t.payload,{query:m}),g=s({oldLocation:l,newLocation:b,options:p}).newLocation;return a({},g,{routes:u,queue:o})};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.routes,n=void 0===t?{}:t,r=e.initialLocation;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a({},r,{routes:n,queue:[]}),t=arguments[1];return(0,i.isNavigationActionWithPayload)(t)?a({},e,{queue:e.queue&&e.queue.concat([t.payload])}):t.type===i.REPLACE_ROUTES?a({},e,{routes:t.payload.routes,options:t.payload.options}):t.type===i.DID_REPLACE_ROUTES?a({},e,{options:{}}):t.type===i.LOCATION_CHANGED?u(e,t):e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleNavigationAction=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(231),o=n(433),c=(r=o)&&r.__esModule?r:{default:r};var s=null,u=function(e,t){switch(t.type){case i.PUSH:e.push(t.payload);break;case i.REPLACE:e.replace(t.payload);break;case i.GO:e.go(t.payload);break;case i.GO_BACK:e.goBack();break;case i.GO_FORWARD:e.goForward();break;case i.BLOCK:s=e.block(t.payload);break;case i.UNBLOCK:s&&s()}},l=t.handleNavigationAction=function(e){var t=e.next,n=e.action,r=e.history,o=e.query,s=t(n);return(n.type===i.PUSH||n.type===i.REPLACE)&&n.payload.options&&n.payload.options.persistQuery?u(r,{type:n.type,payload:a({},n.payload,(0,c.default)(o,n.payload.query))}):u(r,n),s};t.default=function(e){var t=e.history;return function(e){var n=e.getState;return function(e){return function(r){var a=n().router.query;return(0,i.isNavigationAction)(r)?l({next:e,action:r,history:t,query:a}):e(r)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeToStoreAndHistory=t.createHistoryListener=t.createStoreSubscriber=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(111)),i=n(231),o=n(965),c=s(n(966));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.createStoreSubscriber=function(e,t,n){return function(r){var a=e(),i=a.routes,c=a.pathname,s=a.search,u=a.hash;return a.updateRoutes&&(r=n(i),t((0,o.didReplaceRoutes)()),t((0,o.replace)({pathname:c,search:s,hash:u}))),r}},l=t.createHistoryListener=function(e){return function(t,n,s){c.default.clear();var u=t(n.pathname),l=r({},n,u,{query:a.default.parse(n.search||"")});"POP"===s&&e({type:i.POP,payload:l}),e((0,o.locationDidChange)(l))}},d=t.subscribeToStoreAndHistory=function(e){var t=e.getState,n=e.dispatch,r=e.createMatcher,a=e.matchRoute,i=e.subscribeToStore,o=e.subscribeToHistory,c=u(t,n,r),s=l(n),d=a;i((function(){d=c(d)})),o((function(e,t){return s(d,e,t)}))};t.default=function(e){var t=e.history,n=e.matchRoute,a=e.createMatcher;return function(e){return function(i,o,c){var s=e(i,o,c),u=s.dispatch,l=s.subscribe,p=t.listen;return d({getState:function(){var e=s.getState().router,t=e.options,n=(t=void 0===t?{}:t).updateRoutes;return r({},e,{updateRoutes:n})},dispatch:u,createMatcher:a,matchRoute:n,subscribeToStore:l,subscribeToHistory:p}),r({},s,{matchRoute:n})}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(6),s=n(3),u=n(5);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b,g,y,v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=p(this,f(t).call(this,e))).state={error:null},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}],(r=[{key:"componentDidCatch",value:function(e,t){var n={message:e,error:t};Object(u.reportError)("clientSideError",n)}},{key:"render",value:function(){var e;return this.state.error?a.a.createElement(c.Alert,{header:a.a.createElement(s.FormattedMessage,{id:"error.errorBoundary"}),content:null===(e=this.state.error)||void 0===e?void 0:e.message,type:"error"}):this.props.children}}])&&d(n.prototype,r),i&&d(n,i),t}(r.Component);b=v,g="propTypes",y={children:o.a.any},g in b?Object.defineProperty(b,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):b[g]=y},,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(6),s=n(3),u=n(13),l=n(32),d=n(10),p=n(8);function f(e){var t=e.loading,n=e.disabled,r=e.saveFunction;return a.a.createElement(c.Button,{className:"save",onClick:r,loading:t,disabled:n,variant:"primary"},a.a.createElement(s.FormattedMessage,{id:"designer.button.save"}))}f.propTypes={loading:o.a.bool.isRequired,disabled:o.a.bool.isRequired,saveFunction:o.a.func.isRequired};var m=Object(u.connect)((function(e){return{loading:Object(p.J)(e),disabled:Object(p.H)(e)}}),(function(e){return{saveFunction:function(){return e(Object(d.x)())}}}))(f),b=n(4),g=n(7),y=n(36);function v(e){var t=new g.e(e.functionArn).functionName,n=!!e.provisionedConcurrencyConfigs.get("provisionedConcurrency"),r=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(c.Button,{variant:"link",onClick:e.close},a.a.createElement(s.FormattedMessage,{id:"cancel"})),a.a.createElement(c.Button,{disabled:n,variant:"primary",loading:e.loading,onClick:e.stopFunction},a.a.createElement(s.FormattedMessage,{id:"modal.stop.button.submit"})));return a.a.createElement(c.Modal,{className:"stopFunction",size:"medium",expandToFit:!0,header:a.a.createElement(s.FormattedMessage,{id:"modal.stop.title"}),footer:r,visible:e.isOpen,onDismiss:e.close},a.a.createElement(y.a,{scope:"stop-function"}),n?a.a.createElement(s.FormattedMessage,{id:"error.throttleModal.provisionedConcurrency",values:{functionName:t}}):a.a.createElement(s.FormattedHTMLMessage,{id:"modal.stop.text",values:{functionName:t}}))}v.propTypes={functionArn:o.a.string.isRequired,isOpen:o.a.bool.isRequired,loading:o.a.bool.isRequired,provisionedConcurrencyConfigs:o.a.object.isRequired,close:o.a.func.isRequired,stopFunction:o.a.func.isRequired,setStopModalLoading:o.a.func.isRequired};var h=Object(u.connect)((function(e){return{isOpen:Object(p.F)(e,"stop"),loading:Object(p.E)(e,"stop"),provisionedConcurrencyConfigs:Object(p.U)(e,"provisionedConcurrencyConfigsParser")||Object(b.Map)()}}),(function(e,t){return{close:function(){return e(Object(d.J)("stop",!1))},stopFunction:function(){return e(Object(d.R)(t.functionArn))},setStopModalLoading:function(t){return e(Object(d.K)("stop",t))}}}))(v),E=n(21);function O(e){var t=e.functionArn,n=e.qualifier,r=e.loading,i=e.disabled,o=e.stoppedAlready,u=e.openStopModal;return n?a.a.createElement("span",null):a.a.createElement("span",null,a.a.createElement(h,{functionArn:t}),a.a.createElement(c.Button,{className:"stop awsui-util-mr-s",onClick:u,loading:r,disabled:i,variant:"normal",icon:o?"status-warning":null},a.a.createElement(s.FormattedMessage,{id:"designer.button.".concat(o?"stoppedAlready":"stop")})))}O.propTypes={functionName:o.a.string.isRequired,qualifier:o.a.string,functionArn:o.a.string.isRequired,loading:o.a.bool.isRequired,disabled:o.a.bool.isRequired,stoppedAlready:o.a.bool.isRequired,openStopModal:o.a.func.isRequired};var S=Object(u.connect)((function(e,t){var n=g.e.fromFunctionName(t.functionName,t.qualifier).arn,r=Object(p.h)(e,n),a=Object(p.t)(e);return{functionArn:n,loading:Object(p.J)(e),disabled:!r||0===r.getIn(["data","reservedConcurrentExecutions"])||!a.intersect(E.t).isEmpty(),stoppedAlready:!!r&&0===r.getIn(["data","reservedConcurrentExecutions"])}}),(function(e){return{openStopModal:function(){return e(Object(d.J)("stop",!0))}}}))(O),j=n(137),T=n(56),x=n.n(T),_=n(43),w=n(20),R=function(e){var t=e.onClick;return a.a.createElement("div",{className:"click-shield",onClick:t})};R.propTypes={onClick:o.a.func.isRequired};var A=R,I=n(131);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){var t=e.name,n=e.lastModified,r=e.description,i=e.pills,o=e.selected,u=e.goToQualifier,l=e.goToPill,d=e.additionalVersionWeight,p=null==d?void 0:d.version,f=null==d?void 0:d.weight,m=void 0!==f?100-f:null;return a.a.createElement("li",{className:x()({selected:o}),onClick:u},"$UNQUALIFIED"===t?a.a.createElement("span",null,a.a.createElement(s.FormattedHTMLMessage,{tagName:"i",id:"functionDetail.qualifiers.selector.unqualified"}),a.a.createElement(c.Button,{variant:"icon",icon:"help",target:"_blank",href:Object(g.v)("versioning-intro.html")})):a.a.createElement("span",null,t),n&&a.a.createElement("span",null,"(",a.a.createElement(I.a,{value:n}),")"),a.a.createElement("small",{style:{display:"block"}},r),a.a.createElement("span",{style:{display:"block"}},i.map((function(e,t){return a.a.createElement("span",{key:t,onClick:function(t){return function(e,t){e.stopPropagation(),l(t)}(t,e)}},a.a.createElement(c.Badge,{color:"blue"},a.a.createElement(s.FormattedMessage,{id:"functionDetail.qualifiers.selector.".concat(Object(g.F)(e)),values:F({},Object(g.F)(e),e)})," ",null!==m&&p&&a.a.createElement(s.FormattedMessage,{id:"functionDetail.aliasConfig.versionWeight",values:{percentage:m}})),p?a.a.createElement(c.Badge,{color:"blue"},p&&a.a.createElement(s.FormattedMessage,{id:"functionDetail.qualifiers.selector.".concat(Object(g.F)(e)),values:F({},Object(g.F)(e),p)})," ",void 0!==f&&a.a.createElement(s.FormattedMessage,{id:"functionDetail.aliasConfig.versionWeight",values:{percentage:f}})):null)}))))}q.propTypes={name:o.a.string.isRequired,lastModified:o.a.string,description:o.a.string,pills:o.a.arrayOf(o.a.string).isRequired,selected:o.a.bool.isRequired,goToQualifier:o.a.func.isRequired,functionName:o.a.string,goToPill:o.a.func.isRequired,additionalVersionWeight:o.a.object};var V=Object(u.connect)(null,(function(e,t){return{goToPill:function(n){e(Object(l.h)({pathname:Object(_.c)(t.functionName,n)},{persistQuery:!0}))}}}))(q);function U(e){var t=e.qualifiers,n=e.isQualifiersDataLoaded,r=e.currentQualifier,i=e.isReplica,o=e.functionName,c=e.goToQualifier,u=null;if(n){var l=i?Object(b.List)():Object(w.f)(t.aliases,r,c),d=Object(w.o)(l),p=Object(w.g)(t.versions,r,c,d),f=[{id:"versions",label:function(){return a.a.createElement(s.FormattedMessage,{id:"functionDetail.qualifiers.title.versions"})}},{id:"aliases",label:function(){return a.a.createElement(s.FormattedMessage,{id:"functionDetail.qualifiers.title.aliases"})},disabled:i}];u=a.a.createElement(B,{versions:p,aliases:l,qualifier:r,tabs:f,functionName:o})}return a.a.createElement("span",null,u)}U.propTypes={qualifiers:o.a.object,isQualifiersDataLoaded:o.a.bool,currentQualifier:o.a.string,functionName:o.a.string,isReplica:o.a.bool,goToQualifier:o.a.func.isRequired};var G=Object(u.connect)(null,(function(e,t){return{goToQualifier:function(n){e(Object(l.h)({pathname:Object(_.c)(t.functionName,n)},{persistQuery:!0}))}}}))(U),B=function(e){function t(e,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=D(this,M(t).call(this,e,n));var a,i=e.qualifier,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.intl.formatMessage({id:e},t)};if(i){var c=Object(g.F)(i);a=o("functionDetail.qualifiers.selector.".concat(c),F({},c,i))}else a=o("functionDetail.qualifiers.title.qualifiers");return r.state={isOpen:!1,activeTab:"versions",filter:"",filterPlaceholder:o("functionDetail.qualifiers.selector.filter"),label:a},r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillMount",value:function(){this.setState({activeTab:"version"===Object(g.F)(this.props.qualifier)?"versions":"aliases"})}},{key:"setTab",value:function(e){this.setState({activeTab:e.target.component.activeTabId})}},{key:"handleDocumentClick",value:function(){this.setState({isOpen:!1})}},{key:"handleButtonClick",value:function(){this.setState((function(e){return{isOpen:!e.isOpen}}))}},{key:"updateFilter",value:function(e){this.setState({filter:e.target.component.value})}},{key:"render",value:function(){var e=this,t="caret-".concat(this.state.isOpen?"up":"down","-filled"),n=null;if(this.state.isOpen){var r=a.a.createElement("ul",null,Object.values(this.props[this.state.activeTab].toJS()).filter((function(t){return e.state.filter.filters(t.name)})).map((function(t,n){return a.a.createElement(V,k({key:n},t,{functionName:e.props.functionName}))})));n=a.a.createElement("span",null,a.a.createElement(A,{onClick:this.handleDocumentClick.bind(this)}),a.a.createElement("div",{className:"qualifier-dropdown"},a.a.createElement("div",null,a.a.createElement(s.FormattedMessage,{id:"functionDetail.qualifiers.selector.header"})),a.a.createElement("div",{className:"filter-container"},a.a.createElement(c.Input,{placeholder:this.state.filterPlaceholder,onInput:this.updateFilter.bind(this),value:this.state.filter})),a.a.createElement(c.Tabs,{tabs:this.props.tabs.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{content:r})})),activeTabId:this.state.activeTab,onChange:this.setTab.bind(this)})))}return a.a.createElement("div",{id:"qualifiers",className:"awsui-util-mr-s"},a.a.createElement("span",null,a.a.createElement(c.Button,{iconAlign:"right",icon:t,onClick:this.handleButtonClick.bind(this),text:this.state.label})),n)}}])&&P(n.prototype,r),i&&P(n,i),t}(a.a.Component);F(B,"propTypes",{qualifier:o.a.string,functionName:o.a.string.isRequired,tabs:o.a.array.isRequired,versions:o.a.object.isRequired,aliases:o.a.object.isRequired}),F(B,"contextTypes",{intl:s.intlShape.isRequired});var z=n(18),H=n.n(z),W=n(58),K=n(69),Y=n(33),J=n(42);function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){var n,r,i,o=t.intl,u=e.title,l=e.versions,d=e.nodeId,p=e.context,f=e.nameSchema,m=e.descriptionSchema,b=e.version,g=e.additionalVersionWeight,y=e.onVersionChange,v=e.readonly,h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.formatMessage({id:"functionDetail.aliasConfig.".concat(e)},t)},E=void 0!==d,O={type:"select",readonly:v};if(0===l.length&&(O.type="text",O.readonly=!0),!v||g){(null==g?void 0:g.get("version"))&&(n=a.a.createElement(c.FormField,{label:a.a.createElement("span",null)},a.a.createElement("span",null,h("versionWeight",{percentage:100-g.get("weight",0)}))),r=a.a.createElement(K.a,{type:"number",nodeId:d,context:p,name:"alias.additionalVersionWeight.weight",label:h("weight"),min:0,max:100,sideText:"%",readonly:v}));var S=[{value:"",text:h("none")}].concat(l.filter((function(e){var t=e.value;return t!==b&&"$LATEST"!==t})));i=a.a.createElement("div",{className:"additionalVersionAndWeight"},a.a.createElement("hr",null),a.a.createElement(s.FormattedHTMLMessage,{id:"functionDetail.aliasConfig.weightedAliases.title"}),a.a.createElement(c.ColumnLayout,{columns:2},a.a.createElement("div",{"data-awsui-column-layout-root":!0},a.a.createElement(K.a,Q({nodeId:d,context:p,name:"alias.additionalVersionWeight.version",items:S,enum:!0,label:h("additionalVersion.label")},O)),r)))}return a.a.createElement("div",null,u,a.a.createElement(K.a,{type:"text",nodeId:d,context:p,name:"alias.name",label:h("name.label"),readonly:E,schema:f,required:!E}),a.a.createElement(K.a,{type:"text",nodeId:d,context:p,name:"alias.description",label:h("description.label"),readonly:v,schema:m}),a.a.createElement(c.ColumnLayout,{columns:2},a.a.createElement("div",{"data-awsui-column-layout-root":!0},a.a.createElement(K.a,Q({nodeId:d,context:p,name:"alias.version",label:h("version.label"),items:l,enum:!0,required:!0,extraOnChange:y},O)),n)),i)}Z.propTypes={title:o.a.node.isRequired,versions:o.a.arrayOf(W.c).isRequired,nodeId:o.a.string,context:o.a.string,nameSchema:o.a.instanceOf(Y.c),descriptionSchema:o.a.instanceOf(Y.c),readonly:o.a.bool,version:o.a.string,additionalVersionWeight:J.a,onVersionChange:o.a.func.isRequired},Z.contextTypes={intl:s.intlShape.isRequired};var ee=Object(u.connect)((function(e,t){var n=t.nodeId,r=t.context,a=Object(K.c)({state:e,nodeId:n,context:r,field:"alias"});return{version:null==a?void 0:a.get("version"),additionalVersionWeight:null==a?void 0:a.get("additionalVersionWeight")}}),(function(e,t){var n=t.nodeId,r=t.context;return{onVersionChange:function(t,a){t===a&&e(Object(K.d)({nodeId:n,context:r,field:"additionalVersionWeight.version",value:""}))}}}),(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{},e,{},t,{onVersionChange:function(n){var r;return t.onVersionChange(n,null===(r=e.additionalVersionWeight)||void 0===r?void 0:r.get("version"))}})}))(Z),te=n(44);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ce,se,ue,le=new Y.c({type:"string",required:!0,maxLength:20,pattern:/(?!^\d+$)(^[\w-]*$)/,messages:{pattern:Y.b["alias.pattern"]}}),de=new Y.c({type:"string",required:!1,allowEmpty:!0,maxLength:256}),pe=new Y.c({type:"string",required:!0}),fe={name:le,description:de,functionVersion:pe},me=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ae(this,ie(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,e),n=t,(r=[{key:"isValid",value:function(){return!fe.name.deeplyValidate(this.props.aliasFields.get("name"))&&!fe.functionVersion.deeplyValidate(this.props.aliasFields.get("version"))&&!fe.description.deeplyValidate(this.props.aliasFields.get("description"))}},{key:"render",value:function(){var e,t=[];(null===(e=this.props.qualifiers)||void 0===e?void 0:e.versions)&&(t=this.props.qualifiers.versions.map((function(e){return{text:e.get("version"),value:e.get("version")}})).toList().sort(Object(w.s)((function(e){return e.value}))).toJS());var n=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(c.Button,{variant:"link",onClick:this.props.close},a.a.createElement(s.FormattedMessage,{id:"cancel"})),a.a.createElement(c.Button,{variant:"primary",loading:this.props.loading,onClick:this.props.createAlias,disabled:!this.isValid()},a.a.createElement(s.FormattedMessage,{id:"functionDetail.qualifiers.modal.createAlias.button.submit"})));return a.a.createElement(c.Modal,{className:"createAliasModal",size:"large",expandToFit:!0,header:a.a.createElement(s.FormattedMessage,{id:"functionDetail.qualifiers.modal.createAlias.title"}),visible:this.props.isOpen,onDismiss:this.props.close,footer:n},a.a.createElement(y.a,{scope:"create-alias-modal"}),a.a.createElement(ee,{context:"modal",title:a.a.createElement(s.FormattedMessage,{id:"modal.createAliasTwoVersions.text"}),versions:t,nameSchema:le,versionSchema:pe,descriptionSchema:de}))}}])&&re(n.prototype,r),i&&re(n,i),t}(a.a.Component);ce=me,se="propTypes",ue={functionName:o.a.string.isRequired,aliasFields:H.a.map,isOpen:o.a.bool.isRequired,loading:o.a.bool.isRequired,qualifiers:o.a.object,close:o.a.func.isRequired,createAlias:o.a.func.isRequired},se in ce?Object.defineProperty(ce,se,{value:ue,enumerable:!0,configurable:!0,writable:!0}):ce[se]=ue;var be=Object(u.connect)((function(e){return{aliasFields:e.formFields.getIn(["fields","modal","alias"])||Object(b.Map)(),isOpen:Object(p.F)(e,"alias"),loading:Object(p.E)(e,"alias"),qualifiers:Object(p.U)(e,"functionQualifiersSource")}}),(function(e,t){return{close:function(){e(Object(te.a)("modal.alias")),e(Object(d.J)("alias",!1))},createAlias:function(){return e(Object(d.h)(t.functionName))}}}))(me),ge=n(14),ye=n(11),ve=n(40);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Se(this,je(t).apply(this,arguments))}var n,r,i,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,e),n=t,(r=[{key:"getDeleteMessageId",value:function(e){return"modal.delete.".concat(e,".").concat(this.props.qualifierType)}},{key:"deleteThing",value:(o=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.setLoading(!0),t=this.props.functionName,n=Object(g.G)(t),r="$LATEST"===this.props.qualifier?void 0:this.props.qualifier,e.prev=4,"alias"!==this.props.qualifierType){e.next=10;break}return e.next=8,ye.a.deleteAlias({functionName:t,name:r});case 8:e.next=12;break;case 10:return e.next=12,ye.a.deleteFunction({functionName:t,qualifier:r});case 12:"func"===this.props.qualifierType?(Object(ve.h)("lambda-code-edit-".concat(t)),Object(ve.h)(Object(w.j)(t)),this.props.enqueueSuccess(t,r,"listFunctions"),this.props.visitFunctionList(),Object(g.o)(n),Object(ve.a)(n)):(this.props.enqueueSuccess(t,r),this.props.visitFunctionDesigner(t)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),this.props.enqueueError({id:"error.frontend.deleteModal.failure.".concat(this.props.qualifierType),values:{error:e.t0.message}});case 18:this.props.setLoading(!1),this.props.close();case 20:case"end":return e.stop()}}),e,this,[[4,15]])})),u=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){Ee(a,n,r,i,c,"next",e)}function c(e){Ee(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return u.apply(this,arguments)})},{key:"render",value:function(){var e=encodeURIComponent(this.props.functionName),t=encodeURI(this.props.qualifier),n=this.props.isOpen&&!this.props.isReplica,r=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(c.Button,{variant:"link",onClick:this.props.close},a.a.createElement(s.FormattedMessage,{id:"cancel"})),a.a.createElement(c.Button,{variant:"primary",loading:this.props.loading,onClick:this.deleteThing.bind(this)},a.a.createElement(s.FormattedMessage,{id:"modal.delete.button.submit"})));return a.a.createElement(c.Modal,{className:"deleteFunction",size:"medium",expandToFit:!0,header:this.context.intl.formatMessage({id:this.getDeleteMessageId("title")},{functionName:e,qualifier:t}),footer:r,visible:n,onDismiss:this.props.close},a.a.createElement(s.FormattedHTMLMessage,{id:this.getDeleteMessageId("text")}))}}])&&Oe(n.prototype,r),i&&Oe(n,i),t}(a.a.Component);xe(_e,"propTypes",{functionName:o.a.string.isRequired,qualifier:o.a.string,qualifierType:o.a.string.isRequired,isReplica:o.a.bool.isRequired,isOpen:o.a.bool.isRequired,loading:o.a.bool.isRequired,close:o.a.func.isRequired,setLoading:o.a.func.isRequired,enqueueSuccess:o.a.func.isRequired,enqueueError:o.a.func.isRequired,visitFunctionDesigner:o.a.func.isRequired,visitFunctionList:o.a.func.isRequired}),xe(_e,"contextTypes",{intl:s.intlShape.isRequired});var we=Object(u.connect)((function(e){return{isOpen:Object(p.F)(e,"delete"),loading:Object(p.E)(e,"delete")}}),(function(e,t){return{close:function(){return e(Object(d.J)("delete",!1))},setLoading:function(t){return e(Object(d.K)("delete",t))},enqueueSuccess:function(n,r,a){return e(Object(ge.c)({type:"success",scope:a,message:{id:"modal.delete.alert.success.".concat(t.qualifierType),values:{functionName:n,qualifier:r}}}))},enqueueError:function(t){return e(Object(ge.d)({message:t}))},visitFunctionDesigner:function(t){return e(Object(_.d)(t,"$LATEST"))},visitFunctionList:function(){return e(Object(l.h)("/functions"))}}}))(_e),Re=n(96);function Ae(e,t){var n=e.isOpen,r=e.publishing,i=e.close,o=e.onPublish,u=t.intl,l=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(c.Button,{variant:"link",onClick:i},a.a.createElement(s.FormattedMessage,{id:"cancel"})),a.a.createElement(c.Button,{variant:"primary",loading:r,onClick:o},a.a.createElement(s.FormattedMessage,{id:"functionDetail.qualifiers.modal.publish.button.submit"})));return a.a.createElement(c.Modal,{className:"publishVersionModal",size:"large",expandToFit:!0,header:a.a.createElement(s.FormattedMessage,{id:"functionDetail.qualifiers.modal.publish.title"}),footer:l,visible:n,onDismiss:i},a.a.createElement(y.a,{scope:"publish-version-modal"}),a.a.createElement("div",null,a.a.createElement(s.FormattedMessage,{tagName:"p",id:"functionDetail.qualifiers.modal.publish.text"}),a.a.createElement(Re.a,{type:"text",id:"modal.publish.description",label:u.formatMessage({id:"functionDetail.qualifiers.modal.publish.description"})})))}Ae.propTypes={functionName:o.a.string.isRequired,isOpen:o.a.bool.isRequired,publishing:o.a.bool.isRequired,versionFields:H.a.map,close:o.a.func.isRequired,onPublish:o.a.func.isRequired},Ae.contextTypes={intl:s.intlShape.isRequired};var Ie=Object(u.connect)((function(e){return{isOpen:Object(p.F)(e,"version"),publishing:Object(p.E)(e,"version"),versionFields:e.formFields.getIn(["fields","modal","version"])||Object(b.Map)()}}),(function(e,t){return{close:function(){e(Object(te.a)("modal.publish")),e(Object(d.J)("version",!1)),e(Object(ge.a)("publish-version-modal","info")),e(Object(ge.a)("publish-version-modal","error"))},onPublish:function(){return e(Object(d.i)(t.functionName))}}}))(Ae),Ne=n(255),Ce=n(22),ke=n(5);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Me(this,Le(t).call(this,e,n))).state={selectKey:0,configText:Object(g.E)(n.intl,{id:"functionDetail.testEvents.configure"}),savedEventsText:Object(g.E)(n.intl,{id:"functionDetail.testEvents.saved"}),placeholder:Object(g.E)(n.intl,{id:"functionDetail.testEvents.selectTest"})},r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,e),n=t,(r=[{key:"selectClicked",value:function(e){var t=e.detail.selectedId;t===this.state.configText?(this.setState((function(e){return{selectKey:e.selectKey+1}})),this.props.openEventModal()):(this.props.setEventIdToInvoke(t),this.props.loadTestEvent(this.props.functionName,t),Object(ke.logEvent)(ke.EVENT_NAMES.TESTEVENT_FD_SWITCH))}},{key:"render",value:function(){var e=this.props.savedEvents,t=this.props.eventIdToInvoke?this.props.eventIdToInvoke:null,n=[];e.size>0&&(n=[{label:this.state.savedEventsText,options:e.toJS().map((function(e){return{id:e.id,label:e.name}}))}]),n.push({id:this.state.configText,label:this.state.configText});var r=Object(w.r)(this.props.functionName),i=this.props.loading||this.props.disabled||r||!this.props.functionCombinedStateSet.intersect(E.s).isEmpty(),o=this.props.loading||this.props.isEventLoading||this.props.isInvoking;return a.a.createElement("div",{className:"fd-testevent-button-group awsui-util-ph-s"},a.a.createElement("div",{className:"awsui-util-clearfix awsui-util-d-ib"},a.a.createElement(c.Select,{disabled:i,selectedId:t,key:this.state.selectKey,options:n,placeholder:this.state.placeholder,onChange:this.selectClicked.bind(this),adjustWidth:!0}),a.a.createElement(c.Button,{className:"test",onClick:this.props.testFunction,loading:o,disabled:i},a.a.createElement(s.FormattedMessage,{id:"designer.button.test"}))))}}])&&De(n.prototype,r),i&&De(n,i),t}(a.a.Component);qe(Ve,"contextTypes",{intl:s.intlShape.isRequired}),qe(Ve,"propTypes",{loading:o.a.bool,isEventLoading:o.a.bool,disabled:o.a.bool,isInvoking:o.a.bool,eventIdToInvoke:o.a.string,savedEvents:H.a.list.isRequired,functionName:o.a.string.isRequired,functionCombinedStateSet:o.a.object,loadTestEvent:o.a.func.isRequired,setEventIdToInvoke:o.a.func.isRequired,openEventModal:o.a.func.isRequired,testFunction:o.a.func.isRequired});var Ue=Object(u.connect)((function(e){return{loading:!Object(p.e)(e).includes("testingSource"),isEventLoading:Ce.e.getIsEventLoading(e),disabled:Object(p.J)(e),isInvoking:Ce.e.getIsInvoking(e),eventIdToInvoke:Ce.e.getEventIdToInvoke(e),savedEvents:Ce.e.getSavedEvents(e),functionName:Object(p.w)(e)||"",functionCombinedStateSet:Object(p.t)(e)}}),(function(e){return{loadTestEvent:function(t,n){return e(Ce.c.loadTestEvent(t,n))},setEventIdToInvoke:function(t){return e(Ce.c.setEventIdToInvoke(t))},openEventModal:function(){return e(Ce.c.toggleEventModal())},testFunction:function(){return e(Ce.c.test())}}}))(Ve),Ge=n(161),Be=n(9);function ze(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var He=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e?n:[]},We=function(e,t){return!t.intersect(e).isEmpty()},Ke={PUBLISH_VERSION:"publishVersion",CREATE_ALIAS:"createAlias",EDIT_GROUP:"editGroup",DELETE:"delete",EXPORT_TO_FLOURISH:"exportToFlourish",DEPLOY_TO_LAMBDA_AT_EDGE:"deployToLambdaAtEdge"};function Ye(e,t){var n,r=t.intl,i=e.routeParams,o=e.qualifiers,u=e.isQualifiersDataLoaded,l=e.isSaveButtonDisabled,d=e.currentQualifier,p=e.isReplica,f=e.onActionsItemClick,b=e.integrations,y=e.functionCombinedStateSet,v=i.functionName,h=i.alias,O=i.version||h,T="$LATEST"===O?"func":Object(g.F)(O)||"func",x=O&&"$LATEST"!==O,_=null===(n=b.cloudfront)||void 0===n?void 0:n.isAvailable,w=[{id:Ke.PUBLISH_VERSION,text:r.formatMessage({id:"functionDetail.button.publishVersion"}),disabled:x||!u||We(Be.f.includes("pluto2")?E.n:E.n.add(E.i.UPDATE_PENDING),y)},{id:Ke.CREATE_ALIAS,text:r.formatMessage({id:"functionDetail.button.createAlias"}),disabled:p||!u||We(E.b,y)}].concat(ze(He(Be.f.includes("frost"),{id:Ke.EDIT_GROUP,text:r.formatMessage({id:"group.modal.action"}),disabled:p||x||We(E.h,y)})),[{id:Ke.DELETE,text:r.formatMessage({id:"functionDetail.button.delete.".concat(T)},{functionName:v,qualifier:O}),disabled:p||We(E.d,y)},{id:Ke.EXPORT_TO_FLOURISH,text:r.formatMessage({id:"exportFunction"}),disabled:p}],ze(He(_&&!p&&!x,{text:r.formatMessage({id:"functionDesigner.capabilities.title"}),items:[{id:Ke.DEPLOY_TO_LAMBDA_AT_EDGE,text:r.formatMessage({id:"functionDesigner.capabilities.deployToLambdaAtEdge"}),disabled:!l||We(E.l,y)}]})));return a.a.createElement("span",{className:"needs-old-form-field-override"},a.a.createElement(we,{functionName:v,qualifierType:T,qualifier:O,isReplica:p}),Be.f.includes("frost")?a.a.createElement(Ne.b,{functionName:v}):null,a.a.createElement(be,{functionName:v}),a.a.createElement(Ie,{functionName:v}),a.a.createElement(Ge.b,null),_?a.a.createElement(j.a,null):null,a.a.createElement(S,{functionName:v,qualifier:O}),a.a.createElement(G,{qualifiers:o,isQualifiersDataLoaded:u,currentQualifier:d,isReplica:p,functionName:v}),a.a.createElement(c.ButtonDropdown,{id:"function-designer-dropdown",disabled:p,items:w,onItemClick:f},a.a.createElement(s.FormattedMessage,{id:"functionDetail.button.actions"})),a.a.createElement(Ue,null),a.a.createElement(m,null))}Ye.propTypes={routeParams:o.a.object,qualifiers:o.a.object,isQualifiersDataLoaded:o.a.bool,isSaveButtonDisabled:o.a.bool,currentQualifier:o.a.string,isReplica:o.a.bool,onActionsItemClick:o.a.func,integrations:o.a.objectOf(J.c),functionCombinedStateSet:o.a.object},Ye.contextTypes={intl:s.intlShape.isRequired};var Je=n(113),Qe=n(257),Xe=n(109);function $e(e,t){var n=e.functionName,r=e.qualifier,i=e.masterArn,o=e.editPage,c=e.hideRightSide,u=e.isCreate,l=t.intl,d=g.e.fromFunctionName(n,r).arn,p=null;if(i&&r&&"$LATEST"!==r){var f=Object(w.l)(i);p=a.a.createElement("div",null,a.a.createElement(s.FormattedMessage,{tagName:"b",id:"masterARN"})," - ",a.a.createElement(Xe.c,{href:f},a.a.createElement(Qe.a,{value:i})))}var m="#/functions/".concat(n),b={items:[{text:l.formatMessage({id:"functions.title"}),href:"#/functions"},{text:n,href:m}],rightSide:!c&&a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(s.FormattedMessage,{tagName:"b",id:"ARN"})," - ",a.a.createElement(Qe.a,{value:d})),p)};if(r){var y={text:r,href:m="".concat(m,"/").concat(r)};i&&"$LATEST"!==r&&(b.items.splice(1,1),y.text=l.formatMessage({id:"functionDetail.replica"},{functionName:n})),b.items.push(y)}return o&&b.items.push({text:l.formatMessage({id:"".concat(Object(w.i)(o),u?"Create.header":".header")}),href:"".concat(m,"/edit/").concat(o)}),a.a.createElement(Je.a,b)}function Ze(e){var t=e.failed,n=e.results;return t.isEmpty()?null:a.a.createElement("span",{className:"lambda-alerts"},a.a.createElement(c.Alert,{type:"warning",dismissible:!0},a.a.createElement("ul",{className:"alert-group"},t.map((function(e){var t=n.get(e).message;return a.a.createElement("li",{key:e},t.id?a.a.createElement(s.FormattedMessage,{id:t.id}):t)})))))}$e.propTypes={functionName:o.a.string.isRequired,qualifier:o.a.string,masterArn:o.a.string,editPage:o.a.string,hideRightSide:o.a.bool,isCreate:o.a.bool},$e.contextTypes={intl:s.intlShape.isRequired},Ze.propTypes={failed:H.a.list.isRequired,results:H.a.map.isRequired};var et=Object(u.connect)((function(e){return{failed:Object(p.p)(e),results:Object(p.V)(e)}}))(Ze),tt=n(99),nt=n(86),rt=n(29);function at(e){var t=e.isCreate,n=e.functionName,r=e.qualifier,i=e.editPage,o=e.isSaveButtonDisabled,u=e.isSavingEdit,l=e.cancel,d=e.save,p=a.a.createElement($e,{functionName:n,qualifier:r,editPage:i,hideRightSide:!0,isCreate:t}),f=Object(w.i)(i),m=tt[f].component,b={id:f,header:a.a.createElement(s.FormattedMessage,{tagName:"h1",id:"".concat(f,t?"Create.header":".header")}),actionsProvider:function(e){return a.a.createElement("div",null,a.a.createElement(c.Button,{variant:"link",onClick:l},a.a.createElement(s.FormattedMessage,{id:"cancel"})),a.a.createElement(c.Button,{variant:"primary",onClick:e,disabled:o,loading:u},a.a.createElement(s.FormattedMessage,{id:"save"})))},onSubmit:d,schema:tt[f].schema};return a.a.createElement(nt.a,{id:"functionDesigner",breadcrumbs:p},a.a.createElement(y.a,{scope:f}),a.a.createElement(m,{formProps:b}))}at.propTypes={functionName:o.a.string.isRequired,qualifier:o.a.string,editPage:o.a.string.isRequired,isSaveButtonDisabled:o.a.bool.isRequired,isSavingEdit:o.a.bool.isRequired,isCreate:o.a.bool.isRequired,cancel:o.a.func.isRequired,save:o.a.func.isRequired};var it=Object(u.connect)((function(e){return{isSaveButtonDisabled:!Object(p.t)(e).intersect(E.o).isEmpty(),isSavingEdit:Object(p.K)(e),isCreate:!!Object(_.f)(Object(rt.b)(e).pathname).isCreate}}),(function(e,t){return{cancel:function(){Object(ke.logEvent)(ke.EVENT_NAMES.EDIT_PAGE_CANCEL(t.editPage)),Object(w.t)(t.functionName,t.qualifier,"editPage","cancel");var n=Object(w.m)(t.functionName);e(n?Object(l.h)(n):Object(_.d)(t.functionName,t.qualifier))},save:function(n){return e(Object(d.B)(t.functionName,t.qualifier,t.editPage,n))}}}))(at),ot=n(25);function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(e){var t=e.id,n=e.children,r=e.editPage,i=e.showInfoLink,o=e.readonly,u=e.navigateToEdit,l="functionDetail.sections.".concat(t,".title"),d="designer.pane.".concat(t,".title.helpContent");o&&(l="functionDetail.sections.".concat(t,".title.readonly"),d="designer.pane.".concat(t,".title.helpContent.readonly"));var p=null;r&&!o&&(p=a.a.createElement(c.Button,{onClick:u},a.a.createElement(s.FormattedMessage,{id:"edit"})));var f=a.a.createElement(ot.a,{header:a.a.createElement(s.FormattedMessage,{id:l}),info:i?a.a.createElement(s.FormattedHTMLMessage,{id:d}):null},p);return a.a.createElement(c.FormSection,{id:"".concat(t,"Section"),className:"function-node-section",header:f},n)}ut.propTypes={id:o.a.string.isRequired,children:o.a.node.isRequired,editPage:o.a.string,showInfoLink:o.a.bool,readonly:o.a.bool,navigateToEdit:o.a.func.isRequired};var lt=Object(u.connect)((function(e){return{functionName:Object(p.w)(e),qualifier:Object(p.S)(e)}}),(function(e,t){return{navigateToEdit:function(n,r){e(Object(d.I)(!0)),e(Object(_.d)(n,r,t.editPage))}}}),(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(n,!0).forEach((function(t){st(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{},e,{},t,{navigateToEdit:function(){return t.navigateToEdit(e.functionName,e.qualifier)}})}))(ut);function dt(){return a.a.createElement(lt,{id:"auditing"},a.a.createElement(s.FormattedHTMLMessage,{tagName:"p",id:"functionDetail.sections.auditing.blurb"}))}function pt(e){var t=e.atom,n=e.type;return"*"===t?a.a.createElement(s.FormattedMessage,{tagName:"b",id:"functionDesigner.node.resource.".concat(n,".all")}):a.a.createElement("span",null,t)}function ft(e){var t=e.statement,n=e.other,r=t.get("effect"),i=a.a.createElement(pt,{atom:t.get(n),type:n});return a.a.createElement("span",{className:x()({"awsui-util-status-negative":"Deny"===r})},a.a.createElement(s.FormattedMessage,{id:"separator",values:{key:r,value:i}}))}pt.propTypes={atom:o.a.string.isRequired,type:o.a.string.isRequired},ft.propTypes={statement:H.a.map.isRequired,other:o.a.string.isRequired};var mt=function(e,t){return[{id:e,header:function(){return a.a.createElement(s.FormattedMessage,{id:"functionDesigner.node.resource.focus.".concat(e)})},cell:function(t){return a.a.createElement(pt,{atom:t[0],type:e})}},{id:t,header:function(){return a.a.createElement(s.FormattedMessage,{id:"functionDesigner.node.resource.other.".concat(e)})},cell:function(e){return a.a.createElement("ul",null,e[1].map((function(e,n){return a.a.createElement("li",{key:n},a.a.createElement(ft,{statement:e,other:t}))})))}}]};function bt(e){var t=e.statements,n=e.focus,r="action"===n?"resource":"action",i=t.groupBy((function(e){return e.get(n)})).map((function(e){return e.map((function(e){return e.delete("source")}))})).map(b.Set).entrySeq().toArray();return a.a.createElement(c.Table,{variant:"borderless",columnDefinitions:mt(n,r),items:i})}function gt(e){var t=e.source,n={name:t.get("policyName"),index:t.get("index")};return a.a.createElement(s.FormattedMessage,{id:"functionDesigner.node.resource.source.".concat(t.get("policyType")),values:n})}bt.propTypes={statements:H.a.list.isRequired,focus:o.a.string.isRequired},gt.propTypes={source:H.a.map.isRequired};function yt(e){var t=e.nodes,n=e.role,r=e.bare,i=t.get(0),o=i.getIn(["data","statements"]),u=["action","resource"].map((function(e){return{id:e,label:function(){return a.a.createElement(s.FormattedMessage,{id:"functionDesigner.node.resource.tab.".concat(e)})},content:a.a.createElement(bt,{statements:o,focus:e})}})),l=o.map((function(e){return e.get("source")})).toSet(),d=i.get("name"),p="*"===d?a.a.createElement(s.FormattedMessage,{id:"functionDesigner.node.resource.all"}):d,f=new g.d(n).roleName,m=a.a.createElement(a.a.Fragment,null,a.a.createElement(s.FormattedHTMLMessage,{tagName:"div",id:"functionDesigner.node.resource.blurb",values:{roleName:f,service:d}}),a.a.createElement(c.Tabs,{id:"resourceTabs",tabs:u,activeTabId:"resource"}),a.a.createElement(c.Alert,null,a.a.createElement(s.FormattedMessage,{id:"functionDesigner.node.resource.source.blurb"}),a.a.createElement("ul",null,l.map((function(e,t){return a.a.createElement("li",{key:t,className:"awsui-util-ml-l"},a.a.createElement(gt,{source:e}))})))));return r?m:a.a.createElement("div",{className:"awsui-util-container awsui-util-no-gutters"},a.a.createElement("div",{className:"awsui-util-container-header"},p),a.a.createElement("div",{className:"awsui-util-clearfix"},m))}yt.propTypes={nodes:H.a.listOf(J.e).isRequired,role:o.a.string.isRequired,bare:o.a.bool};var vt=Object(u.connect)((function(e){return{role:Object(p.eb)(e,"functionSource").get("role")}}))(yt),ht=n(45),Et=n(105),Ot=n(65),St=n(31);function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return!t||"object"!==jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function At(e,t){var n=e.resourcesLoading,i=e.resources,o=t.intl;if(n)return a.a.createElement(St.a,null);var s=i.getIn([0,"data","service","name"]),u=Rt(Object(r.useState)(s),2),l=u[0],d=u[1],p=i.map((function(e){var t=e.getIn(["data","service","name"]),n=e.getIn(["data","statements"]);return{id:t,label:"*"===t?o.formatMessage({id:"functionDesigner.node.resource.all"}):t,description:o.formatMessage({id:"functionDesigner.permissionsTab.resource.description"},{actions:n.map((function(e){return e.get("action")})).toSet().size,resources:n.map((function(e){return e.get("resource")})).toSet().size}),iconUrl:e.getIn(["data","service","icon"])}})).toArray();return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.Select,{enableFiltering:!0,triggerVariant:"option",options:p,selectedId:l,onChange:function(e){return d(e.detail.selectedId)}}),a.a.createElement("div",{className:"resource-node awsui-util-mt-m"},a.a.createElement(vt,{bare:!0,nodes:i.filter((function(e){return e.getIn(["data","service","name"])===l}))})))}At.propTypes={resourcesLoading:o.a.bool.isRequired,resources:H.a.list},At.contextTypes={intl:s.intlShape.isRequired};var It=Object(u.connect)((function(e){return{resourcesLoading:!Object(p.b)(e,"resource"),resources:Object(p.N)(e,"resource")}}))(At),Nt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=xt(this,_t(t).call(this,e))).state={modalOpen:!1},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(t,e),n=t,(r=[{key:"setModalOpen",value:function(e){this.setState({modalOpen:e})}},{key:"render",value:function(){var e,t,n=this;if(Object(g.P)("parmigiana")&&this.props.resourcePolicyLoading)e=a.a.createElement(St.a,null);else if(this.props.resourcePolicyFailed)e=a.a.createElement(c.Alert,{content:this.props.resourcePolicy.message,type:"warning"});else if(this.props.resourcePolicy){var r=JSON.stringify(this.props.resourcePolicy,null,2);e=a.a.createElement(Et.a,{id:"resourcePolicy",mode:"json",readonly:!0,value:r})}else e=a.a.createElement(s.FormattedHTMLMessage,{tagName:"p",id:"modal.policy.empty"});if(Object(g.P)("parmigiana")&&this.props.executionRoleLoading)t=a.a.createElement(St.a,null);else if(this.props.executionRoleFailed)t=a.a.createElement(c.Alert,{content:this.props.executionRole.message,type:"warning"});else{var i=JSON.stringify(this.props.executionRole,null,2);t=a.a.createElement(Et.a,{id:"executionRole",mode:"json",readonly:!0,value:i})}if(Object(g.P)("parmigiana")){var o,u=a.a.createElement(ot.a,{header:a.a.createElement(s.FormattedMessage,{id:"functionDesigner.permissionsTab.role.header"})},a.a.createElement(c.Button,{onClick:function(){return n.setModalOpen(!0)}},a.a.createElement(s.FormattedMessage,{id:"functionDesigner.permissionsTab.role.actions.viewJson"}))),l=a.a.createElement(ot.a,{header:a.a.createElement(s.FormattedMessage,{id:"functionDesigner.tab.permissions.resourcePolicy.title"}),info:a.a.createElement(s.FormattedMessage,{id:"functionDesigner.tab.permissions.resourcePolicy.info"})}),d=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(c.Button,{variant:"link",onClick:function(){return n.setModalOpen(!1)}},a.a.createElement(s.FormattedMessage,{id:"close"})));return o=this.props.executionRoleFailed?t:a.a.createElement(It,null),a.a.createElement(a.a.Fragment,null,a.a.createElement(ot.b,{header:u},o),a.a.createElement(ot.b,{header:l},e),a.a.createElement(dt,null),a.a.createElement(c.Modal,{content:t,size:"large",expandToFit:!0,visible:this.state.modalOpen,header:a.a.createElement(s.FormattedMessage,{id:"functionDesigner.permissionsTab.roleJson.header"}),footer:d,onDismiss:function(){return n.setModalOpen(!1)}}))}return a.a.createElement(St.b,{cond:this.props.resourcePolicyLoading||this.props.executionRoleLoading},a.a.createElement(c.ColumnLayout,{columns:2,className:"awsui-util-no-gutters"},a.a.createElement("div",{"data-awsui-column-layout-root":"true"},a.a.createElement("div",{className:"awsui-util-container"},a.a.createElement("div",{className:"awsui-util-container-header"},a.a.createElement(s.FormattedMessage,{id:"functionDesigner.tab.permissions.resourcePolicy.title"}),a.a.createElement(Ot.a,{message:a.a.createElement(s.FormattedMessage,{id:"functionDesigner.tab.permissions.resourcePolicy.info"})})),e),a.a.createElement("div",{className:"awsui-util-container"},a.a.createElement("div",{className:"awsui-util-container-header"},a.a.createElement(s.FormattedMessage,{id:"functionDesigner.tab.permissions.executionRole.title"}),a.a.createElement(Ot.a,{message:a.a.createElement(s.FormattedMessage,{id:"functionDesigner.tab.permissions.executionRole.info"})})),t))))}}])&&Tt(n.prototype,r),i&&Tt(n,i),t}(a.a.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Nt,"propTypes",{resourcePolicyLoading:o.a.bool.isRequired,resourcePolicy:o.a.object,resourcePolicyFailed:o.a.bool,executionRoleLoading:o.a.bool.isRequired,executionRole:o.a.object,executionRoleFailed:o.a.bool,showHelp:o.a.func.isRequired});var Ct=Object(u.connect)((function(e){return{resourcePolicyLoading:!Object(p.e)(e).includes("resourcePolicySource"),resourcePolicy:Object(p.U)(e,"resourcePolicySource"),resourcePolicyFailed:Object(p.O)(e).contains("resourcePolicySource"),executionRoleLoading:!Object(p.e)(e).includes("executionRoleSource"),executionRole:Object(p.U)(e,"executionRoleSource"),executionRoleFailed:Object(p.O)(e).contains("executionRoleSource")}}),(function(e){return{showHelp:function(){return e(Object(ht.e)(a.a.createElement(s.FormattedHTMLMessage,{id:"functionDesigner.tab.permissions.helpContent"})))}}}))(Nt),kt=n(80),Pt=n(462);function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ut=[{id:"source",header:function(){return a.a.createElement(s.FormattedMessage,{id:"editDestination.source.field.label"})},cell:function(e){return a.a.createElement(s.FormattedMessage,{id:"destination.source.".concat(e.source)})}},{id:"sourceArn",header:function(){return a.a.createElement(s.FormattedMessage,{id:"editDestination.esmId.field.label"})},cell:function(e){return e.sourceArn?new g.b(e.sourceArn).resource:"-"}},{id:"condition",header:function(){return a.a.createElement(s.FormattedMessage,{id:"editDestination.condition.field.label"})},cell:function(e){return a.a.createElement(s.FormattedMessage,{id:"destination.condition.".concat(e.condition)})}},{id:"destArn",header:function(){return a.a.createElement(s.FormattedMessage,{id:"editDestination.destArn.field.label"})},cell:function(e){return e.destArn}}],Gt=function(e){function t(e,n){var r,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,i=Lt(t).call(this,e,n),r=!i||"object"!==Dt(i)&&"function"!=typeof i?Ft(a):i,Vt(Ft(r),"onSelectionChange",(function(e){return r.setState({selectedItems:e.detail.selectedItems})})),r.state={selectedItems:[]},r.getMessage=function(e){return n.intl.formatMessage({id:e})},r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(t,e),n=t,(r=[{key:"onDelete",value:function(){var e=this.state.selectedItems[0],t=e.source,n=e.condition,r=e.id;this.props.deleteDestination(t,n,r)}},{key:"onEdit",value:function(){var e=this.props,t=e.func,n=e.qualifier,r=this.state.selectedItems[0],a=r.source,i=r.condition,o=r.id,c=a===E.g?"condition=".concat(i,"&uuid=").concat(o):"condition=".concat(i);this.props.navigateToEditDestination(t,n,c)}},{key:"render",value:function(){var e=this,t=this.props,n=t.nodes,r=t.isModalOpen,i=void 0!==r&&r,o=t.isDeleting,u=void 0!==o&&o,l=t.setDestinationModalStatus,d=this.state.selectedItems[0],p=a.a.createElement(ot.a,{header:n.get(0).get("name"),info:a.a.createElement(s.FormattedHTMLMessage,{tagName:"p",id:"editDestination.section.destination.header.info"})},a.a.createElement(c.Button,{disabled:0===this.state.selectedItems.length,text:a.a.createElement(s.FormattedMessage,{id:"remove"}),onClick:function(){return l(!0)}}),a.a.createElement(c.Button,{disabled:0===this.state.selectedItems.length,text:a.a.createElement(s.FormattedMessage,{id:"edit"}),onClick:this.onEdit.bind(this)})),f=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(c.Button,{variant:"link",onClick:function(){return l(!1)}},a.a.createElement(s.FormattedMessage,{id:"cancel"})),a.a.createElement(c.Button,{variant:"primary",loading:u,onClick:this.onDelete.bind(this)},a.a.createElement(s.FormattedMessage,{id:"remove"})));return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.Table,{columnDefinitions:Ut,items:n.toJS(),header:p,features:["selection"]},a.a.createElement(c.TableSelection,{selectionType:"single",trackBy:"id",selectedItems:this.state.selectedItems,onSelectionChange:this.onSelectionChange})),a.a.createElement(c.Modal,{expandToFit:!0,size:"large",header:a.a.createElement(s.FormattedMessage,{id:"destination.modal.header"}),footer:f,visible:i,onDismiss:function(){return l(!1)}},d?a.a.createElement(a.a.Fragment,null,a.a.createElement(y.a,{scope:"deleteDestinationModal"}),a.a.createElement(s.FormattedMessage,{id:"destination.modal.message"}),a.a.createElement("ul",null,["source","condition","destArn"].map((function(t){return a.a.createElement("li",{key:t},a.a.createElement(s.FormattedMessage,{id:"separator",values:{key:e.getMessage("editDestination.".concat(t,".field.label")),value:"destArn"===t?d.destArn:e.getMessage("destination.".concat(t,".").concat(d[t]))}}))}))),a.a.createElement(s.FormattedMessage,{id:"destination.modal.checkMessage"})):null))}}])&&Mt(n.prototype,r),i&&Mt(n,i),t}(a.a.Component);Vt(Gt,"propTypes",{nodes:H.a.listOf(J.e).isRequired,func:o.a.string.isRequired,qualifier:o.a.string,isDeleting:o.a.bool,isModalOpen:o.a.bool,deleteDestination:o.a.func.isRequired,navigateToEditDestination:o.a.func.isRequired,setDestinationModalStatus:o.a.func.isRequired}),Vt(Gt,"contextTypes",{intl:s.intlShape.isRequired});var Bt=Object(u.connect)((function(e){return{func:Object(p.w)(e),qualifier:Object(p.S)(e),isDeleting:Object(p.i)(e),isModalOpen:Object(p.j)(e)}}),(function(e){return{deleteDestination:function(t,n,r){return e(Object(d.k)(t,n,r))},navigateToEditDestination:function(t,n,r){e(Object(d.I)(!0)),e(Object(_.d)(t,n,"destination",r,!1))},setDestinationModalStatus:function(t){return e(Object(d.F)(t))}}}))(Gt),zt=n(24);function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kt(e,t){return!t||"object"!==Ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Kt(this,Yt(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dlq,n=e.role,r=e.dlqArn,a=e.checkPermissions;"None"!==t&&a(t,n,r)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.dlq,r=t.role,a=t.dlqArn;r!==e.role&&"None"!==n&&this.props.checkPermissions(n,r,a)}},{key:"getDlqError",value:function(){var e=this.props,t=e.dlq,n=e.hasDLQPermission,r=e.role,i=null;if("implicitDeny"===n){var o={service:t.toUpperCase(),subject:"sns"===t?"topic":"queue",permission:"sns"===t?"Publish":"SendMessage",region:Object(g.H)(),role:new g.d(r).roleName};i=a.a.createElement(s.FormattedHTMLMessage,{tagName:"p",id:"dlq.roleLink.html",values:o})}return i}},{key:"render",value:function(){var e=this.props,t=e.dlq,n=e.dlqArn,r=e.qualifier,i=e.maxEventAge,o=e.maxRetryAttempts,u=a.a.createElement("span",null,a.a.createElement(s.FormattedMessage,{id:"editAsync.dlq.field.label"}),a.a.createElement(Ot.a,{message:a.a.createElement(s.FormattedHTMLMessage,{tagName:"p",id:"editAsync.dlq.field.infoText"})})),l=null;"None"!==t&&(l=a.a.createElement(c.FormField,{label:a.a.createElement(s.FormattedMessage,{id:"editAsync.".concat(t,"Arn.field.label")})},a.a.createElement("span",null,new g.b(n).resource)));var d=!r||"$LATEST"===r,p=a.a.createElement(c.FormField,{label:u,errorText:this.getDlqError()},a.a.createElement(s.FormattedMessage,{id:"None"===t?"none":"editAsync.dlqOptions.".concat(t)})),f=Math.floor(i/3600),m=Math.floor(i/60)%60,b=i%60,y=[{key:a.a.createElement("div",null,a.a.createElement(s.FormattedMessage,{id:"editAsync.maxEventAge.field.label"}),a.a.createElement(Ot.a,{message:a.a.createElement(s.FormattedHTMLMessage,{tagName:"p",id:"editAsync.maxEventAge.field.infoText"})})),value:a.a.createElement("div",null,a.a.createElement("span",{className:"awsui-util-pr-xs"},f),a.a.createElement("span",{className:"awsui-util-pr-s"},a.a.createElement(s.FormattedMessage,{id:"config.timeout.hour.label"})),a.a.createElement("span",{className:"awsui-util-pr-xs"},m),a.a.createElement("span",{className:"awsui-util-pr-s"},a.a.createElement(s.FormattedMessage,{id:"config.timeout.min.label"})),a.a.createElement("span",{className:"awsui-util-pr-xs"},b),a.a.createElement(s.FormattedMessage,{id:"config.timeout.sec.label"}))},{key:a.a.createElement(s.FormattedMessage,{id:"editAsync.maxRetryAttempts.field.label"}),value:a.a.createElement("span",null,o)}];return d&&y.push({key:null,value:a.a.createElement("span",null,p)},{key:null,value:a.a.createElement("span",null,l)}),a.a.createElement(lt,{id:"async",editPage:"async"},a.a.createElement(ot.f,{flat:!0,columns:2,items:y}))}}])&&Wt(n.prototype,r),i&&Wt(n,i),t}(a.a.Component);Qt(Xt,"propTypes",{nodeId:o.a.string.isRequired,qualifier:o.a.string,dlq:o.a.string.isRequired,dlqArn:o.a.string,hasDLQPermission:o.a.string,maxEventAge:o.a.number,maxRetryAttempts:o.a.string,role:o.a.string,checkPermissions:o.a.func.isRequired}),Qt(Xt,"contextTypes",{intl:s.intlShape.isRequired});var $t=Object(u.connect)((function(e,t){var n=Object(p.M)(e,t.nodeId);return{dlq:Object(zt.b)(n,"dlq"),dlqArn:Object(zt.b)(n,"dlqArn"),hasDLQPermission:Object(zt.b)(n,"hasDLQPermission"),maxEventAge:Object(zt.b)(n,"eventInvokeConfig.maxEventAge"),maxRetryAttempts:Object(zt.b)(n,"eventInvokeConfig.maxRetryAttempts"),role:Object(zt.b)(n,"role")}}),(function(e,t){return{checkPermissions:function(n,r,a){return e(Object(d.f)(n,t.nodeId,r,a))}}}))(Xt),Zt=n(62),en=a.a.createElement(s.FormattedMessage,{id:"config.memory.tooltip"}),tn=a.a.createElement(s.FormattedHTMLMessage,{tagName:"p",id:"warning.frontend.functionDetail.cost.html"}),nn=a.a.createElement(s.FormattedHTMLMessage,{tagName:"p",id:"warning.frontend.functionDetail.cost.html"});function rn(e,t){var n=e.nodeId,r=e.readonly,i=e.qualifier,o=t.intl,c=function(e){return o.formatMessage({id:e})},s=r||Be.f.includes("superlunar3"),u=Be.f.includes("superlunar3")&&(!i||"$LATEST"===i);return a.a.createElement(lt,{id:"basic",editPage:u?"basic-settings":""},a.a.createElement(zt.a,{type:"text",pathInData:"description",nodeId:n,label:c(Zt.a.description),readonly:s}),a.a.createElement(zt.a,{type:"range",pathInData:"memory",nodeId:n,label:"".concat(c(Zt.a.memory)),tooltip:en,infoText:tn,formLabel:"MB",min:Be.k,max:Be.h,step:Be.j,readonly:s}),a.a.createElement(zt.a,{type:"duration",pathInData:"timeout",nodeId:n,label:c(Zt.a.timeout),readonly:s,infoText:nn,min:Be.l,max:Be.i}))}rn.propTypes={nodeId:o.a.string.isRequired,readonly:o.a.bool,qualifier:o.a.string},rn.contextTypes={intl:s.intlShape.isRequired};var an=n(249),on=n(250),cn=n(27),sn=n(466);function un(e,t){var n=e.nodeId,r=e.lang,i=e.readonly,o=e.isEditable,s=e.refreshRecEngine,u=t.intl,l=[{value:"upload",text:u.formatMessage({id:Object(cn.t)(r)})},{value:"s3",text:u.formatMessage({id:"config.code.type.s3.html"})}];o&&l.unshift({value:"inline",text:u.formatMessage({id:"config.code.type.inline"})});var d=null;return i||(d=a.a.createElement("div",{id:"code-source-selector"},a.a.createElement(zt.a,{type:"select",nodeId:n,pathInData:"codeSource",label:u.formatMessage({id:"create.configureFunction.code.type.label"}),items:l,enum:!0}))),a.a.createElement(c.ColumnLayout,{columns:i?2:3},a.a.createElement("div",{"data-awsui-column-layout-root":!0},d,a.a.createElement(zt.a,{type:"select",pathInData:"runtime",nodeId:n,label:u.formatMessage({id:Zt.a.runtime}),items:Object(cn.m)(u,"update"),readonly:i,extraOnChange:s,enum:!0}),a.a.createElement(zt.a,{type:"text",pathInData:"handler",nodeId:n,label:u.formatMessage({id:Zt.a.handler}),infoText:a.a.createElement("p",null,u.formatMessage({id:Object(cn.l)(r)})),readonly:i})))}un.propTypes={nodeId:o.a.string.isRequired,lang:o.a.string.isRequired,readonly:o.a.bool.isRequired,isEditable:o.a.bool.isRequired,refreshRecEngine:o.a.func.isRequired},un.contextTypes={intl:s.intlShape.isRequired};var ln=Object(u.connect)((function(e,t){var n=Object(p.M)(e,t.nodeId),r=Object(zt.b)(n,"runtime"),a=Object(zt.b)(n,"handler");return{fileName:Object(cn.k)(a,r),funcName:Object(zt.b)(n,"name"),codeSha256:Object(zt.b)(n,"codeSha256"),savedEvents:Ce.e.getSavedEvents(e),eventIdToInvoke:Ce.e.getEventIdToInvoke(e),executionResults:Ce.e.getExecutionResults(e),saveCodeResults:Object(p.Z)(e),invokeFailureMessage:Ce.e.getInvokeFailureMessage(e),isFunctionSelected:Object(p.ab)(e).includes(t.nodeId),readonly:t.readonly}}),(function(e,t){return{setZip:function(n){return e(Object(d.W)(n,t.nodeId,"cloud9RawZip"))},saveCode:function(){return e(Object(d.y)())},testFunction:function(){return e(Ce.c.test())},openTestEventsModal:function(){return e(Ce.c.toggleEventModal())},selectEventIdToInvoke:function(t){return e(Ce.c.setEventIdToInvoke(t))}}}))(sn.a);function dn(e){var t=e.nodeId,n=e.readonly,r=e.unzipped;return a.a.createElement("div",{className:"code-section"},a.a.createElement(ln,{nodeId:t,readonly:n,unzipped:r}))}dn.propTypes={nodeId:o.a.string.isRequired,readonly:o.a.bool.isRequired,unzipped:o.a.object};var pn=Object(u.connect)((function(e,t){return{unzipped:Object(zt.b)(Object(p.M)(e,t.nodeId),"unzippedPackage")}}))(dn);function fn(e,t){var n,r,i,o,u=function(e){return t.intl.formatMessage({id:e})},l=e.readonly,d=e.runtime,p=e.functionName,f=e.qualifier,m=e.deploymentTooLarge,b=e.isEditable,v=e.deprecatedRuntimeRule,h=e.refreshRecEngine,E=e.updateRuntimeRule,O=e.result,S=Object(cn.g)(d),j=a.a.createElement(zt.a,{key:"upload",type:"file",pathInData:"upload",includeChildFieldErrors:!0,nodeId:e.nodeId,label:u(Zt.a.upload),subtext:u("config.code.upload.largeZipWarning")}),T=a.a.createElement(zt.a,{key:"s3",type:"text",pathInData:"s3",nodeId:e.nodeId,label:u(Zt.a.s3),tooltip:a.a.createElement(s.FormattedMessage,{id:"config.code.s3.tooltip"}),placeholder:"https://s3.".concat(Object(g.s)(),"/mybucket/path/to/object.zip")});return f&&"$LATEST"!==f&&(n=a.a.createElement(c.Alert,null,a.a.createElement(s.FormattedHTMLMessage,{id:"functionDetail.qualifiers.info.readonly",values:{functionName:p}}))),m&&(r=a.a.createElement(c.Alert,null,a.a.createElement(s.FormattedHTMLMessage,{id:"warning.frontend.functionDetail.largePackage",values:{functionName:p}}))),v&&(Object(ke.logEvent)(ke.EVENT_NAMES.DEPRECATED_RUNTIME_ALERT_APPEAR),i=a.a.createElement("div",{className:"awsui-util-mv-s"},a.a.createElement(c.Alert,{dismissible:!0,visible:!0,onDismiss:function(){return Object(ke.logEvent)(ke.EVENT_NAMES.DEPRECATED_RUNTIME_ALERT_DISMISS)}},a.a.createElement(s.FormattedMessage,{id:"recEngine.runtimeDeprecated.title",tagName:"b"}),a.a.createElement(s.FormattedHTMLMessage,{id:"recEngine.runtimeDeprecated.description",tagName:"p"})))),E&&(Object(ke.logEvent)(ke.EVENT_NAMES.UPDATE_RUNTIME_ALERT_APPEAR),o=a.a.createElement("div",{className:"awsui-util-mv-s"},a.a.createElement(c.Alert,{dismissible:!0,visible:!0,onDismiss:function(){return Object(ke.logEvent)(ke.EVENT_NAMES.UPDATE_RUNTIME_ALERT_DISMISS)}},a.a.createElement(s.FormattedMessage,{id:"recEngine.updateRuntime.title",tagName:"b"}),a.a.createElement(s.FormattedMessage,{id:"recEngine.updateRuntime.description",values:{result:O},tagName:"p"})))),a.a.createElement(lt,{id:"code",showInfoLink:!0,readonly:l},n,r,i,o,a.a.createElement(y.a,{scope:"code-section"}),a.a.createElement(un,{nodeId:e.nodeId,lang:S,readonly:l,isEditable:b,refreshRecEngine:h}),{inline:a.a.createElement(pn,{nodeId:e.nodeId,readonly:l}),upload:l?null:j,s3:l?null:T}[e.codeSource]||null)}fn.propTypes={nodeId:o.a.string.isRequired,readonly:o.a.bool.isRequired,runtime:o.a.string.isRequired,codeSource:o.a.string.isRequired,functionName:o.a.string.isRequired,qualifier:o.a.string,deploymentTooLarge:o.a.bool.isRequired,isEditable:o.a.bool.isRequired,deprecatedRuntimeRule:o.a.object,updateRuntimeRule:o.a.object,refreshRecEngine:o.a.func.isRequired,result:o.a.string},fn.contextTypes={intl:s.intlShape.isRequired};var mn=Object(u.connect)((function(e,t){var n=Object(p.M)(e,t.nodeId),r=Object(zt.b)(n,"runtime"),a=Object(zt.b)(n,"codeSize"),i=!Object(cn.y)(a),o=Object(p.o)(e,on.a),c=Object(p.o)(e,an.a);return{runtime:r,codeSource:Object(zt.b)(n,"codeSource"),functionName:Object(zt.b)(n,"name"),qualifier:Object(zt.b)(n,"qualifier"),deploymentTooLarge:i,isEditable:Object(cn.x)(r,a),deprecatedRuntimeRule:o,updateRuntimeRule:c,result:null==c?void 0:c.get("result")}}),(function(e){return{refreshRecEngine:function(){return e(Object(d.v)(["recommendationEngine"]))}}}))(fn),bn=n(66),gn=n(82);function yn(e){var t=e.functionArn,n=e.location,r=e.loading,i=e.onClose,o=e.onDelete;if(!t)return a.a.createElement(St.b,null,a.a.createElement("div",null));var u=new g.e(t).qualifier,l=Object(g.S)(u)?"version":"alias",d=a.a.createElement(s.FormattedHTMLMessage,{tagName:"p",id:"modal.delete.text.provisionedConcurrency.".concat(l),values:{qualifier:u}}),p=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(c.Button,{variant:"link",onClick:i},a.a.createElement(s.FormattedMessage,{id:"cancel"})),a.a.createElement(c.Button,{variant:"primary",loading:r,onClick:function(){return o(t)}},a.a.createElement(s.FormattedMessage,{id:"remove"}))),f=a.a.createElement(s.FormattedMessage,{id:"modal.delete.title.provisionedConcurrency.".concat(l),values:{qualifier:u}});return a.a.createElement(c.Modal,{id:"provisionedConcurrencyDeleteModal",expandToFit:!0,size:"medium",header:f,content:d,footer:p,visible:!!n.query.deleteModal,onDismiss:i})}yn.propTypes={functionArn:o.a.string,loading:o.a.bool.isRequired,location:o.a.object.isRequired,onClose:o.a.func.isRequired,onDelete:o.a.func.isRequired};var vn=Object(u.connect)((function(e){return{loading:Object(p.R)(e),location:Object(rt.b)(e)}}),(function(e){return{onClose:function(){return e(Object(l.h)({query:{deleteModal:void 0}},{persistQuery:!0}))},onDelete:function(t){return e(Object(d.n)(t))}}}))(yn);function hn(e){var t=e.cancel,n=e.discard,r=e.isOpen,i=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(c.Button,{onClick:t},a.a.createElement(s.FormattedMessage,{id:"cancel"})),a.a.createElement(c.Button,{variant:"primary",onClick:n},a.a.createElement(s.FormattedMessage,{id:"modal.discardChanges.button.discard"})));return a.a.createElement(c.Modal,{expandToFit:!0,size:"medium",header:a.a.createElement(s.FormattedMessage,{id:"modal.discardChanges.title"}),content:a.a.createElement(s.FormattedMessage,{id:"modal.discardChanges.text"}),footer:i,visible:r,onDismiss:t})}function En(e){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e,t){return!t||"object"!==En(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jn(e){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}hn.propTypes={cancel:o.a.func.isRequired,discard:o.a.func.isRequired,isOpen:o.a.bool.isRequired};var xn=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Sn(this,jn(t).call(this,e,n))).state={isDiscardChangesOpen:!1},r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}(t,e),n=t,(r=[{key:"onEditButtonClick",value:function(){this.props.isSaveNeeded?this.setState({isDiscardChangesOpen:!0}):this.goToProvisionedConcurrencyEditPage()}},{key:"cancel",value:function(){this.setState({isDiscardChangesOpen:!1})}},{key:"discard",value:function(){this.goToProvisionedConcurrencyEditPage()}},{key:"goToProvisionedConcurrencyEditPage",value:function(){var e=new g.e(this.props.functionArn),t=Object(g.S)(e.qualifier)?"versions":"aliases";this.props.goToUrl("/functions/".concat(e.functionName,"/").concat(t,"/").concat(e.qualifier,"/edit/provisioned-concurrency"))}},{key:"render",value:function(){var e=this,t=new g.e(this.props.functionArn),n=a.a.createElement(a.a.Fragment,null,a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.versionsAndAliases.title"})," ",a.a.createElement("span",{className:"awsui-util-header-counter"},!this.props.refreshing&&a.a.createElement(s.FormattedMessage,{id:"wrapper",values:{value:this.props.count}})),a.a.createElement(vn,{functionArn:this.props.functionArn}),a.a.createElement(hn,{cancel:this.cancel.bind(this),discard:this.discard.bind(this),isOpen:this.state.isDiscardChangesOpen}));return a.a.createElement(ot.a,{header:n},a.a.createElement(c.Button,{id:"provisionedConcurrencyRefreshButton",icon:"refresh",loading:this.props.refreshing,onClick:this.props.refreshTable}),a.a.createElement(c.Button,{id:"provisionedConcurrencyEditButton",disabled:this.props.isDisabledForEditButton,onClick:this.onEditButtonClick.bind(this)},a.a.createElement(s.FormattedMessage,{id:"edit"})),a.a.createElement(c.Button,{id:"provisionedConcurrencyDeleteButton",disabled:!t.qualifier,onClick:function(){return e.props.showDeleteProvisionedConcurrencyModal()}},a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.buttons.delete"})),a.a.createElement(c.Button,{id:"provisionedConcurrencyCreateButton",href:"#/functions/".concat(t.functionName,"/create/provisioned-concurrency")},a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.buttons.create"})))}}])&&On(n.prototype,r),i&&On(n,i),t}(a.a.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(xn,"propTypes",{functionArn:o.a.string,count:o.a.number.isRequired,isDisabledForEditButton:o.a.bool.isRequired,isSaveNeeded:o.a.bool.isRequired,refreshing:o.a.bool.isRequired,refreshTable:o.a.func.isRequired,showDeleteProvisionedConcurrencyModal:o.a.func.isRequired,goToUrl:o.a.func.isRequired});var _n={READY:"ready",IN_PROGRESS:"inProgress",FAILED:"failed"};function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function In(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nn(e,t){return(Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kn=[{id:"qualifier",field:"qualifier"},{id:"type",field:"type"},{id:"availableConcurrency",field:"availableConcurrency"},{id:"status",field:"status"}],Pn=[{id:"qualifier",header:function(){return a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.qualifier"})},cell:function(e){return e.qualifier}},{id:"type",header:function(){return a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.type"})},cell:function(e){return a.a.createElement(s.FormattedMessage,{id:"".concat(e.type)})}},{id:"availableConcurrency",header:function(){return a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.availableProvisionedConcurrency"})},cell:function(e){return e.availableConcurrency}},{id:"status",header:function(){return a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.status"})},cell:function(e){return e.status?a.a.createElement(a.a.Fragment,null,a.a.createElement(ot.g,{status:_n[e.status]})," ",e.statusReason,("IN_PROGRESS"===e.status||"FAILED"===e.status)&&a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.status.details",values:{allocated:e.provisionedConcurrency,requested:e.requestedConcurrency}})):"-"}},{id:"details",header:function(){return a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.details"})},cell:function(e){return e.details}}],Dn=function(e){function t(e,n){var r,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=!(i=An(t).call(this,e,n))||"object"!==wn(i)&&"function"!=typeof i?In(a):i,Cn(In(r),"filteringOptions",[{groupValuesLabel:r.context.intl.formatMessage({id:"provisionedConcurrency.types"}),propertyKey:"type",propertyLabel:r.context.intl.formatMessage({id:"provisionedConcurrency.type"}),values:[r.context.intl.formatMessage({id:"version"}),r.context.intl.formatMessage({id:"alias"})]}]),r.state={selectedFunctionArn:null,isWeightedAlias:!1},r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nn(e,t)}(t,e),n=t,(r=[{key:"onSelectionChange",value:function(e){var t=e.detail.selectedItems;if(t.length){var n=t[0];this.setState({selectedFunctionArn:n.functionArn}),"alias"===n.type&&this.props.qualifiers.aliases.getIn([new g.e(n.functionArn).qualifier,"additionalVersionWeight","version"])?this.setState({isWeightedAlias:!0}):this.setState({isWeightedAlias:!1})}}},{key:"noMatch",value:function(){return a.a.createElement("div",{className:"awsui-util-t-c"},a.a.createElement("div",{className:"awsui-util-pt-s awsui-util-mb-xs"},a.a.createElement(s.FormattedMessage,{tagName:"b",id:"noMatch"})))}},{key:"noData",value:function(){var e=new g.e(this.props.functionArn).functionName;return a.a.createElement(ot.c,{id:"provisionedConcurrency.empty",noDescription:!0,href:"#/functions/".concat(e,"/create/provisioned-concurrency")})}},{key:"render",value:function(){var e=this,t=[];return this.props.provisionedConcurrencyConfigs.versions.forEach((function(e){t.push({functionArn:e.functionArn,qualifier:e.qualifier,type:"version",requestedConcurrency:e.requestedConcurrency,provisionedConcurrency:e.provisionedConcurrency,availableConcurrency:e.availableConcurrency,status:e.status,statusReason:e.statusReason,details:e.aliases})})),this.props.provisionedConcurrencyConfigs.aliases.forEach((function(e){t.push({functionArn:e.functionArn,qualifier:e.qualifier,type:"alias",requestedConcurrency:e.requestedConcurrency,provisionedConcurrency:e.provisionedConcurrency,availableConcurrency:e.availableConcurrency,status:e.status,statusReason:e.statusReason,details:e.versions})})),a.a.createElement(a.a.Fragment,null,this.state.isWeightedAlias&&a.a.createElement(c.Alert,{className:"awsui-util-mb-xs"},a.a.createElement(s.FormattedMessage,{id:"editProvisionedConcurrency.provisionedConcurrencyAlias.errorText.weightedAlias.edit"})),a.a.createElement(c.Table,{className:"provisionedConcurrencyVersionsAndAliasesTable",columnDefinitions:Pn,header:a.a.createElement(xn,{functionArn:this.state.selectedFunctionArn||this.props.functionArn,count:t.length,isDisabledForEditButton:!this.state.selectedFunctionArn||this.state.isWeightedAlias,isSaveNeeded:this.props.isSaveNeeded,refreshing:this.props.refreshing,refreshTable:this.props.refreshTable,showDeleteProvisionedConcurrencyModal:this.props.showDeleteProvisionedConcurrencyModal,goToUrl:this.props.goToUrl}),noMatch:this.noMatch(),items:t,empty:this.noData(),loading:this.props.refreshing,features:["selection","propertyFiltering","sorting"]},a.a.createElement(c.TableSorting,{sortingColumn:"availableConcurrency",sortingDescending:!0,sortableColumns:kn}),a.a.createElement(c.TableSelection,{selectionType:"single",trackBy:"functionArn",onSelectionChange:this.onSelectionChange.bind(this)}),a.a.createElement(c.TablePropertyFiltering,{filteringOptions:this.filteringOptions,groupValuesText:this.context.intl.formatMessage({id:"groupValuesText"}),groupPropertiesText:this.context.intl.formatMessage({id:"groupPropertiesText"}),operationAndText:this.context.intl.formatMessage({id:"operationAndText"}),operationNotAndText:this.context.intl.formatMessage({id:"operationNotAndText"}),operationOrText:this.context.intl.formatMessage({id:"operationOrText"}),operationNotOrText:this.context.intl.formatMessage({id:"operationNotOrText"}),clearFiltersText:this.context.intl.formatMessage({id:"clearFiltersText"}),placeholder:this.context.intl.formatMessage({id:"provisionedConcurrency.filterPlaceholder"}),allowFreeTextFiltering:!0,filteringCountTextFunction:function(t){return"".concat(t," ").concat(1===t?e.context.intl.formatMessage({id:"filterMatchSingular"}):e.context.intl.formatMessage({id:"filterMatchPlural"}))}})))}}])&&Rn(n.prototype,r),i&&Rn(n,i),t}(a.a.Component);Cn(Dn,"propTypes",{functionArn:o.a.string.isRequired,provisionedConcurrencyConfigs:o.a.object.isRequired,qualifiers:o.a.object.isRequired,isSaveNeeded:o.a.bool.isRequired,refreshing:o.a.bool.isRequired,refreshTable:o.a.func.isRequired,showDeleteProvisionedConcurrencyModal:o.a.func.isRequired,goToUrl:o.a.func.isRequired,alert:o.a.func.isRequired}),Cn(Dn,"contextTypes",{intl:s.intlShape.isRequired});var Mn=Object(u.connect)((function(e){var t;return{provisionedConcurrencyConfigs:(null===(t=Object(p.eb)(e,"provisionedConcurrencyConfigsParser"))||void 0===t?void 0:t.toJS())||{versions:[],aliases:[]},qualifiers:Object(p.U)(e,"functionQualifiersSource")||{versions:Object(b.Map)(),aliases:Object(b.Map)()},functionArn:Object(p.q)(e),refreshing:!Object(p.Q)(e),isSaveNeeded:Object(p.I)(e)}}),(function(e){return{refreshTable:function(){return e(Object(d.v)(["provisionedConcurrencyConfigsSource","provisionedConcurrencyConfigsParser"]))},showDeleteProvisionedConcurrencyModal:function(){return e(Object(l.h)({query:{deleteModal:"deleteProvisionedConcurrency"}},{persistQuery:!0}))},goToUrl:function(t){return e(Object(l.h)(t))},alert:function(t){return e(Object(ge.f)(t))}}}))(Dn);function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fn(e,t){return!t||"object"!==Ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qn(e){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e,t,n){return t&&Vn(e.prototype,t),n&&Vn(e,n),e}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bn(){return(Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Hn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Wn(e){Hn(Array(10).keys()).includes(+e.key)||e.preventDefault()}var Kn=a.a.forwardRef((function(e,t){var n=e.items,r=zn(e,["items"]);return a.a.createElement(c.RadioGroup,Bn({},r,{items:n(t)}))}));Kn.propTypes={value:o.a.string.isRequired,items:o.a.func.isRequired,onChange:o.a.func.isRequired};var Yn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Fn(this,qn(t).call(this,e))).reservedInput=a.a.createRef(),n.state={originalReservedConcurrentExecutionsOverride:e.originalReservedConcurrentExecutions},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(t,e),Un(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.originalReservedConcurrentExecutions,r=e.userSettingsLoading,a=t.originalReservedConcurrentExecutionsOverride;return r||a===n?null:{originalReservedConcurrentExecutionsOverride:n}}}]),Un(t,[{key:"componentDidMount",value:function(){this.setReservedInputHandler()}},{key:"componentDidUpdate",value:function(){this.setReservedInputHandler()}},{key:"onReservedExecutionsInput",value:function(e){var t=e.detail.value,n=+(t&&t>=0?t:0),r=!!this.reservedInputValueError(n);this.props.onReservedConcurrentExecutionsChange(n,r),(t<0||""===t)&&this.forceUpdate()}},{key:"onConcurrencyPoolTypeChange",value:function(e){var t=e.detail.value;if("unreserved"===t)this.props.onReservedConcurrentExecutionsChange(void 0);else{var n=this.props.reservedConcurrentExecutions||this.getReservedExecutionsMin();this.props.onReservedConcurrentExecutionsChange(n)}this.props.onConcurrencyPoolTypeChange(t)}},{key:"setReservedInputHandler",value:function(){var e,t=null===(e=this.reservedInput.current)||void 0===e?void 0:e.ref.querySelector("input");t&&t.onkeypress!==Wn&&(t.onkeypress=Wn)}},{key:"getReservedExecutionsMin",value:function(){var e;return(null===(e=this.props.provisionedConcurrencyConfigs)||void 0===e?void 0:e.get("provisionedConcurrency"))||0}},{key:"getUnreservedPoolSize",value:function(e){var t,n=this.props,r=n.reservedConcurrentExecutions,a=void 0===r?null:r,i=n.unreservedConcurrentExecutions,o=n.concurrencyPoolType,c=this.state.originalReservedConcurrentExecutionsOverride,s=void 0===c?null:c,u=null!==(t=e)&&void 0!==t?t:a,l=i;return o===gn.a.UNRESERVED&&null!==s?l+=s:o===gn.a.RESERVED&&null!==u&&(l+=s-u),l}},{key:"reservedInputValueError",value:function(e){var t,n=this.props,r=n.reservedConcurrentExecutions,a=void 0===r?this.getReservedExecutionsMin():r,i=n.unreservedConcurrentExecutionsMinimum,o=n.concurrencyPoolType,c=null!==(t=e)&&void 0!==t?t:a,s=this.getUnreservedPoolSize(c);if(o===gn.a.RESERVED){if(s<i)return{id:"concurrency.message.cannotGoBelow",values:{unreservedConcurrentExecutionsMinimum:i}};if(Be.f.includes("hyperion")){var u,l=null===(u=this.props.provisionedConcurrencyConfigs)||void 0===u?void 0:u.get("provisionedConcurrency");if(c<l)return{id:"concurrency.message.cannotGoBelowProvisionedConcurrency",values:{number:l}}}}return null}},{key:"reservedInputValueMessages",value:function(e){var t,n=this.props.reservedConcurrentExecutions,r=void 0===n?this.getReservedExecutionsMin():n;return 0===(null!==(t=e)&&void 0!==t?t:r)?{id:"concurrency.message.neverInvoke"}:null}},{key:"renderReservedPoolTypeOption",value:function(e){var t=this.props,n=t.reservedConcurrentExecutions,r=void 0===n?null:n,i=t.concurrencyPoolType,o=t.readonly,u=void 0!==o&&o,l=i===gn.a.RESERVED?r:null,d=a.a.createElement(c.Input,{ref:e,value:null==l?void 0:l.toString(),type:"number",onInput:this.onReservedExecutionsInput.bind(this),disabled:i===gn.a.UNRESERVED||u});return a.a.createElement("div",{className:"reservedPoolTypeOption"},a.a.createElement(s.FormattedMessage,{id:"concurrency.poolOptions.reserved"}),a.a.createElement("div",null,d))}},{key:"renderUnreservedPoolTypeOption",value:function(){return a.a.createElement(s.FormattedMessage,{id:"concurrency.poolOptions.unreserved"})}},{key:"renderReservedInputValueError",value:function(){var e=this.reservedInputValueError();return e?a.a.createElement(s.FormattedHTMLMessage,Bn({tagName:"p"},e)):null}},{key:"renderReservedInputValueMessage",value:function(){var e=this.reservedInputValueMessages();return e?a.a.createElement(s.FormattedHTMLMessage,Bn({tagName:"p"},e)):null}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.concurrencyPoolType,i=n.readonly,o=void 0!==i&&i,u=this.getUnreservedPoolSize();return Be.f.includes("hyperion")&&(e=a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",{className:"awsui-util-mt-l"},a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.title"})),a.a.createElement("div",{className:"awsui-util-mv-xs"},a.a.createElement(s.FormattedHTMLMessage,{tagName:"small",id:"provisionedConcurrency.description.html"})),a.a.createElement(y.a,{scope:"provisioned-concurrency"}),a.a.createElement(Mn,null))),a.a.createElement("div",{className:"concurrencyComponent"},a.a.createElement("div",null,a.a.createElement(s.FormattedMessage,{id:"concurrency.label.unreservedPool"}),a.a.createElement("b",null," ",u)),a.a.createElement("div",{className:"awsui-util-pt-m"},a.a.createElement(c.FormField,{hintText:this.renderReservedInputValueMessage(),errorText:this.renderReservedInputValueError()},a.a.createElement(Kn,{ref:this.reservedInput,onChange:function(e){return t.onConcurrencyPoolTypeChange(e)},value:r,items:function(e){return[{label:t.renderUnreservedPoolTypeOption(),value:gn.a.UNRESERVED,disabled:o},{label:t.renderReservedPoolTypeOption(e),value:gn.a.RESERVED,disabled:o}]}}))),e)}}]),t}(a.a.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Yn,"propTypes",{concurrencyPoolType:o.a.string.isRequired,userSettingsLoading:o.a.bool.isRequired,unreservedConcurrentExecutions:o.a.number.isRequired,unreservedConcurrentExecutionsMinimum:o.a.number.isRequired,provisionedConcurrencyConfigs:o.a.object.isRequired,reservedConcurrentExecutions:o.a.number,originalReservedConcurrentExecutions:o.a.number,readonly:o.a.bool,onReservedConcurrentExecutionsChange:o.a.func.isRequired,onConcurrencyPoolTypeChange:o.a.func.isRequired});var Jn=Object(u.connect)((function(e,t){var n=Object(bn.f)(e),r=Object(p.M)(e,t.nodeId).get("data"),a=Object(p.h)(e,t.nodeId).get("data");return{concurrencyPoolType:r.get("concurrencyPoolType"),reservedConcurrentExecutions:r.get("reservedConcurrentExecutions"),originalReservedConcurrentExecutions:a.get("reservedConcurrentExecutions"),userSettingsLoading:e.user.get("isLoading"),concurrentExecutions:n.getIn(["accountLimit","concurrentExecutions"]),unreservedConcurrentExecutions:n.getIn(["accountLimit","unreservedConcurrentExecutions"]),unreservedConcurrentExecutionsMinimum:n.getIn(["accountLimit","unreservedConcurrentExecutionsMinimum"]),provisionedConcurrencyConfigs:Be.f.includes("hyperion")&&Object(p.U)(e,"provisionedConcurrencyConfigsParser")||Object(b.Map)()}}),(function(e,t){return{onReservedConcurrentExecutionsChange:function(n,r){return e(Object(d.W)(n,t.nodeId,"reservedConcurrentExecutions",{hasError:r}))},onConcurrencyPoolTypeChange:function(n){return e(Object(d.W)(n,t.nodeId,"concurrencyPoolType"))}}}))(Yn);function Qn(e){var t=Be.f.includes("hyperion")?"concurrencyAndProvisionedConcurrency":"concurrency";return a.a.createElement(lt,{id:t},a.a.createElement(Jn,e))}function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zn(e,t){return!t||"object"!==Xn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function er(e){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Qn.propTypes={nodeId:o.a.string.isRequired,readonly:o.a.bool};var nr=["name","status","database"].map((function(e){return{id:e,header:function(){return a.a.createElement(s.FormattedMessage,{id:"databaseProxy.header.".concat(e)})},cell:function(t){return t[e]}}})),rr=function(e){switch(e){case"available":return a.a.createElement("span",{className:"awsui-util-status-positive"},a.a.createElement(c.Icon,{name:"status-positive"})," Available");case"creating":return a.a.createElement("span",{className:"awsui-util-status-inactive"},a.a.createElement(c.Spinner,null)," Creating");case"modifying":return a.a.createElement("span",{className:"awsui-util-status-inactive"},a.a.createElement(c.Icon,{name:"status-pending"})," Modifying");case"deleting":return a.a.createElement("span",{className:"awsui-util-status-inactive"},a.a.createElement(c.Spinner,null)," Deleting");default:return a.a.createElement("span",{className:"awsui-util-status-negative"},a.a.createElement(c.Icon,{name:"status-negative"})," ",e)}},ar=function(e){return{name:(t=e.get("dbproxyName"),a.a.createElement(Xe.c,{href:Object(g.u)("rds","proxy",t)},t)),status:rr(e.get("status")),database:e.get("engineFamily"),endpoint:e.get("endpoint"),arn:e.get("dbproxyArn")};var t},ir=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Zn(this,er(t).call(this,e,n))).state={},r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e,t=this.props.databaseProxies instanceof Error?[]:null===(e=this.props.databaseProxies)||void 0===e?void 0:e.toArray().map(ar),n="#/add/database-proxy?function=".concat(this.props.functionName),r=a.a.createElement(ot.a,{header:a.a.createElement(s.FormattedMessage,{id:"functionDetail.sections.databaseProxy.title"})},a.a.createElement(c.Button,{href:n},a.a.createElement(s.FormattedMessage,{id:"databaseProxy.button.add"})));return a.a.createElement("div",{className:"awsui-util-mb-l"},a.a.createElement(c.Table,{columnDefinitions:nr,items:t||[],header:r,empty:a.a.createElement(ot.c,{id:"databaseProxy.empty",href:n})}))}}])&&$n(n.prototype,r),i&&$n(n,i),t}(a.a.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ir,"propTypes",{databaseProxies:o.a.oneOfType([o.a.Error,H.a.list]),functionName:o.a.string.isRequired,runtime:o.a.string.isRequired});var or=Object(u.connect)((function(e,t){return{databaseProxies:Object(p.U)(e,"databaseProxySource"),functionName:Object(rt.b)(e).params.functionName,runtime:Object(zt.b)(Object(p.M)(e,t.nodeId),"runtime")}}))(ir);function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ur=function(e){return a.a.createElement(Xe.c,{href:Object(g.u)("efs","fileSystem",e)},e)},lr=function(e){return e.map((function(e){return"".concat(null==e?void 0:e.key,"=").concat(null==e?void 0:e.value)})).join(", ")};function dr(e){var t,n,r,i,o,u,l,d,p,f,m,b,g,y,v,h,E,O,S,j,T,x,_,w,R,A,I=e.fileSystems,N=e.isDeleting,C=e.isModalOpen,k=e.navigateToEdit,P=e.navigateToCreate,D=e.onDelete,M=e.onCloseModal,L=e.onOpenModal,F=e.readonly,q=!(null==I?void 0:I.length),V=q?{}:I[0],U=a.a.createElement(a.a.Fragment,null,a.a.createElement(c.Button,{onClick:P},a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.button.add"}))),G=a.a.createElement(a.a.Fragment,null,a.a.createElement(c.Button,{onClick:k},a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.button.edit"})),a.a.createElement(c.Button,{onClick:L},a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.button.remove"}))),B=null;F||(B=q?U:G);var z=a.a.createElement(ot.a,{header:a.a.createElement(s.FormattedMessage,{id:"functionDetail.sections.elasticFileSystem.title"})},B),H=a.a.createElement(a.a.Fragment,null,a.a.createElement(ot.f,{columns:3,flat:!0,variant:"default",items:[{key:a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.localPath"}),value:(null==V?void 0:V.localMountPath)||"-"},{key:a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.name"}),value:(null==V?void 0:null===(t=V.fileSystem)||void 0===t?void 0:t.name)||"-"},{key:a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.id"}),value:(null==V?void 0:null===(n=V.fileSystem)||void 0===n?void 0:n.fileSystemId)?ur(null==V?void 0:null===(r=V.fileSystem)||void 0===r?void 0:r.fileSystemId):"-"},{key:a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.description"}),value:(null==V?void 0:null===(i=V.fileSystem)||void 0===i?void 0:i.creationToken)||"-"},{key:a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.tags"}),value:(null==V?void 0:null===(o=V.fileSystem)||void 0===o?void 0:null===(u=o.tags)||void 0===u?void 0:u.length)?lr(V.fileSystem.tags):"-"}]}),a.a.createElement("div",{className:"awsui-util-pv-m"},a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.accessProfile.title",tagName:"h3"})),a.a.createElement(ot.f,{columns:3,flat:!0,variant:"default",items:[{key:a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.accessProfile.id"}),value:(null==V?void 0:null===(l=V.accessProfile)||void 0===l?void 0:l.accessProfileId)||"-"},{key:a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.accessProfile.arn"}),value:(null==V?void 0:null===(d=V.accessProfile)||void 0===d?void 0:d.accessProfileArn)||"-"},{}]}),a.a.createElement("div",{className:"awsui-util-pv-m"},a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.posixUser.title",tagName:"h4"})),a.a.createElement(ot.f,{columns:3,flat:!0,variant:"default",items:[{key:a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.posixUser.uid"}),value:(null==V?void 0:null===(p=V.accessProfile)||void 0===p?void 0:null===(f=p.posixUser)||void 0===f?void 0:f.uid)||"-"},{key:a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.posixUser.gid"}),value:(null==V?void 0:null===(m=V.accessProfile)||void 0===m?void 0:null===(b=m.posixUser)||void 0===b?void 0:b.gid)||"-"},{key:a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.posixUser.gid2"}),value:(null==V?void 0:null===(g=V.accessProfile)||void 0===g?void 0:null===(y=g.posixUser)||void 0===y?void 0:null===(v=y.secondaryGids)||void 0===v?void 0:v.join(", "))||"-"}]}),a.a.createElement("div",{className:"awsui-util-pv-m"},a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.dataDirectory.title",tagName:"h4"})),a.a.createElement(ot.f,{columns:3,flat:!0,variant:"default",items:[{key:a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.dataDirectory.remotePath"}),value:(null==V?void 0:null===(h=V.accessProfile)||void 0===h?void 0:null===(E=h.rootDirectory)||void 0===E?void 0:E.path)||"-"},{key:a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.dataDirectory.ownerUid"}),value:(null==V?void 0:null===(O=V.accessProfile)||void 0===O?void 0:null===(S=O.rootDirectory)||void 0===S?void 0:null===(j=S.creationInfo)||void 0===j?void 0:j.ownerUid)||"-"},{key:a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.dataDirectory.ownerGid"}),value:(null==V?void 0:null===(T=V.accessProfile)||void 0===T?void 0:null===(x=T.rootDirectory)||void 0===x?void 0:null===(_=x.creationInfo)||void 0===_?void 0:_.ownerGid)||"-"},{key:a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.detail.dataDirectory.permissions"}),value:(null==V?void 0:null===(w=V.accessProfile)||void 0===w?void 0:null===(R=w.rootDirectory)||void 0===R?void 0:null===(A=R.creationInfo)||void 0===A?void 0:A.permissions)||"-"}]})),W=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(c.Button,{variant:"link",onClick:M},a.a.createElement(s.FormattedMessage,{id:"cancel"})),a.a.createElement(c.Button,{variant:"primary",loading:N,onClick:D},a.a.createElement(s.FormattedMessage,{id:"remove"})));return a.a.createElement(a.a.Fragment,null,a.a.createElement(ot.b,{header:z},q?a.a.createElement(ot.c,{id:"elasticFileSystem.empty",onClick:P}):H),a.a.createElement(c.Modal,{expandToFit:!0,size:"medium",header:a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.modal.header"}),footer:W,visible:C,onDismiss:M},a.a.createElement(s.FormattedMessage,{id:"elasticFileSystem.modal.message"})))}dr.propTypes={readonly:o.a.bool,fileSystems:o.a.array,functionName:o.a.string.isRequired,isDeleting:o.a.bool.isRequired,isModalOpen:o.a.bool.isRequired,navigateTo:o.a.func.isRequired,navigateToCreate:o.a.func.isRequired,navigateToEdit:o.a.func.isRequired,onCloseModal:o.a.func.isRequired,onDelete:o.a.func.isRequired,onOpenModal:o.a.func.isRequired,setDeleteStatus:o.a.func.isRequired,setModalStatus:o.a.func.isRequired};var pr=Object(u.connect)((function(e){return{fileSystems:Object(p.U)(e,"elasticFileSystemSource"),functionName:Object(rt.b)(e).params.functionName,isDeleting:Object(p.l)(e),isModalOpen:Object(p.m)(e)}}),(function(e){return{navigateTo:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(ke.logEvent)(ke.EVENT_NAMES.EFS_CLICK(n?"a":"e")),e(Object(d.I)(!0)),e(Object(_.d)(t,null,"elastic-file-system",null,n))},onDelete:function(t){return e(Object(d.l)(t))},setDeleteStatus:function(t){return e(Object(d.G)(t))},setModalStatus:function(t){return e(Object(d.H)(t))}}}),(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(n,!0).forEach((function(t){sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{},e,{},t,{navigateToEdit:function(){return t.navigateTo(e.functionName,!1)},navigateToCreate:function(){return t.navigateTo(e.functionName,!0)},onDelete:function(){Object(ke.logEvent)(ke.EVENT_NAMES.EFS_CLICK("raprv")),t.onDelete(e.functionName)},onCloseModal:function(){Object(ke.logEvent)(ke.EVENT_NAMES.EFS_CLICK("clrem")),t.setModalStatus(!1)},onOpenModal:function(){Object(ke.logEvent)(ke.EVENT_NAMES.EFS_CLICK("r")),t.setModalStatus(!0)}})}))(dr);function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gr(e,t){return!t||"object"!==fr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vr(e,t){return(vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Er=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=gr(this,yr(t).call(this,e,n))).getMessage=function(e,t){return n.intl.formatMessage({id:e},t)},r.DLQ_OPTIONS=Object.entries({None:"none",sns:"dlq.dlqOptions.sns",sqs:"dlq.dlqOptions.sqs"}).map((function(e){var t=mr(e,2),n=t[0],a=t[1];return{value:n,text:r.getMessage(a)}})),r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vr(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){if(this.props.dlq&&"None"!==this.props.dlq&&this.props.getResources(this.props.dlq),this.props.dlqArn){var e=[{text:new g.b(this.props.dlqArn).resource,value:this.props.dlqArn}];this.props.setFieldValue("resources",e)}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.existingRole===e.existingRole&&this.props.roleSelectionType===e.roleSelectionType||!this.props.dlq||this.checkRoleSelected(e)}},{key:"onSelect",value:function(e){this.props.setFieldValue("dlqArn",""),this.props.setFieldValue("hasDLQPermission",""),e&&"None"!==e&&this.props.getResources(e)}},{key:"checkRoleSelected",value:function(e){var t=e.existingRole,n=e.roleSelectionType;this.props.setFieldValue("dlqErrors",""),this.props.setFieldValue("hasDLQPermission",""),"existing"===n&&t&&this.props.dlqArn&&this.props.checkPermissions(this.props.dlq,t,this.props.dlqArn)}},{key:"checkRolePermissions",value:function(e){var t=this.props,n=t.dlq,r=t.existingRole,a=t.roleSelectionType;e&&r&&n&&"template"!==a&&this.props.checkPermissions(n,r,e)}},{key:"render",value:function(){var e=this.props,t=e.dlq,n=e.dlqErrors,r=e.resources,i=e.readonly,o=this.getMessage("dlq.arn.placeholder");!t||r&&r.length||(o=Object(g.E)(this.context.intl,{id:"dlq.arn.placeholder_none",values:{serviceName:t.toUpperCase()}}));var c=null;t&&n&&"None"!==t&&(c=this.getMessage("dlq.dlqErrors",{errors:n}));var u=null;if("implicitDeny"===this.props.hasDLQPermission){var l={service:t.toUpperCase(),subject:"sns"===t?"topic":"queue",permission:"sns"===t?"Publish":"SendMessage",region:Object(g.H)(),role:new g.d(this.props.existingRole).roleName};u=a.a.createElement(s.FormattedHTMLMessage,{tagName:"p",id:"dlq.roleLink.html",values:l})}return a.a.createElement("div",null,a.a.createElement(zt.a,{type:"select",infoText:a.a.createElement(s.FormattedHTMLMessage,{tagName:"p",id:"dlq.description.html"}),pathInData:"dlq",nodeId:this.props.nodeId,label:this.getMessage("dlq.resource.label"),items:this.DLQ_OPTIONS,warning:c,extraOnChange:this.onSelect.bind(this),tooltip:i?null:a.a.createElement(s.FormattedMessage,{id:"dlq.resource.tooltip"}),readonly:i,enum:!0}),t&&"None"!==t?a.a.createElement(St.b,{overlay:!0,cond:!r&&!this.props.dlqArn},a.a.createElement(zt.a,{type:"select",pathInData:"dlqArn",nodeId:this.props.nodeId,label:this.getMessage("dlq.resource.".concat(t,".label")),items:r||[],placeholder:o,tooltip:a.a.createElement(s.FormattedMessage,{id:"dlq.arn.tooltip"}),extraOnChange:this.checkRolePermissions.bind(this),warning:u,readonly:i,enum:!0,searchable:!0})):null)}}])&&br(n.prototype,r),i&&br(n,i),t}(a.a.Component);hr(Er,"propTypes",{nodeId:o.a.string.isRequired,readonly:o.a.bool,dlq:o.a.string,dlqArn:o.a.string,dlqErrors:o.a.string,existingRole:o.a.string,hasDLQPermission:o.a.string,resources:o.a.array,roleSelectionType:o.a.string,checkPermissions:o.a.func.isRequired,getResources:o.a.func.isRequired,setFieldValue:o.a.func.isRequired}),hr(Er,"contextTypes",{intl:s.intlShape.isRequired});var Or=Object(u.connect)((function(e,t){var n=Object(p.M)(e,t.nodeId);return{dlq:Object(zt.b)(n,"dlq"),dlqArn:Object(zt.b)(n,"dlqArn"),dlqErrors:Object(zt.b)(n,"dlqErrors"),existingRole:Object(zt.b)(n,"role"),hasDLQPermission:Object(zt.b)(n,"hasDLQPermission"),resources:Object(zt.b)(n,"resources"),roleSelectionType:Object(zt.b)(n,"roleSelectionType")}}),(function(e,t){return{checkPermissions:function(n,r,a){return e(Object(d.f)(n,t.nodeId,r,a))},getResources:function(n){return e(Object(d.s)(n,t.nodeId))},setFieldValue:function(n,r){return e(Object(d.W)(r,t.nodeId,n))}}}))(Er);function Sr(e){var t=e.readonly,n=e.nodeId;return a.a.createElement(lt,{id:"debug"},a.a.createElement(Or,{readonly:t,nodeId:n}))}Sr.propTypes={nodeId:o.a.string.isRequired,readonly:o.a.bool};var jr=n(57),Tr=n(245);function xr(e){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t){return!t||"object"!==xr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rr(e){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ir=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wr(this,Rr(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ar(e,t)}(t,e),n=t,(r=[{key:"keyValueChange",value:function(e,t){var n=this.props.envVars;n=t.equals(jr.a)&&e===this.props.envVars.size-1?n.delete(e):n.set(e,t),this.props.updateEnvVars(n)}},{key:"deleteKeyValue",value:function(e){var t=this.props.envVars.delete(e);this.props.updateEnvVars(t)}},{key:"render",value:function(){return this.props.envVarsError?a.a.createElement(c.Alert,{type:"error"},this.props.envVarsError.get("message")):a.a.createElement(Tr.a,{nodeId:this.props.nodeId,readonly:this.props.readonly,envVars:this.props.envVars,validation:this.props.validation,onKeyValueChange:this.keyValueChange.bind(this),onDeleteKeyValue:this.deleteKeyValue.bind(this)})}}])&&_r(n.prototype,r),i&&_r(n,i),t}(a.a.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ir,"propTypes",{nodeId:o.a.string.isRequired,readonly:o.a.bool,envVars:H.a.list.isRequired,envVarsError:H.a.map,validation:H.a.map.isRequired,updateEnvVars:o.a.func.isRequired});var Nr=Object(u.connect)((function(){var e=Object(p.ib)("envVars");return function(t,n){var r=Object(p.n)(t,n.nodeId),a=Object(p.M)(t,n.nodeId);return{envVars:r,envVarsError:Object(zt.b)(a,"envVarsError"),validation:e(t,n.nodeId).get("envVars",Object(b.Map)())}}}),(function(e,t){return{updateEnvVars:function(n){return e(Object(d.W)(n,t.nodeId,"envVars"))}}}))(Ir);function Cr(e){var t,n=e.nodeId,r=e.readonly,i=e.envVars,o=e.envVarsError,u=e.kmsKeyArn;return Be.f.includes("superlunar1")?(t=i.isEmpty()?a.a.createElement(s.FormattedMessage,{id:"editEnvironmentVariables.environmentVariables.empty"}):a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:"awsui-util-mb-m"},a.a.createElement(s.FormattedHTMLMessage,{id:"functionDesigner.section.environmentVariables.kmsKeyArn.".concat(u?"customer":"default"),values:{keyId:null==u?void 0:u.split("/")[1]}})),a.a.createElement(ot.f,{flat:!0,columns:2,items:i.toJS()})),a.a.createElement(lt,{id:"envVars",readonly:r,editPage:"environment-variables"},o&&a.a.createElement(c.Alert,{type:"error"},o.get("message")),t)):a.a.createElement(lt,{id:"envVars"},a.a.createElement(Nr,{nodeId:n,readonly:r}))}Cr.propTypes={nodeId:o.a.string.isRequired,readonly:o.a.bool,envVars:H.a.list.isRequired,envVarsError:H.a.map,kmsKeyArn:o.a.string};var kr=Object(u.connect)((function(e,t){return{envVars:Object(p.n)(e,t.nodeId),envVarsError:Object(zt.b)(Object(p.M)(e,t.nodeId),"envVarsError"),kmsKeyArn:Object(zt.b)(Object(p.M)(e,t.nodeId),"kmsKeyArn")}}))(Cr);function Pr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qr(e,t,n){return t&&Fr(e.prototype,t),n&&Fr(e,n),e}function Vr(e,t){return!t||"object"!==Dr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}function Br(e,t){return(Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hr=o.a.oneOfType([o.a.shape({name:o.a.string.isRequired,portRange:o.a.string.isRequired,ingressRules:o.a.string.isRequired}),o.a.shape({name:o.a.string.isRequired,portRange:o.a.string.isRequired,egressRules:o.a.string.isRequired})]),Wr=function(e){function t(){var e;return Lr(this,t),(e=Vr(this,Ur(t).call(this))).state={activeTabId:"inbound"},e}return Gr(t,e),qr(t,[{key:"render",value:function(){var e=this,t=this.constructor.displayColumns[this.state.activeTabId],n=a.a.createElement(c.Table,{columnDefinitions:this.constructor.columnDefinitions(t),empty:this.context.intl.formatMessage({id:"functions.grid.noData"}),features:["pagination"],noMatch:this.context.intl.formatMessage({id:"functions.grid.noData"}),items:this.props[this.state.activeTabId]},a.a.createElement(c.TablePagination,null));return a.a.createElement(c.Tabs,{className:"vpc-tabs",tabs:this.constructor.tabs.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(n,!0).forEach((function(t){zr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{content:n})})),activeTabId:this.state.activeTabId,onChange:function(t){var n=t.target,r=n.className,a=n.component.activeTabId;return r.includes("vpc-tabs")&&e.setState({activeTabId:a})}})}}]),t}(a.a.Component);zr(Wr,"contextTypes",{intl:s.intlShape.isRequired}),zr(Wr,"propTypes",{inbound:o.a.arrayOf(Hr).isRequired,outbound:o.a.arrayOf(Hr).isRequired}),zr(Wr,"displayColumns",{inbound:["name","portRange","ingressRules"],outbound:["name","portRange","egressRules"]}),zr(Wr,"columnDefinitions",(function(e){return["name","portRange","ingressRules","egressRules"].filter((function(t){return e.includes(t)})).map((function(e){return{id:e,header:function(){return a.a.createElement(s.FormattedMessage,{id:"vpc.securityGroupRules.".concat(e,".label")})},cell:function(t){return t[e]}}}))})),zr(Wr,"tabs",[{id:"inbound",label:function(){return a.a.createElement(s.FormattedMessage,{id:"vpc.securityGroupRules.tab.inbound"})}},{id:"outbound",label:function(){return a.a.createElement(s.FormattedMessage,{id:"vpc.securityGroupRules.tab.outbound"})}}]);var Kr=function(e){function t(e,n){var r;return Lr(this,t),(r=Vr(this,Ur(t).call(this,e,n))).noVpcItem={text:n.intl.formatMessage({id:"vpc.noVpc"}),value:"_novpc"},r}return Gr(t,e),qr(t,[{key:"componentDidMount",value:function(){this.props.initVpc()}},{key:"getSecurityGroupRules",value:function(e){var t=this,n={inbound:"ingressRules",outbound:"egressRules"}[e],r=this.props.securityGroupItems.filter((function(e){return t.props.securityGroupIds.includes(e.value)})).map((function(e){return e[n].map((function(t){return zr({name:e.value,portRange:t.portRange},n,t.source)}))})).reduce((function(e,t){return[].concat(Pr(e),Pr(t))}),[]);return r.length?r:[zr({name:"None",portRange:"-"},n,"-")]}},{key:"getSecurityGroupOrSubnetItems",value:function(e,t){var n=t,r=t.map((function(e){return e.value}));return e.forEach((function(e){r.includes(e)||(n=n.push({text:e,value:e}))})),n}},{key:"changeVpc",value:function(e,t){t!==e&&this.props.changeVpcId(e)}},{key:"render",value:function(){var e=this.props,t=e.hasVpcPermission,n=e.readonly,r=e.nodeId,i=e.subnetIds,o=e.securityGroupIds,u=e.vpcId,l=1===i.size,d=t||n?null:this.context.intl.formatMessage({id:"vpc.noPermission"}),p=null,f=this.getSecurityGroupOrSubnetItems(o,this.props.securityGroupItems),m=this.getSecurityGroupOrSubnetItems(i,this.props.subnetItems);return"_novpc"!==u&&(p=a.a.createElement("div",null,a.a.createElement(zt.a,{nodeId:r,pathInData:"subnetIds",type:"select",multi:!0,enum:!0,searchable:!0,items:m.toJS(),readonly:n,label:this.context.intl.formatMessage({id:Zt.a.subnetIds}),tooltip:n?null:a.a.createElement(s.FormattedMessage,{id:"vpc.fields.subnets.info"}),warning:l&&!n?this.context.intl.formatMessage({id:"vpc.fields.subnets.lowAvailabilityWarning"}):""}),a.a.createElement(zt.a,{nodeId:r,pathInData:"securityGroupIds",type:"select",multi:!0,enum:!0,searchable:!0,items:f.toJS(),readonly:n,label:this.context.intl.formatMessage({id:Zt.a.securityGroupIds}),tooltip:n?null:a.a.createElement(s.FormattedMessage,{id:"vpc.fields.securityGroups.info"})}),n?null:a.a.createElement(c.Alert,null,a.a.createElement(s.FormattedHTMLMessage,{id:"vpc.fields.securityGroups.help"})),a.a.createElement(Wr,{inbound:this.getSecurityGroupRules("inbound"),outbound:this.getSecurityGroupRules("outbound")}))),a.a.createElement("div",{className:"vpc"},a.a.createElement("div",{className:"vpc-information-container"},a.a.createElement(zt.a,{nodeId:r,pathInData:"vpcId",type:"select",enum:!0,searchable:!0,label:this.context.intl.formatMessage({id:Zt.a.vpcId}),tooltip:n?null:a.a.createElement(s.FormattedMessage,{id:"vpc.fields.vpc.info"}),infoText:a.a.createElement(s.FormattedHTMLMessage,{tagName:"p",id:"vpc.description.html"}),readonly:n,items:this.props.vpcItems.unshift(this.noVpcItem).toJS(),extraOnChange:this.changeVpc.bind(this),warning:d}),p))}}]),t}(a.a.Component);zr(Kr,"propTypes",{nodeId:o.a.string.isRequired,readonly:o.a.bool,hasVpcPermission:o.a.bool.isRequired,securityGroupIds:H.a.listOf(o.a.string),securityGroupItems:H.a.listOf(W.c),subnetIds:H.a.listOf(o.a.string),subnetItems:H.a.listOf(W.c),vpcId:o.a.string.isRequired,vpcItems:H.a.listOf(W.c),changeVpcId:o.a.func.isRequired,initVpc:o.a.func.isRequired}),zr(Kr,"contextTypes",{intl:s.intlShape.isRequired});var Yr=Object(u.connect)((function(e,t){var n=Object(p.M)(e,t.nodeId),r=Object(p.hb)(e);return{hasVpcPermission:r.get("hasVpcPermission"),securityGroupIds:Object(zt.b)(n,"securityGroupIds"),securityGroupItems:r.get("securityGroupItems"),subnetIds:Object(zt.b)(n,"subnetIds"),subnetItems:r.get("subnetItems"),vpcId:Object(zt.b)(n,"vpcId"),vpcItems:r.get("vpcItems")}}),(function(e,t){return{changeVpcId:function(n){return e(Object(d.e)(t.nodeId,n))},initVpc:function(){return e(Object(d.u)(t.nodeId))}}}))(Kr);function Jr(e){var t=e.nodeId,n=e.readonly;return a.a.createElement(lt,{id:"network"},a.a.createElement(Yr,{nodeId:t,readonly:n}))}Jr.propTypes={nodeId:o.a.string,readonly:o.a.bool};function Qr(e){if(!e.qualifiers)return a.a.createElement(St.b,null,a.a.createElement("div",null));if("alias"===e.qualifierType){var t=e.nodeId,n=e.qualifier,r=e.functionName,i=e.qualifiers,o=i.getIn(["aliases",n,"version"]),u=i.getIn(["aliases",n,"additionalVersionWeight","version"]),l=i.has("versions")?i.get("versions").map((function(e){return{text:e.get("version"),value:e.get("version")}})).toArray().sort(Object(w.s)((function(e){return e.value}))):[],d=a.a.createElement("p",null,a.a.createElement(s.FormattedHTMLMessage,{id:"functionDetail.configuration.description.aliases",values:{alias:n}}),a.a.createElement("br",null),a.a.createElement(s.FormattedHTMLMessage,{id:"functionDetail.configuration.description.aliases.linkToVersion",values:{functionName:r,version:o}}),u?a.a.createElement("span",null,a.a.createElement("br",null),a.a.createElement(s.FormattedHTMLMessage,{id:"functionDetail.configuration.description.aliases.linkToVersion",values:{functionName:r,version:u}})):null);return a.a.createElement(lt,{id:"alias"},a.a.createElement(ee,{title:d,version:o,versions:l,nodeId:t,readonly:e.readonly}))}var p=e.functionName,f=e.qualifier,m=e.qualifiers,b=Object(w.o)(m.get("aliases"))[f]||[];return a.a.createElement(c.FormSection,{header:a.a.createElement(s.FormattedMessage,{id:"functionDetail.configuration.aliases.title"})},a.a.createElement("span",null,b.map((function(e){return a.a.createElement("a",{key:e,href:"#/functions/".concat(p,"/aliases/").concat(e)},a.a.createElement(c.Badge,{color:"blue",content:e}))}))),a.a.createElement(c.Button,{variant:"link",icon:"add-plus",onClick:e.openCreateAlias,text:a.a.createElement(s.FormattedMessage,{id:"functionDetail.button.createAlias"})}))}Qr.propTypes={nodeId:o.a.string.isRequired,qualifier:o.a.string.isRequired,qualifierType:o.a.string.isRequired,readonly:o.a.bool,functionName:o.a.string.isRequired,qualifiers:H.a.map,openCreateAlias:o.a.func.isRequired};var Xr=Object(u.connect)((function(e){return{functionName:Object(p.w)(e),qualifiers:Object(p.T)(e)}}),(function(e,t){return{openCreateAlias:function(){e(Object(te.c)("modal.alias.version",t.qualifier)),e(Object(d.J)("alias",!0))}}}))(Qr);function $r(e){var t,n=e.qualifier,r=e.provisionedConcurrencyConfigs;if(r.isEmpty())return a.a.createElement(St.b,null,a.a.createElement("div",null));var i=null===(t=r.get("versions"))||void 0===t?void 0:t.find((function(e){return e.get("qualifier")===n}));if(!i)return a.a.createElement(ot.f,{columns:1,items:[[{key:a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.availableProvisionedConcurrency"}),value:"-"}]]});var o=i.get("status"),c=i.get("provisionedConcurrency"),u=i.get("requestedConcurrency");return a.a.createElement(ot.f,{columns:2,items:[[{key:a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.availableProvisionedConcurrency"}),value:a.a.createElement("span",null,i.get("availableConcurrency"))}],[{key:a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.status"}),value:a.a.createElement(a.a.Fragment,null,a.a.createElement(ot.g,{status:_n[o]})," ",i.get("statusReason"),("IN_PROGRESS"===o||"FAILED"===o)&&a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.status.details",values:{allocated:c,requested:u}}))}]]})}$r.propTypes={qualifier:i.PropTypes.string.isRequired,provisionedConcurrencyConfigs:i.PropTypes.object.isRequired};var Zr=n(120);function ea(e,t){var n=e.nodeId,r=e.qualifier,i=e.qualifiers,o=e.provisionedConcurrencyConfigs,s=t.intl,u=Object(Zr.e)(r,i,o,s);return a.a.createElement(lt,{id:"provisionedConcurrency",editPage:u.length>0?void 0:"provisioned-concurrency"},a.a.createElement(y.a,{scope:"provisioned-concurrency"}),u.length>0&&a.a.createElement(c.Alert,{className:"awsui-util-mb-s",content:u[0].message}),0===u.length&&a.a.createElement($r,{nodeId:n,qualifier:r,provisionedConcurrencyConfigs:o}))}ea.contextTypes={intl:s.intlShape.isRequired},ea.propTypes={nodeId:o.a.string.isRequired,qualifier:o.a.string.isRequired,qualifiers:o.a.object.isRequired,provisionedConcurrencyConfigs:o.a.object.isRequired};var ta=Object(u.connect)((function(e){return{qualifiers:Object(p.T)(e)||Object(b.Map)(),provisionedConcurrencyConfigs:Object(p.U)(e,"provisionedConcurrencyConfigsParser")||Object(b.Map)()}}))(ea);function na(e){var t,n=e.provisionedConcurrencyConfigs,r=e.qualifiers,i=e.qualifier;if(!r||n.isEmpty())return a.a.createElement(St.b,null,a.a.createElement("div",null));var o=null===(t=n.get("aliases"))||void 0===t?void 0:t.find((function(e){return e.get("qualifier")===i}));if(!o)return a.a.createElement(ot.f,{columns:1,items:[[{key:a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.availableProvisionedConcurrency"}),value:"-"}]]});var c=o.get("status"),u=o.get("provisionedConcurrency"),l=o.get("requestedConcurrency");return a.a.createElement(ot.f,{columns:2,items:[[{key:a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.availableProvisionedConcurrency"}),value:a.a.createElement("span",null,o.get("availableConcurrency"))}],[{key:a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.status"}),value:a.a.createElement(a.a.Fragment,null,a.a.createElement(ot.g,{status:_n[c]})," ",o.get("statusReason"),("IN_PROGRESS"===c||"FAILED"===c)&&a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.status.details",values:{allocated:u,requested:l}}))}]]})}na.propTypes={provisionedConcurrencyConfigs:i.PropTypes.object.isRequired,qualifiers:i.PropTypes.object,qualifier:i.PropTypes.string.isRequired};var ra=[{id:"qualifier",header:function(){return a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.version"})},cell:function(e){return e.qualifier}},{id:"weight",header:function(){return a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.weight"})},cell:function(e){return"".concat(e.weight,"%")}},{id:"requestedConcurrency",header:function(){return a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.requestedConcurrency"})},cell:function(e){return void 0===e.requestedConcurrency?"-":e.requestedConcurrency}},{id:"provisionedConcurrency",header:function(){return a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.allocatedProvisionedConcurrency"})},cell:function(e){return void 0===e.provisionedConcurrency?"-":e.provisionedConcurrency}},{id:"status",header:function(){return a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.status"})},cell:function(e){return e.status?a.a.createElement(a.a.Fragment,null,a.a.createElement(ot.g,{status:_n[e.status]})," ",e.statusReason):"-"}}];function aa(e){var t,n,r=e.qualifiers,i=e.qualifier,o=e.provisionedConcurrencyConfigs;if(!r)return a.a.createElement(St.b,null,a.a.createElement("div",null));var u=r.getIn(["aliases",i]),l=u.get("version"),d=[{qualifier:l,weight:100}],p=null===(t=o.get("aliases"))||void 0===t?void 0:t.find((function(e){return e.get("qualifier")===u.get("qualifier")})),f=null===(n=o.get("versions"))||void 0===n?void 0:n.find((function(e){return e.get("qualifier")===l}));p&&"READY"===p.get("status")?(d[0].requestedConcurrency=a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.versionsMappedToAlias.fromAlias",values:{provisionedConcurrency:p.get("requestedConcurrency")}}),d[0].provisionedConcurrency=a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.versionsMappedToAlias.fromAlias",values:{provisionedConcurrency:p.get("provisionedConcurrency")}})):f&&(d[0].requestedConcurrency=f.get("requestedConcurrency"),d[0].provisionedConcurrency=f.get("provisionedConcurrency"),d[0].status=f.get("status"));var m,b=u.getIn(["additionalVersionWeight","version"]);if(b){var g,y=u.getIn(["additionalVersionWeight","weight"]),v=100-y;d[0].weight=v,d.push({qualifier:b,weight:y}),m=null===(g=o.get("versions"))||void 0===g?void 0:g.find((function(e){return e.get("qualifier")===b})),p&&"READY"===p.get("status")?(d[0].requestedConcurrency=a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.versionsMappedToAlias.basedOnWeight"}),d[0].provisionedConcurrency=a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.versionsMappedToAlias.basedOnWeight"}),d[1].requestedConcurrency=a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.versionsMappedToAlias.basedOnWeight"}),d[1].provisionedConcurrency=a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.versionsMappedToAlias.basedOnWeight"})):m&&(d[1].requestedConcurrency=m.get("requestedConcurrency"),d[1].provisionedConcurrency=m.get("provisionedConcurrency"),d[1].status=m.get("status"))}return a.a.createElement(a.a.Fragment,null,(p||f||m)&&a.a.createElement("div",{className:"awsui-util-mt-l"},a.a.createElement(c.Table,{className:"versionsMappedToAliasTable",columnDefinitions:ra,header:a.a.createElement("h2",null,a.a.createElement(s.FormattedMessage,{id:"provisionedConcurrency.versionsMappedToAlias.header"})),items:d,empty:a.a.createElement(s.FormattedMessage,{id:"functions.grid.noData"})})))}aa.propTypes={provisionedConcurrencyConfigs:o.a.object,qualifiers:o.a.object,qualifier:o.a.string.isRequired};var ia=Object(u.connect)((function(e){return{provisionedConcurrencyConfigs:Object(p.U)(e,"provisionedConcurrencyConfigsParser")||Object(b.Map)(),qualifiers:Object(p.T)(e)}}))(aa);function oa(e,t){var n,r=e.nodeId,i=e.qualifier,o=e.qualifiers,s=e.provisionedConcurrencyConfigs,u=t.intl,l=!!(null===(n=s.get("aliases"))||void 0===n?void 0:n.find((function(e){return e.get("qualifier")===i}))),d=!!o.getIn(["aliases",i,"additionalVersionWeight","version"]),p=[];return l&&d?p.push({message:u.formatMessage({id:"editProvisionedConcurrency.provisionedConcurrencyAlias.errorText.weightedAlias.edit"})}):p=Object(Zr.a)(i,o,s,u),a.a.createElement(lt,{id:"provisionedConcurrency",editPage:p.length>0?void 0:"provisioned-concurrency"},a.a.createElement(y.a,{scope:"provisioned-concurrency"}),p.length>0&&a.a.createElement(c.Alert,{className:"awsui-util-mb-s",content:p[0].message}),(0===p.length||l)&&a.a.createElement(na,{nodeId:r,qualifier:i,qualifiers:o,provisionedConcurrencyConfigs:s}),a.a.createElement(ia,{nodeId:r,qualifier:i}))}oa.contextTypes={intl:s.intlShape.isRequired},oa.propTypes={nodeId:o.a.string.isRequired,qualifier:o.a.string.isRequired,qualifiers:o.a.object.isRequired,provisionedConcurrencyConfigs:o.a.object.isRequired};var ca=Object(u.connect)((function(e){return{qualifiers:Object(p.T)(e)||Object(b.Map)(),provisionedConcurrencyConfigs:Object(p.U)(e,"provisionedConcurrencyConfigsParser")||Object(b.Map)()}}))(oa),sa=n(247);function ua(e){var t=e.nodeId,n=e.readonly;return a.a.createElement(lt,{id:"role"},a.a.createElement(sa.a,{nodeId:t,readonly:n}))}ua.propTypes={nodeId:o.a.string.isRequired,readonly:o.a.bool};var la=n(188),da=n(208);function pa(e){var t=e.readonly?e.tags:e.tags.push(jr.a),n=e.validation;return a.a.createElement("div",{className:"tags-container"},a.a.createElement("div",{className:"tags-list"},a.a.createElement(c.FormField,{description:a.a.createElement(s.FormattedHTMLMessage,{className:"awsui-util-d-i",id:"tags.description.html"}),errorText:n.get("message")},a.a.createElement("div",{className:e.readonly?"readonly":""},e.systemTags?a.a.createElement("div",{className:"system-tag-list"},e.systemTags.map((function(e,t){return a.a.createElement(da.a,{key:t,keyValue:e,onChange:function(){return null},readonly:!0})}))):null,t.map((function(r,i){return a.a.createElement(da.a,{key:i,keyValue:r,onChange:function(t){return e.onKeyValueChange(i,t)},validationMessage:n.get("".concat(i)),readonly:e.readonly},a.a.createElement(la.a,{allowDelete:i!==t.size-1,onDelete:function(){return e.onDeleteKeyValue(i)},readonly:e.readonly}))}))))))}function fa(e){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ba(e,t){return!t||"object"!==fa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ga(e){return(ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ya(e,t){return(ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}pa.propTypes={tags:H.a.list.isRequired,validation:H.a.map.isRequired,onKeyValueChange:o.a.func.isRequired,onDeleteKeyValue:o.a.func.isRequired,systemTags:H.a.list,readonly:o.a.bool};var va=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ba(this,ga(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ya(e,t)}(t,e),n=t,(r=[{key:"keyValueChange",value:function(e,t){var n=this.props.userTags;n=t.equals(jr.a)&&e===this.props.userTags.size-1?n.delete(e):n.set(e,t),this.props.updateUserTags(n)}},{key:"deleteKeyValue",value:function(e){var t=this.props.userTags.delete(e);this.props.updateUserTags(t)}},{key:"render",value:function(){var e=Object(g.F)(this.props.qualifier);return"version"===e||"alias"===e?a.a.createElement(s.FormattedHTMLMessage,{id:"tags.".concat(e,"Description.html"),values:{functionName:this.props.functionName},tagName:"p"}):this.props.isTagSourceFailed?a.a.createElement(c.Alert,{type:"error",dismissible:!0},this.props.tagSourceFailureMessage):a.a.createElement(pa,{tags:this.props.userTags,validation:this.props.validation,systemTags:this.props.systemTags,onKeyValueChange:this.keyValueChange.bind(this),onDeleteKeyValue:this.deleteKeyValue.bind(this),readonly:this.props.readonly})}}])&&ma(n.prototype,r),i&&ma(n,i),t}(a.a.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(va,"propTypes",{nodeId:o.a.string.isRequired,readonly:o.a.bool,userTags:H.a.list.isRequired,systemTags:H.a.list.isRequired,functionName:o.a.string.isRequired,qualifier:o.a.string,validation:H.a.map.isRequired,updateUserTags:o.a.func.isRequired,isTagSourceFailed:o.a.bool.isRequired,tagSourceFailureMessage:o.a.string});var ha=Object(u.connect)((function(){var e=Object(p.ib)("tags");return function(t,n){var r=Object(p.fb)(t,n.nodeId),a=new g.e(Object(p.q)(t)),i=a.functionName,o=a.qualifier,c=!!Object(p.O)(t).find((function(e){return"tagSource"===e})),s=Object(p.U)(t,"tagSource")||{};return{userTags:r.get("userTags",Object(b.List)()),systemTags:r.get("systemTags",Object(b.List)()),functionName:i,qualifier:o,validation:e(t,n.nodeId).getIn(["tags","userTags"],Object(b.Map)()),isTagSourceFailed:c,tagSourceFailureMessage:s.message}}}),(function(e,t){return{updateUserTags:function(n){return e(Object(d.W)(n,t.nodeId,"tags.userTags"))}}}))(va);function Ea(e){var t=e.nodeId,n=e.readonly,r=e.qualifier,i=n||Be.f.includes("superlunar4"),o=Object(g.F)(r),c=Be.f.includes("superlunar4")&&"version"!==o&&"alias"!==o;return a.a.createElement(lt,{id:"tags",editPage:c?"tags":""},a.a.createElement(ha,{nodeId:t,readonly:i}))}function Oa(e){return(Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ja(e,t){return!t||"object"!==Oa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xa(e,t){return(xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ea.propTypes={nodeId:o.a.string.isRequired,qualifier:o.a.string,readonly:o.a.bool};var wa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ja(this,Ta(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xa(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.roleArn,n=e.existingRole,r=e.tracerEnabled;t===this.props.roleArn&&n===this.props.existingRole&&r===this.props.tracerEnabled||this.handleTracerCheckbox(r,n,t),r!==this.props.tracerEnabled&&Object(ke.logEvent)(r?ke.EVENT_NAMES.XRAY_ENABLE:ke.EVENT_NAMES.XRAY_DISABLE)}},{key:"handleTracerCheckbox",value:function(e,t,n){e?t?this.props.simulatePolicy(n):this.props.setNeedsTracerPermissions(!0):this.props.setNeedsTracerPermissions(!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.nodeId,i=t.tracerEnabled,o=new g.e(r).functionName,u=function(t){return e.context.intl.formatMessage({id:t})},l=null;i&&this.props.needsTracerPermissions&&(l=u("functionDetail.monitoring.xray.warning"));var d=n?a.a.createElement("div",null):a.a.createElement("div",{className:"tracer-container awsui-util-mb-s"},a.a.createElement(zt.a,{type:"checkbox",pathInData:"tracer",nodeId:r,tooltip:u("functionDetail.monitoring.xray.tooltip"),infoText:a.a.createElement(s.FormattedHTMLMessage,{tagName:"p",id:"tracer.description.html"}),sideText:u("functionDetail.monitoring.xray.checkbox"),readonly:this.props.readonly,warning:l}));return a.a.createElement(St.b,{cond:n},d,a.a.createElement(c.Button,{href:"/xray/home?region=".concat(Object(g.H)(),"#/traces?filter=service(%22").concat(encodeURIComponent(o),"%22)&timeRange=PT1H"),target:"_blank",onClick:function(){return Object(ke.logEvent)(ke.EVENT_NAMES.XRAY_VIEW_BUTTON_CLICK)}},a.a.createElement(s.FormattedMessage,{id:"functionDetail.monitoring.xray.link"})))}}])&&Sa(n.prototype,r),i&&Sa(n,i),t}(a.a.Component);_a(wa,"propTypes",{nodeId:o.a.string.isRequired,readonly:o.a.bool,existingRole:o.a.bool.isRequired,loading:o.a.bool.isRequired,needsTracerPermissions:o.a.bool,roleArn:o.a.string,tracerEnabled:o.a.bool.isRequired,setNeedsTracerPermissions:o.a.func.isRequired,simulatePolicy:o.a.func.isRequired}),_a(wa,"contextTypes",{intl:s.intlShape.isRequired});var Ra=Object(u.connect)((function(e,t){var n=Object(p.M)(e,t.nodeId);return{roleArn:Object(zt.b)(n,"role"),existingRole:"existing"===Object(zt.b)(n,"roleSelectionType"),loading:!Object(p.jb)(e),tracerEnabled:Object(zt.b)(n,"tracer"),needsTracerPermissions:Object(zt.b)(n,"needsTracerPermissions")}}),(function(e,t){return{setNeedsTracerPermissions:function(n){return e(Object(d.W)(n,t.nodeId,"needsTracerPermissions"))},simulatePolicy:function(n){return e(Object(d.Q)(t.nodeId,n))}}}))(wa);function Aa(e){var t=e.readonly,n=e.nodeId;return a.a.createElement(lt,{id:"xray",showInfoLink:!0},a.a.createElement(Ra,{readonly:t,nodeId:n}))}function Ia(e){return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Na(){return(Na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ka(e,t){return!t||"object"!==Ia(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pa(e){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Da(e,t){return(Da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Aa.propTypes={nodeId:o.a.string.isRequired,readonly:o.a.bool};var Ma=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ka(this,Pa(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Da(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.nodes,n=e.currentFunction;if(!e.isFunctionDataLoaded)return null;var r=t.getIn([0,"id"]);if(n!==r)return null;var i=new g.e(n).qualifier,o=!!i,s=Object(w.r)(n),u={nodeId:r,readonly:o&&"$LATEST"!==i},l=Object(g.F)(i),d=o&&!s?a.a.createElement(Xr,{nodeId:r,qualifier:i,qualifierType:l}):null,p=Be.f.includes("bananaslug")?a.a.createElement($t,{nodeId:r,qualifier:i}):a.a.createElement(Sr,u);return"alias"===l?a.a.createElement("div",null,d,Be.f.includes("hyperion")&&o&&!s?a.a.createElement(ca,{nodeId:r,qualifier:i}):null,Be.f.includes("bananaslug")?a.a.createElement($t,{nodeId:r,qualifier:i}):null):a.a.createElement("div",null,a.a.createElement(mn,u),a.a.createElement(kr,u),s||!Be.f.includes("teletubby")?null:a.a.createElement(Ea,Na({qualifier:i},u)),a.a.createElement(c.ColumnLayout,{columns:2,className:"awsui-util-mb-l"},a.a.createElement("div",{"data-awsui-column-layout-root":!0},a.a.createElement(ua,u),a.a.createElement(rn,Na({qualifier:i},u)))),Be.f.includes("triscuit")?a.a.createElement(c.ColumnLayout,{columns:2,className:"awsui-util-mb-l"},a.a.createElement("div",{"data-awsui-column-layout-root":!0},a.a.createElement(Jr,u),a.a.createElement(Aa,u))):a.a.createElement(Jr,u),o?null:a.a.createElement(Qn,u),Be.f.includes("hyperion")&&o&&"$LATEST"!==i?a.a.createElement(ta,{nodeId:r,qualifier:i}):null,Be.f.includes("parmigiana")?p:a.a.createElement(c.ColumnLayout,{columns:2,className:"awsui-util-mb-l"},a.a.createElement("div",{"data-awsui-column-layout-root":!0},p,a.a.createElement(dt,u))),d,s||!Be.f.includes("dittograph")?null:a.a.createElement(or,u),s||!Be.f.includes("evanescent")?null:a.a.createElement(pr,u))}}])&&Ca(n.prototype,r),i&&Ca(n,i),t}(a.a.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ma,"propTypes",{nodes:H.a.listOf(J.e).isRequired,currentFunction:o.a.string.isRequired,isFunctionDataLoaded:o.a.bool.isRequired});var La=Object(u.connect)((function(e){return{currentFunction:Object(p.q)(e),isFunctionDataLoaded:Object(p.D)(e)}}))(Ma),Fa=n(26);function qa(e){var t=e.target,n=e.integration,r=e.deleteTrigger,i=a.a.createElement("div",{className:"awsui-modal-footer"},a.a.createElement("div",{className:"awsui-util-f-r"},a.a.createElement(c.Button,{variant:"link",onClick:r},a.a.createElement(s.FormattedMessage,{id:"cancel"})),a.a.createElement(c.Button,{disabled:!0},a.a.createElement(s.FormattedMessage,{id:"designer.node.trigger.add"}))));return a.a.createElement(c.FormSection,{id:"trigger-configuration",header:a.a.createElement(s.FormattedMessage,{id:"designer.node.trigger.configure"}),footer:i},a.a.createElement(j.b,{target:t,sourceDefinition:n}))}qa.propTypes={triggerId:o.a.string.isRequired,integration:o.a.object.isRequired,target:o.a.string.isRequired,deleteTrigger:o.a.func.isRequired};var Va=Object(u.connect)((function(e){return{target:Object(p.q)(e)}}),(function(e,t){return{deleteTrigger:function(){return e(Object(d.m)(t.triggerId))}}}))(qa),Ua=n(60),Ga=n(141);function Ba(e){return(Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,t){return!t||"object"!==Ba(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wa(e){return(Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ka(e,t){return(Ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ja=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ha(this,Wa(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ka(e,t)}(t,e),n=t,(r=[{key:"filterTriggerStates",value:function(e){return this.props.trigger.states.filter((function(t){return t.get("type")!==e}))}},{key:"addNeedsFixState",value:function(){var e=Ua.f.createNeedsFixState(),t=this.props.trigger.states.push(e);this.props.changeStates(this.props.trigger.id,t)}},{key:"hasStateType",value:function(e){return this.props.trigger.states.filter((function(t){return t.get("type")===e})).size>0}},{key:"render",value:function(){var e,t,n,r,i,o=this,u=this.props,l=u.service,d=u.trigger,p=u.readonly,f=u.toggleTrigger,m=u.deleteTrigger,b=u.changeStates,g=this.context.intl,y=this.hasStateType(Ua.b.NEEDS_SAVE),v=!!this.props.currentlySaved,h=this.hasStateType(Ua.b.PENDING_DELETION),E=this.hasStateType(Ua.b.NEEDS_FIX),O=!d.state||["disabled","enabled"].includes(d.state.toLowerCase()),S=l.toggle&&!d.enabled,j="info";h?t=a.a.createElement(Ga.c,{level:"info",message:g.formatMessage({id:"designer.node.state.pendingDeletion"})}):y?t=a.a.createElement(Ga.c,{level:"info",message:g.formatMessage({id:"designer.node.state.needsSave"})}):d.exception&&(j=d.exception.get("level"),t=a.a.createElement(Ga.c,{level:j,message:d.exception.get("message")})),n=h?a.a.createElement(c.Button,{size:"small",text:g.formatMessage({id:"designer.button.undo"}),onClick:function(){return b(d.id,o.filterTriggerStates(Ua.b.PENDING_DELETION))}}):a.a.createElement(c.Button,{size:"small",text:g.formatMessage({id:"designer.button.delete"}),onClick:function(){return m(d.id)},disabled:E||!O}),d.exception&&"info"!==j?d.exception.get("correctable")&&(E?(t=a.a.createElement(Ga.c,{level:"info",message:d.exception.get("action")}),r=a.a.createElement(c.Button,{size:"small",text:g.formatMessage({id:"designer.button.undo"}),onClick:function(){return b(d.id,o.filterTriggerStates(Ua.b.NEEDS_FIX))}})):r=a.a.createElement(c.Button,{size:"small",text:g.formatMessage({id:"modal.fix.button.submit"}),onClick:function(){return o.addNeedsFixState()},disabled:h})):v&&(r=l.toggle?O?a.a.createElement(c.Toggle,{className:"awsui-util-d-ib awsui-util-mr-m",label:g.formatMessage({id:"trigger.table.".concat(S?"disabled":"enabled")}),disabled:h,checked:!!d.enabled,onChange:function(){return f(!d.enabled,d.id)}}):a.a.createElement("span",{className:"awsui-util-mr-m"},a.a.createElement(c.Icon,{name:"status-pending"})," ",d.state,a.a.createElement("span",{className:"awsui-util-ml-xs"},a.a.createElement(s.FormattedMessage,{id:"trigger.table.pending.estimate"}))):a.a.createElement("span",{className:"awsui-util-mr-m"},a.a.createElement(s.FormattedMessage,{id:"trigger.table.enabled"}))),i=v?d.url?a.a.createElement("a",{href:d.url,target:"_blank",rel:"noopener noreferrer"},d.name):d.name:a.a.createElement("i",null,a.a.createElement(s.FormattedMessage,{id:"designer.node.trigger.title.placeholder",values:{index:this.props.index+1}}));var T=a.a.createElement("small",null,d.sourceId);(null===(e=d.sourceId)||void 0===e?void 0:e.startsWith("http"))&&(T=a.a.createElement("a",{href:d.sourceId,target:"_blank",rel:"noopener noreferrer"},a.a.createElement("small",null,d.sourceId)));var _=d.details?a.a.createElement(Ga.b,{service:l,details:d.details.toJS()}):null,w=null;if(p){var R=a.a.createElement(s.FormattedMessage,{id:"trigger.table.".concat(S?"disabled":"enabled")});w=a.a.createElement("div",{className:"awsui-util-f-r"},R)}else w=a.a.createElement("span",{className:"awsui-util-f-r"},r,n);return a.a.createElement("div",{className:x()("triggers-row",{"trigger-disabled":S||!O})},a.a.createElement("div",{className:"triggers-row-info"},a.a.createElement("h3",null,i),T,t,_),a.a.createElement("div",{style:{minWidth:240},className:"trigger-row-buttons"},w))}}])&&za(n.prototype,r),i&&za(n,i),t}(a.a.Component);Ya(Ja,"propTypes",{trigger:o.a.object.isRequired,readonly:o.a.bool,service:o.a.object.isRequired,index:o.a.number.isRequired,currentlySaved:H.a.map,toggleTrigger:o.a.func.isRequired,deleteTrigger:o.a.func.isRequired,changeStates:o.a.func.isRequired}),Ya(Ja,"contextTypes",{intl:s.intlShape.isRequired});var Qa=Object(u.connect)((function(e,t){return{currentlySaved:Object(p.h)(e,t.trigger.id)}}),(function(e){return{toggleTrigger:function(t,n){return e(Object(d.W)(t,n,"enabled"))},deleteTrigger:function(t){return e(Object(d.m)(t))},changeStates:function(t,n){return e(Object(d.X)(t,n))}}}))(Ja),Xa=n(39);function $a(e){return($a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ei(e,t){return!t||"object"!==$a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ti(e){return(ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ni(e,t){return(ni=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ai=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=(n=ei(this,ti(t).call(this,e))).findLastUnconfiguredTrigger(e.nodes);return n.state={configureTriggerId:r},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ni(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.findLastUnconfiguredTrigger(e.nodes);this.openConfigureTrigger(t)}},{key:"openConfigureTrigger",value:function(e){this.setState({configureTriggerId:e})}},{key:"findLastUnconfiguredTrigger",value:function(e){var t=e.findLast((function(e){return e.get("states").filter((function(e){return e.get("type")===Fa.a.NOT_CONFIGURED})).size>0}));return t?t.get("id"):null}},{key:"render",value:function(){var e=this.props,t=e.nodes,n=e.triggersConfig,r=t.get(0).getIn(["data","id"]),i=n[r],o={icon:i.icon,toggle:i.toggle,config:i};o.name=t.get(0).get("name");var s=[],u=t.filterNot((function(e){return e.get("states").find((function(e){return e.get("type")===Fa.a.NOT_CONFIGURED}))}));u.forEach((function(e){var t=e.get("data"),n={};["enabled","name","sourceId","url","exception","details","state"].forEach((function(e){n[e]=t.get(e)})),["states","id"].forEach((function(t){n[t]=e.get(t)})),s.push(n)}));var l=this.state.configureTriggerId?a.a.createElement(Va,{triggerId:this.state.configureTriggerId,integration:i}):null,d=this.props,p=d.refreshDisabled,f=d.refreshLoading,m=d.refreshTriggers,b=null;["dynamodb","kinesis","sqs"].includes(r)&&(b=a.a.createElement(c.Button,{icon:"refresh",disabled:p,loading:f,onClick:m}));var g=a.a.createElement(ot.a,{header:o.name},b),y=u.size>0?a.a.createElement(c.FormSection,{header:g},a.a.createElement(c.ColumnLayout,{borders:"horizontal"},a.a.createElement("div",{id:"triggers-section","data-awsui-column-layout-root":"true"},s.map((function(e,t){return a.a.createElement(Qa,{key:t,index:t,service:o,trigger:e})}))))):null;return a.a.createElement("div",{id:"triggerNode"},l,y)}}])&&Za(n.prototype,r),i&&Za(n,i),t}(a.a.Component);ri(ai,"propTypes",{nodes:H.a.listOf(J.e).isRequired,refreshDisabled:o.a.bool.isRequired,refreshLoading:o.a.bool.isRequired,triggersConfig:o.a.object.isRequired,refreshTriggers:o.a.func.isRequired}),ri(ai,"contextTypes",{intl:s.intlShape.isRequired});var ii=Object(u.connect)((function(e){return{refreshDisabled:!Object(p.Y)(e).isEmpty()||Object(p.I)(e)||Object(p.A)(e)||Object(p.B)(e),refreshLoading:!Object(p.c)(e),triggersConfig:Xa.c.getNodes(e)}}),(function(e){return{refreshTriggers:function(){return e(Object(d.v)(["vertexSource","relationParser"]))}}}))(ai);function oi(e){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function si(e,t){return!t||"object"!==oi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function li(e,t){return(li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mi(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var bi=[{id:"mergeOrder",header:function(){return a.a.createElement(s.FormattedMessage,{id:"layers.mergeOrder"})},cell:function(e){return e.mergeOrder}},{id:"layerName",header:function(){return a.a.createElement(s.FormattedMessage,{id:"layers.name"})},cell:function(e){return e.layerName}},{id:"layerVersionNumber",header:function(){return a.a.createElement(s.FormattedMessage,{id:"layers.version"})},cell:function(e){return e.layerVersionNumber}},{id:"layerVersionArn",header:function(){return a.a.createElement(s.FormattedMessage,{id:"layers.versionArn"})},cell:function(e){return e.layerVersionArn}}],gi=function(e,t,n){var r=mi(e);return r[t]=e[n],r[n]=e[t],r},yi=function(e){return e.map((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pi(n,!0).forEach((function(t){fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pi(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{mergeOrder:t+1})}))},vi=function(e){return e.toJS().map((function(e){var t=di(e.split(":").slice(-2),2);return{layerName:t[0],layerVersionNumber:t[1],layerVersionArn:e}}))},hi=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=si(this,ui(t).call(this,e,n))).state={selectedItem:null,items:vi(r.props.layers)},r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&li(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(!this.props.layers.equals(e.layers)){var t=vi(e.layers);this.setState((function(e){var n=e.selectedItem;return{items:t,selectedItem:n}}))}}},{key:"onSelectionChange",value:function(e){var t=e.detail.selectedItems;t.length&&this.setState({selectedItem:t[0].layerVersionArn})}},{key:"onDisconnectClick",value:function(){this.setState((function(e){var t=e.selectedItem;return{items:e.items.filter((function(e){return e.layerVersionArn!==t})),selectedItem:null}})),this.props.updateReferenceStatus(this.state.items)}},{key:"onUpClick",value:function(){var e=this.indexOfSelectedItem();this.setState((function(t){return{items:gi(t.items,e,e-1)}})),this.props.updateReferenceStatus(this.state.items)}},{key:"onDownClick",value:function(){var e=this.indexOfSelectedItem();this.setState((function(t){return{items:gi(t.items,e,e+1)}})),this.props.updateReferenceStatus(this.state.items)}},{key:"getHeader",value:function(){return a.a.createElement(ot.a,{header:a.a.createElement(s.FormattedMessage,{id:"layers.header.title"}),info:a.a.createElement(s.FormattedHTMLMessage,{tagName:"p",id:"layers.description"})},!this.props.readonly&&a.a.createElement(a.a.Fragment,null,a.a.createElement(c.Button,{id:"layers-on-designer-add-button",text:a.a.createElement(s.FormattedMessage,{id:"layers.buttons.add"}),href:"#/add/layer?function=".concat(this.props.functionName)}),a.a.createElement(c.Button,{id:"layers-on-designer-up-button",disabled:this.isDisableUpButton(),text:a.a.createElement(s.FormattedMessage,{id:"layers.buttons.up"}),icon:"caret-up-filled",onClick:this.onUpClick.bind(this)}),a.a.createElement(c.Button,{id:"layers-on-designer-down-button",disabled:this.isDisableDownButton(),text:a.a.createElement(s.FormattedMessage,{id:"layers.buttons.down"}),icon:"caret-down-filled",onClick:this.onDownClick.bind(this)}),a.a.createElement(c.Button,{id:"layers-on-designer-disconnect-button",disabled:!this.state.selectedItem,text:a.a.createElement(s.FormattedMessage,{id:"layers.buttons.remove"}),onClick:this.onDisconnectClick.bind(this)})))}},{key:"indexOfSelectedItem",value:function(){var e=this;return this.state.items.findIndex((function(t){return t.layerVersionArn===e.state.selectedItem}))}},{key:"isDisableUpButton",value:function(){return!this.state.selectedItem||0===this.indexOfSelectedItem()}},{key:"isDisableDownButton",value:function(){return!this.state.selectedItem||this.indexOfSelectedItem()===this.state.items.length-1}},{key:"render",value:function(){return a.a.createElement(c.Table,{columnDefinitions:bi,items:yi(this.state.items),header:this.getHeader(),empty:a.a.createElement(s.FormattedMessage,{id:"functions.grid.noData"}),features:["selection"]},a.a.createElement(c.TableSelection,{selectionType:"single",trackBy:"layerVersionArn",onSelectionChange:this.onSelectionChange.bind(this)}))}}])&&ci(n.prototype,r),i&&ci(n,i),t}(a.a.Component);fi(hi,"propTypes",{nodeId:o.a.string.isRequired,readonly:o.a.bool,layers:H.a.list.isRequired,functionName:o.a.string.isRequired,updateReferenceStatus:o.a.func.isRequired});var Ei=Object(u.connect)((function(e,t){return{layers:Object(zt.b)(Object(p.M)(e,t.nodeId),"layers"),functionName:Object(rt.b)(e).params.functionName}}),(function(e,t){return{updateReferenceStatus:function(n){return e(Object(d.W)(Object(b.List)(n.map((function(e){return e.layerVersionArn}))),t.nodeId,"layers"))}}}))(hi);function Oi(e){var t=e.nodes,n=new g.e(t.getIn([0,"data","arn"])).qualifier,r=Object(w.q)(n);return a.a.createElement(Ei,{nodeId:t.getIn([0,"id"]),readonly:r})}Oi.propTypes={nodes:H.a.listOf(J.e).isRequired};var Si=n(251),ji={destination:Bt,function:La,resource:vt,trigger:ii,permissions:Ct};Be.f.includes("layette")&&(ji.layer=Oi);function Ti(e){var t,n,r,i=e.graph,o=e.loading,u=e.functionArn,l=e.selectedNodes,d=e.selectedToolbarItem,p=e.rootFunctionNodeList,f=e.destinationsLoading,m=e.resourcesLoading,b=e.triggersLoading,g=e.appDesignerExpand,y=e.stackName,v=e.clickNodes,h=e.clickToolbarItem,E=e.removeNode,O=e.updateNodesState,S=e.setUserPreference,j=e.s3RecursionRule,T=a.a.createElement("div",null);y&&(r=a.a.createElement("a",{href:"#/applications/".concat(y),className:"back-to-app",onClick:function(){return Object(ke.logEvent)(ke.EVENT_NAMES.GO_TO_APP_FROM_FUNCTION)}},a.a.createElement(s.FormattedMessage,{id:"designer.banner.backToApp",values:{appName:y}})));var _,R=i.get("nodes");if(!o&&(null==R?void 0:R.size)){var A=l.map((function(e){return e.get("id")}));T=a.a.createElement(Pt.a,{nodes:R,edges:i.get("edges"),selectedNodes:A,selectedToolbarItem:d,focus:u,leftNodes:{type:"trigger",loading:b},rightNodes:Be.f.includes("starfish")?{type:"destination",loading:f}:{type:"resource",loading:m},topMessage:r,onClickNodes:v,onClickToolbarItem:h,onDeleteNode:E,onUpdateNodeState:O,setUserPreference:S,appDesignerExpand:g,readonly:Object(w.r)(u)});var I=l.equals(p);if(n=a.a.createElement("div",{className:x()("awsui-util-mt-l","function-node","needs-old-form-field-override",{"awsui-util-d-n":!I})},a.a.createElement(La,{nodes:p})),(!l.isEmpty()||d)&&!I){var N=d||l.getIn([0,"type"]),C=ji[N];t=a.a.createElement("div",{className:"awsui-util-mt-l ".concat(N,"-node needs-old-form-field-override")},a.a.createElement(C,{nodes:"layer"===N?p:l}))}}return j&&(Object(ke.logEvent)(ke.EVENT_NAMES.S3_RECURSION_ALERT_APPEAR),_=a.a.createElement("div",{className:"awsui-util-mv-s"},a.a.createElement(c.Alert,{dismissible:!0,onDismiss:function(){return Object(ke.logEvent)(ke.EVENT_NAMES.S3_RECURSION_ALERT_DISMISS)}},a.a.createElement(s.FormattedMessage,{id:"recEngine.s3Recursion.title",tagName:"b"}),a.a.createElement(s.FormattedHTMLMessage,{id:"recEngine.s3Recursion.description",tagName:"p"})))),a.a.createElement(St.b,{cond:o},_,T,t,n)}Ti.propTypes={loading:o.a.bool.isRequired,graph:H.a.map,functionArn:o.a.string,selectedNodes:H.a.list.isRequired,selectedToolbarItem:o.a.string,rootFunctionNodeList:H.a.list.isRequired,appDesignerExpand:o.a.bool,destinationsLoading:o.a.bool,resourcesLoading:o.a.bool,triggersLoading:o.a.bool,stackName:o.a.string,s3RecursionRule:o.a.object,clickNodes:o.a.func.isRequired,clickToolbarItem:o.a.func.isRequired,removeNode:o.a.func.isRequired,updateNodesState:o.a.func.isRequired,setUserPreference:o.a.func.isRequired};var xi=Object(u.connect)((function(e){return{loading:!Object(p.jb)(e),graph:Object(p.z)(e),functionArn:Object(p.q)(e),selectedNodes:Object(p.bb)(e),selectedToolbarItem:Object(p.cb)(e),rootFunctionNodeList:Object(p.X)(e),destinationsLoading:!Object(p.b)(e,"destination"),resourcesLoading:!Object(p.b)(e,"resource"),triggersLoading:!Object(p.b)(e,"trigger"),appDesignerExpand:Object(bn.b)(e),stackName:Object(p.db)(e),s3RecursionRule:Object(p.o)(e,Si.a)}}),(function(e){return{clickNodes:function(t){return e(Object(d.C)(t))},clickToolbarItem:function(t){return e(Object(d.D)(t))},removeNode:function(t){return e(Object(d.m)(t))},updateNodesState:function(t,n){return e(Object(d.X)(t,n))},setUserPreference:function(t){return e(Object(kt.d)(t))}}}))(Ti),_i=n(209),wi=n(309);function Ri(e){return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ii(e,t){return!t||"object"!==Ri(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ni(e){return(Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ci(e,t){return(Ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ki=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ii(this,Ni(t).call(this,e))).state={insightsToggleInitially:e.displayInsights||!0},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ci(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.props.showHelp()}},{key:"onToggleInsightsWindow",value:function(e){Object(ke.logEvent)("insights_".concat(e.detail.checked?"show":"hide")),this.setState({insightsToggleInitially:e.detail.checked}),this.props.setUserPreference({displayInsights:this.state.insightsToggleInitially})}},{key:"renderInsightsToggle",value:function(e){return Be.f.includes("sarmentose2")?a.a.createElement(c.Toggle,{checked:e,onChange:this.onToggleInsightsWindow.bind(this),label:a.a.createElement(s.FormattedMessage,{id:"functionDetail.monitoring.cloudWatch.insights.toggle"})}):null}},{key:"render",value:function(){var e=new g.e(this.props.functionArn).functionName,t=this.props,n=t.cloudfrontNode,r=t.hasCloudfrontTrigger,i=null;if(n&&r){var o=n["x-edge-monitoring-link"].format(this.props.functionArn);i=a.a.createElement("div",{className:"awsui-util-mb-s"},a.a.createElement(c.Alert,null,a.a.createElement(s.FormattedHTMLMessage,{id:"functionDetail.monitoring.lambdaAtEdge.blurb",values:{link:o}})))}var u=this.state.insightsToggleInitially,l=null,d=u?a.a.createElement(wi.a,{method:"getInsightsQueries",functionName:e,widgetsPerRow:1}):null;Be.f.includes("sarmentose")&&(l=a.a.createElement("div",{className:"awsui-util-mt-l"},a.a.createElement("div",{className:"embedded-dashboard-header"},a.a.createElement("h2",null,a.a.createElement(s.FormattedMessage,{id:"functionDetail.monitoring.cloudWatch.insights.title"}),a.a.createElement(Ot.a,{message:a.a.createElement(s.FormattedHTMLMessage,{tagName:"p",id:"functionDetail.monitoring.cloudWatch.insights.helpContent"})})),a.a.createElement(s.FormattedMessage,{tagName:"p",id:"functionDetail.monitoring.cloudWatch.insights.description"})),this.renderInsightsToggle(u),d));var p,f=this.props,m=f.missingCloudWatchLogsRule,b=f.missingCloudWatchLogsRuleResult;return m&&(Object(ke.logEvent)(ke.EVENT_NAMES.LOG_PERMISSIONS_ALERT_APPEAR),p=a.a.createElement("div",{className:"awsui-util-mv-s"},a.a.createElement(c.Alert,{dismissible:!0,onDismiss:function(){return Object(ke.logEvent)(ke.EVENT_NAMES.LOG_PERMISSIONS_ALERT_DISMISS)}},a.a.createElement(s.FormattedMessage,{id:"recEngine.logPermissions.title",tagName:"b"}),a.a.createElement(s.FormattedHTMLMessage,{id:"recEngine.logPermissions.description",values:{result:b},tagName:"p"})))),a.a.createElement("div",null,p,a.a.createElement("div",{className:"embedded-dashboard-header"},a.a.createElement("div",null,a.a.createElement(s.FormattedMessage,{tagName:"h2",id:"functionDetail.monitoring.cloudWatch.title"})),a.a.createElement("div",{className:"awsui-util-f-r"},a.a.createElement(c.Button,{href:"/cloudwatch/home?region=".concat(Object(g.H)(),"#logStream:group=%252Faws%252Flambda%252F").concat(encodeURIComponent(e)),target:"_blank"},a.a.createElement(s.FormattedMessage,{id:"functionDetail.monitoring.cloudWatch.logsLink"})))),i,a.a.createElement(wi.a,{method:"getFunctionCharts",functionArn:this.props.functionArn,concurrencyReservationValue:this.props.concurrencyReservationValue}),l)}}])&&Ai(n.prototype,r),i&&Ai(n,i),t}(a.a.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ki,"propTypes",{cloudfrontNode:o.a.object,concurrencyReservationValue:o.a.string,displayInsights:o.a.bool,functionArn:o.a.string.isRequired,hasCloudfrontTrigger:o.a.bool.isRequired,missingCloudWatchLogsRule:o.a.object,missingCloudWatchLogsRuleResult:o.a.string,showHelp:o.a.func.isRequired,setUserPreference:o.a.func.isRequired});var Pi=Object(u.connect)((function(e){var t,n=!1,r=Object(p.eb)(e,"relationParser");return r&&(n=r.get("nodes").some((function(e){return"trigger"===e.get("type")&&"cloudfront"===e.getIn(["data","id"])}))),{cloudfrontNode:Xa.c.getNodes(e).cloudfront,concurrencyReservationValue:Object(zt.b)(Object(p.W)(e),"concurrencyPoolType"),displayInsights:Object(bn.d)(e),functionArn:Object(p.r)(e),hasCloudfrontTrigger:n,missingCloudWatchLogsRule:Object(p.o)(e,_i.a),missingCloudWatchLogsRuleResult:null===(t=Object(p.o)(e,_i.a))||void 0===t?void 0:t.get("result")}}),(function(e){return{showHelp:function(){return e(Object(ht.e)(a.a.createElement(s.FormattedHTMLMessage,{id:"functionDetail.tab.monitoring.helpContent"})))},setUserPreference:function(t){return e(Object(kt.d)(t))}}}))(ki),Di=n(207);function Mi(e){return(Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Li(n,!0).forEach((function(t){Bi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Li(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vi(e,t){return!t||"object"!==Mi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ui(e){return(Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gi(e,t){return(Gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zi=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Vi(this,Ui(t).call(this,e,n))).state={eventName:null,eventNameErrorMessage:null},r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gi(e,t)}(t,e),n=t,(r=[{key:"resetEventState",value:function(){this.setState({eventName:null,eventNameErrorMessage:null})}},{key:"saveSampleEvent",value:function(){if(this.props.modalCreate){if(this.state.eventNameErrorMessage)return;if(null===this.state.eventName)return void this.eventNameChanged({detail:{value:""}})}Object(ke.logEvent)(ke.EVENT_NAMES.TESTEVENT_FD("save"));var e=this.props,t=e.functionName,n=e.qualifier;this.props.modalCreate?this.props.dispatch(Ce.c.saveTestEvent(t,n,this.state.eventName,this.props.dirtyEventCode||this.props.codeForEventInDropdown)):this.props.dispatch(Ce.c.saveTestEvent(t,n,this.props.savedEventId,this.props.dirtyEventCode)),this.resetEventState()}},{key:"savedEventChanged",value:function(e){this.props.dispatch(Ce.c.loadTestEvent(this.props.functionName,e,!1))}},{key:"templateChanged",value:function(e){this.props.dispatch(Ce.c.loadTestEvent(this.props.functionName,e,!0))}},{key:"codeChanged",value:function(e){var t=!1;try{JSON.parse(e)}catch(e){t=!0}this.props.dispatch(Ce.c.updateEventModal({dirtyEventCode:e,hasParseError:t}))}},{key:"eventNameChanged",value:function(e){var t=Object(Y.g)("eventName").deeplyValidate(e.detail.value);this.setState({eventNameErrorMessage:t?t.flatten().get("message"):null,eventName:e.detail.value})}},{key:"close",value:function(){Object(ke.logEvent)(ke.EVENT_NAMES.TESTEVENT_FD("close")),this.resetEventState(),this.props.hasSavedEvents&&this.props.dispatch(Ce.c.loadTestEvent(this.props.functionName,this.props.eventIdToInvoke)),this.props.dispatch(Ce.c.toggleEventModal())}},{key:"delete",value:function(){this.props.dispatch(Ce.c.deleteTestEvent(this.props.functionName,this.props.savedEventId)),this.resetEventState()}},{key:"render",value:function(){var e=this,t=function(t){return e.context.intl.formatMessage({id:t})},n=this.props,r=n.groupedSampleEvents,i=n.loading,o=n.isEventLoading,u=n.hasParseError,l=this.close.bind(this),d=this.delete.bind(this),p=i||o||u,f=p||!this.props.dirtyEventCode||this.props.dirtyEventCode===this.props.codeForEventInDropdown,m=a.a.createElement("span",null,a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(c.Button,{variant:"link",text:t("cancel"),onClick:l}),a.a.createElement(c.Button,{variant:"primary",text:this.props.modalCreate?t("functionDetail.testEvents.modal.create"):t("functionDetail.button.save"),disabled:this.props.modalCreate?p:f,onClick:function(){return e.saveSampleEvent()}})),this.props.modalCreate?null:a.a.createElement(c.Button,{className:"awsui-util-f-l",variant:"primary",disabled:i,text:t("modal.delete.button.submit"),onClick:d})),b=r.filter((function(e){return e.text===Be.q})).map((function(e){return Fi({},e,{text:t(e.value)})})),v=r.map((function(e){return Fi({},e,{text:t(e.value)})})),h=a.a.createElement(c.Button,{className:"awsui-util-ml-s",variant:"icon",icon:"refresh",loading:i||o,onClick:function(){return e.props.dispatch(Ce.c.refreshTestEvents(e.props.functionName))}}),E=a.a.createElement(c.FormField,{label:t("functionDetail.testEvents.modal.saved"),secondaryControl:h},a.a.createElement(Di.a,{searchable:b.length>1,items:b,onChange:this.savedEventChanged.bind(this),selectedId:this.props.savedEventId})),O=a.a.createElement("div",null,a.a.createElement(c.FormField,{stretch:!0,label:t("functionDetail.testEvents.modal.eventTemplate")},a.a.createElement(Di.a,{searchable:!0,items:v,onChange:this.templateChanged.bind(this),selectedId:this.props.templateEventId})),a.a.createElement(c.FormField,{stretch:!0,label:t("functionDetail.testEvents.modal.eventName"),errorText:this.state.eventNameErrorMessage},a.a.createElement(c.Input,{placeholder:"MyEventName",onInput:this.eventNameChanged.bind(this),value:this.state.eventName}))),S=Object(g.E)(this.context.intl,{id:"functionDetail.testEvents.modal.radio.".concat(Ce.a)}),j=Object(g.E)(this.context.intl,{id:"functionDetail.testEvents.modal.radio.".concat(Ce.b)}),T=null===this.props.dirtyEventCode?this.props.codeForEventInDropdown:this.props.dirtyEventCode;return a.a.createElement(c.Modal,{className:"eventModal needs-old-form-field-override",expandToFit:!0,header:t("functionDetail.button.configureTestEvent"),size:"large",visible:this.props.eventModalOpen,onDismiss:l,footer:m},a.a.createElement(St.b,{cond:i||o,overlay:!0},this.props.hasParseError?a.a.createElement("div",{className:"awsui-util-mb-s"},a.a.createElement(c.Alert,{type:"error"},Object(g.E)(this.context.intl,{id:"functionDetail.testEvents.modal.jsonParseError"}))):null,a.a.createElement(y.a,{scope:"event-modal"}),a.a.createElement(s.FormattedHTMLMessage,{id:"functionDetail.testEvents.modal.text"}),a.a.createElement(c.FormField,{stretch:!0},a.a.createElement(c.RadioGroup,{onChange:function(t){return e.props.dispatch(Ce.c.changeConfigurationOption(t.detail.value))},value:this.props.configurationOption,items:[{value:Ce.a,label:S},{value:Ce.b,label:j,disabled:!this.props.hasSavedEvents}]})),this.props.modalCreate?O:E,a.a.createElement(Et.a,{id:"eventCode",mode:"json",value:T,onChange:this.codeChanged.bind(this)})))}}])&&qi(n.prototype,r),i&&qi(n,i),t}(a.a.Component);Bi(zi,"contextTypes",{intl:s.intlShape.isRequired}),Bi(zi,"propTypes",{savedEventId:o.a.string,codeForEventInDropdown:o.a.string,dirtyEventCode:o.a.string,hasParseError:o.a.bool,loading:o.a.bool.isRequired,isEventLoading:o.a.bool.isRequired,groupedSampleEvents:o.a.arrayOf(W.c),eventsById:o.a.object,modalCreate:o.a.bool,hasSavedEvents:o.a.bool,configurationOption:o.a.string,templateEventId:o.a.string,eventIdToInvoke:o.a.string,functionName:o.a.string,qualifier:o.a.string,eventModalOpen:o.a.bool,dispatch:o.a.func.isRequired});var Hi=Object(u.connect)((function(e){var t=new g.e(Object(p.q)(e)||""),n=t.functionName,r=t.qualifier;return{savedEventId:Ce.e.getEventModalState(e,"savedEventId"),codeForEventInDropdown:Ce.e.getCodeToShow(e),dirtyEventCode:Ce.e.getDirtyEventCode(e),hasParseError:Ce.e.getEventModalState(e,"hasParseError"),groupedSampleEvents:Ce.e.getGroupedSampleEvents(e),loading:Ce.e.getEventModalState(e,"loading"),isEventLoading:Ce.e.getIsEventLoading(e),eventsById:Ce.e.getEventsById(e),modalCreate:Ce.e.getEventModalState(e,"configurationOption")===Ce.a,configurationOption:Ce.e.getEventModalState(e,"configurationOption"),templateEventId:Ce.e.getEventModalState(e,"templateEventId"),hasSavedEvents:Ce.e.getHasSavedEvents(e),eventIdToInvoke:Ce.e.getEventIdToInvoke(e),functionName:n,qualifier:r,eventModalOpen:Ce.e.getEventModalOpen(e)}}),(function(e){return{dispatch:e}}))(zi),Wi=n(470),Ki=n(246);function Yi(e){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qi(e,t){return!t||"object"!==Yi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xi(e){return(Xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $i(e,t){return($i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function to(){var e=[{id:E.q.CONFIGURATION,content:a.a.createElement(xi,null)},{id:E.q.MONITORING,content:a.a.createElement(Pi,null)}];return Object(g.P)("parmigiana")&&e.splice(1,0,{id:E.q.PERMISSIONS,content:a.a.createElement(Ct,null)}),e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zi(n,!0).forEach((function(t){eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zi(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{label:a.a.createElement(s.FormattedMessage,{id:"functionDesigner.tab.".concat(e.id,".title")})})}))}var no=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qi(this,Xi(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$i(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){this.props.cancelPolling()}},{key:"render",value:function(){var e=this,t=this.props.routeParams,n=t.functionName,r=t.alias,i=t.version,o=t.editPage,u=t.query,l=i||r;if(!o){var d=Object(_.c)(n,l,o,u);Object(w.u)(n,d)}var p=l?"".concat(n,":").concat(l):n,f=Object(w.r)(n);if(o)return a.a.createElement(it,{functionName:n,qualifier:l,editPage:o});var m,b,g=a.a.createElement("div",{className:"awsui-util-f-r awsui-util-mt-s"},a.a.createElement(Ye,{routeParams:this.props.routeParams,qualifiers:this.props.qualifiers,isQualifiersDataLoaded:this.props.isQualifiersDataLoaded,currentQualifier:l,isReplica:f,isSaveButtonDisabled:this.props.isSaveButtonDisabled,onActionsItemClick:function(t){switch(t.detail.id){case"publishVersion":e.props.setModal("version",!0);break;case"createAlias":e.props.setModal("alias",!0);break;case"delete":e.props.setModal("delete",!0);break;case"exportToFlourish":e.props.setModal("export",!0);break;case"deployToLambdaAtEdge":Object(ke.logEvent)(ke.EVENT_NAMES.EDGE_MODAL_OPEN),e.props.setModal("lambdaAtEdge",!0);break;case"editGroup":Be.f.includes("frost")&&e.props.setModal("group",!0)}},integrations:this.props.integrations,functionCombinedStateSet:this.props.functionCombinedStateSet})),v=to();if(m=1===v.length?v[0].content:a.a.createElement(c.Tabs,{className:this.props.tab,tabs:v,activeTabId:this.props.tab,onChange:function(t){return e.props.changeTab(t.detail.activeTabId)}}),f&&this.props.masterArn){var h=Object(w.l)(this.props.masterArn);b=a.a.createElement("div",{className:"awsui-util-mb-s"},a.a.createElement(c.Alert,{dismissible:!0},a.a.createElement(s.FormattedHTMLMessage,{id:"designer.banner.replicaPage",values:{functionLink:h}})))}var E=a.a.createElement($e,{functionName:n,qualifier:l,masterArn:this.props.masterArn});return a.a.createElement(nt.a,{id:"functionDesigner",breadcrumbs:E},a.a.createElement("div",{className:"sticky-header"},g,a.a.createElement("h1",null,p)),b,a.a.createElement(et,null),a.a.createElement(y.a,null),a.a.createElement(Wi.a,null),m,a.a.createElement(Hi,null),a.a.createElement(Ki.a,null))}}])&&Ji(n.prototype,r),i&&Ji(n,i),t}(a.a.Component);eo(no,"propTypes",{routeParams:o.a.object.isRequired,tab:o.a.string.isRequired,masterArn:o.a.string,qualifiers:o.a.object,isQualifiersDataLoaded:o.a.bool,isSaveButtonDisabled:o.a.bool,integrations:o.a.objectOf(J.c),functionCombinedStateSet:o.a.object,changeTab:o.a.func.isRequired,setModal:o.a.func.isRequired,cancelPolling:o.a.func.isRequired});t.a=Object(u.connect)((function(e){return{routeParams:Object(rt.b)(e).params,tab:Object(p.g)(e),masterArn:Object(p.a)(e),qualifiers:Object(p.U)(e,"functionQualifiersSource"),isQualifiersDataLoaded:Object(p.G)(e),isSaveButtonDisabled:Object(p.H)(e),integrations:Xa.c.getNodes(e),functionCombinedStateSet:Object(p.t)(e)}}),(function(e){return{changeTab:function(t){e(Object(d.d)(t)),e(Object(l.i)({query:{tab:t}},{persistQuery:!0})),Object(ke.logTab)("function-designer",t)},setModal:function(t,n){return e(Object(d.J)(t,n))},cancelPolling:function(){return e(Object(d.c)())}}}))(no)},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"add",(function(){return _.a})),n.d(r,"alerts",(function(){return I})),n.d(r,"flashBar",(function(){return C})),n.d(r,"formFields",(function(){return k.a})),n.d(r,"forms",(function(){return p.f})),n.d(r,"componentData",(function(){return P.a})),n.d(r,"pages",(function(){return b.d})),n.d(r,"app",(function(){return D.b})),n.d(r,"user",(function(){return M.a}));var a=n(139),i=n(32),o=n(472),c=n.n(o),s=n(38),u=n(2),l=n(15),d=n(256),p=n(23),f=n(160),m=n(252),b=n(157),g=n(191),y=n(63),v=n(91),h=n(130),E=n(210),O=n(254),S=n(138),j=n(85);function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var x=[{matcher:s.f,task:O.b,latest:!0}].concat(T(b.c.reduce((function(e,t){return[].concat(T(e),T(t.watchers))}),[])),[{matcher:l.c.INIT_NODES,task:f.b},{matcher:l.c.DOWNLOAD_FROM_URL,task:f.a},{matcher:l.a.LOAD_FUNCTIONS,task:m.b,latest:!0},{matcher:l.e.DOWNLOAD_CODE,task:d.a,latest:!0},{matcher:l.e.EXPORT_TO_FLOURISH,task:d.b},{matcher:l.e.SAVE_SAM_FILE,task:d.c},{matcher:l.g.DELETE_LAYER_VERSION,task:j.a},{matcher:l.g.LAYERS_FETCH_ALL_LAYERS,task:j.b,latest:!0},{matcher:l.g.LAYERS_FETCH_LAYER_VERSIONS,task:j.e,latest:!0},{matcher:l.h.functionDesigner.CHANGE_TAB,task:y.j},{matcher:l.h.functionDesigner.INVALIDATE_TASKS,task:y.j},{matcher:l.h.functionDesigner.SAVE_COMPLETE,task:y.j},{matcher:l.h.functionDesigner.INIT,task:y.l},{matcher:l.h.functionDesigner.SAVE,task:y.s},{matcher:l.h.functionDesigner.SAVE_CODE,task:y.q,latest:!0},{matcher:l.h.functionDesigner.DELETE_DESTINATION,task:y.d,latest:!0},{matcher:l.h.functionDesigner.SIMULATE_TRACER_ROLE_POLICY,task:y.t},{matcher:l.h.functionDesigner.DLQ_CHECK_ROLE_PERMISSION,task:y.b},{matcher:l.h.functionDesigner.DLQ_GET_RESOURCES,task:y.n},{matcher:l.h.functionDesigner.CHANGE_VPC_ID,task:y.a},{matcher:l.h.functionDesigner.INIT_VPC,task:y.m},{matcher:l.h.functionDesigner.CREATE_ALIAS,task:y.c},{matcher:l.h.functionDesigner.CREATE_VERSION,task:y.o},{matcher:l.h.functionDesigner.STOP_FUNCTION,task:y.u},{matcher:l.h.functionDesigner.DELETE_TEST_EVENT,task:h.a},{matcher:l.h.functionDesigner.INIT_EVENT_MODAL,task:h.b},{matcher:l.h.functionDesigner.LOAD_TEST_EVENT,task:h.c,latest:!0},{matcher:l.h.functionDesigner.REFRESH_TEST_EVENTS,task:h.d,latest:!0},{matcher:l.h.functionDesigner.SAVE_TEST_EVENT,task:h.e},{matcher:l.h.functionDesigner.TEST,task:h.f,latest:!0},{matcher:l.h.functionDesigner.DEPLOY_TO_LAMBDA_AT_EDGE,task:y.g},{matcher:l.h.functionDesigner.CANCEL_POLLING,task:v.a,latest:!0},{matcher:l.h.functionDesigner.RESTORE_FUNCTION,task:y.p,latest:!0},{matcher:l.h.functionDesigner.SAVE_EDIT_PAGE,task:y.r,latest:!0},{matcher:l.h.functionDesigner.ENCRYPT_IN_TRANSIT,task:y.i,latest:!0},{matcher:l.h.functionDesigner.DELETE_PROVISIONED_CONCURRENCY,task:y.f,latest:!0},{matcher:l.h.functionDesigner.EDIT_FUNCTION_GROUP,task:y.h},{matcher:l.h.functionDesigner.DELETE_ELASTIC_FILE_SYSTEM,task:y.e,latest:!0},{matcher:l.h.configureApplication.INIT,task:g.a,latest:!0},{matcher:l.h.configureApplication.DEPLOY_APPLICATION,task:g.c,latest:!0},{matcher:l.h.configureApplication.REPORT_APPLICATION,task:g.d,latest:!0},{matcher:l.h.status.INIT,task:E.b,latest:!0},{matcher:l.h.status.STACK_RESOURCES_POLL_INIT,task:E.a,latest:!0},{matcher:l.j.REFRESH_SETTINGS,task:S.b,latest:!0},{matcher:l.j.USER_PREF_SET_PREF,task:S.c,latest:!0},{matcher:"FORM_REFRESH_FIELD_ITEMS",task:p.h}]).map((function(e){var t=e.matcher,n=e.task,r=e.latest,a=void 0!==r&&r?u.takeLatest:u.takeEvery;return regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t,n);case 2:case"end":return e.stop()}}),e)}))})),_=n(326),w=n(4),R=Object(w.OrderedMap)({__scope:Object(w.Map)({messages:Object(w.OrderedMap)(),queue:Object(w.List)()})});function A(e){var t=e.get("queue")||Object(w.List)();return Object(w.Map)({messages:Object(w.OrderedMap)(t.map((function(e){return[e.key,{type:e.type,message:e.message}]}))),queue:Object(w.List)()})}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.b.CLOSE:return e.updateIn([t.scope,"messages"],(function(e){return null==e?void 0:e.filter((function(e){return e.type!==t.alertType}))}));case l.b.REFRESH:return t.scope?e.has(t.scope)?e.update(t.scope,A):e:e.map(A);case l.b.POST:return e.setIn([t.scope,"messages",t.key],{type:t.alertType,message:t.message});case l.b.DROP:return e.deleteIn([t.scope,"messages",t.key]);case l.b.ENQUEUE:return e.updateIn([t.scope,"queue"],(function(e){return(e||Object(w.List)()).push({key:t.key,type:t.alertType,message:t.message})}));default:return e}}var N=Object(w.Map)({items:Object(w.List)(),queue:Object(w.List)()});function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.d.REFRESH_FLASH_BAR:return function(e){return Object(w.Map)({items:e.get("queue"),queue:Object(w.List)()})}(e);case l.d.ENQUEUE_FLASH_BAR:return e.update("queue",(function(e){return e.push(Object(w.Map)({header:t.header,type:t.flashBarType,loading:t.loading,dismissible:t.dismissible,content:t.content,buttonText:t.buttonText,buttonClickActionType:t.buttonClickActionType}))}));case l.d.POST_FLASH_BAR:return e.set("items",Object(w.List)([Object(w.Map)({header:t.header,type:t.flashBarType,loading:t.loading,dismissible:t.dismissible,content:t.content,buttonText:t.buttonText,buttonClickActionType:t.buttonClickActionType})]));case l.d.CLEAN_FLASH_BAR:return e.set("items",Object(w.List)()).set("queue",Object(w.List)());default:return e}}var k=n(106),P=n(39),D=n(237),M=n(66),L=n(242),F=n.n(L),q=n(485),V=n.n(q),U=n(484),G=n.n(U),B=n(483),z=n.n(B),H=n(318),W=n.n(H),K=n(317),Y=n.n(K),J=n(482),Q=n.n(J),X=n(182),$=n.n(X);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(n,!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=/\w+\/$/,re=function(e){return function(t){for(var n=t.split("?")[0].replace(ne,(function(e){return e.slice(0,e.length-1)})),r=0;r<e.length;r++){var a=e[r],i=a.pattern.match(n);if(i)return{route:a.route,params:i,result:a.result}}return null}};function ae(e){var t=Object.keys(e).sort().reverse().map((function(t){return{route:t,pattern:new $.a(t,{segmentValueCharset:"a-zA-Z0-9-_~ %$.:"}),result:e[t]}}));return re(t)}var ie,oe=n(5);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defer,n=e.full;if(!ie){var o,s=function(e){var t=e.routes,n=F()(),r=Y()(n.location);Q()(t);var a=W()(t),i=ae(a);return{reducer:z()({routes:a,initialLocation:ee({},r,{},i(r.pathname))}),middleware:G()({history:n}),enhancer:V()({history:n,matchRoute:i,createMatcher:ae})}}({routes:O.a}),u=s.reducer,l=s.middleware,d=s.enhancer,p=[oe.lastActionsMiddleware,l];n&&(o=c()({logger:oe.reduxSagaLogger}),p.push(o));var f=a.compose;ie=Object(a.createStore)(Object(a.combineReducers)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(n,!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{router:u})),f(d,a.applyMiddleware.apply(void 0,p))),n&&x.forEach(o.run),t||ie.dispatch(Object(i.f)(ie.getState().router))}return ie}n.d(t,"a",(function(){return ue}))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(4),s=n(18),u=n.n(s),l=n(3),d=n(13),p=n(6),f=n(32),m=n(90),b=n(29);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=e.functionName,n=e.loading,r=e.visible,i=e.onClose,o=e.onDelete,c=a.a.createElement("span",{className:"awsui-util-f-r"},a.a.createElement(p.Button,{variant:"link",onClick:i},a.a.createElement(l.FormattedMessage,{id:"cancel"})),a.a.createElement(p.Button,{variant:"primary",loading:n,onClick:o},a.a.createElement(l.FormattedMessage,{id:"modal.delete.button.submit"})));return a.a.createElement(p.Modal,{expandToFit:!0,size:"medium",header:a.a.createElement(l.FormattedMessage,{id:"modal.delete.title.func",values:{functionName:t}}),content:a.a.createElement(l.FormattedHTMLMessage,{tagName:"p",id:"modal.delete.text.func"}),footer:c,visible:r,onDismiss:i})}v.propTypes={functionName:o.a.string.isRequired,loading:o.a.bool.isRequired,visible:o.a.bool.isRequired,onClose:o.a.func.isRequired,onDelete:o.a.func.isRequired};var h=Object(d.connect)((function(e){return{functionName:Object(m.g)(e),loading:Object(m.f)(e),visible:!!Object(b.b)(e).query.deleteModal}}),(function(e){return{onClose:function(){return e(Object(f.h)({query:{deleteModal:void 0}},{persistQuery:!0}))},onDelete:function(t){return e(Object(m.c)(t))}}}),(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{},e,{},t,{onDelete:function(){return t.onDelete(e.functionName)}})}))(v),E=n(25),O=n(7),S=n(9);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),x(this,_(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(r=[{key:"onClickAction",value:function(e){var t=Object(O.X)(this.props.selectedFunction.get("arn"));switch(e.detail.id){case"view":this.props.visit("/functions/".concat(t));break;case"test":this.props.visit("/functions/".concat(t,"?eventModal=open"));break;case"editGroup":S.f.includes("frost")&&this.props.visit({query:{groupModal:this.props.selectedFunction.get("name")}},{persistQuery:!0});break;case"delete":this.props.visit({query:{deleteModal:this.props.selectedFunction.get("name")}},{persistQuery:!0})}}},{key:"render",value:function(){var e,t=!!this.props.selectedFunction,n=!t||!!this.props.selectedFunction.get("masterArn");if(this.props.loadingFunctions){var r={partial:this.props.loadedFuncCount.toString(),value:this.props.funcCount.toString()};e=a.a.createElement(l.FormattedMessage,{id:"wrapperLoading",values:r})}else e=a.a.createElement(l.FormattedMessage,{id:"wrapper",values:{value:this.props.loadedFuncCount.toString()}});var i=[{id:"view",text:this.context.intl.formatMessage({id:"functions.button.view"})},{id:"test",text:this.context.intl.formatMessage({id:"functions.button.test"}),disabled:n},{id:"delete",text:this.context.intl.formatMessage({id:"functions.button.delete"}),disabled:n}];return S.f.includes("frost")&&i.splice(2,0,{id:"editGroup",text:this.context.intl.formatMessage({id:"group.modal.action"}),disabled:n}),a.a.createElement(E.a,{header:a.a.createElement("span",null,a.a.createElement(l.FormattedMessage,{id:"functions.title"})," "),counter:e},a.a.createElement(p.Button,{icon:"refresh",loading:this.props.loadingFunctions,onClick:this.props.loadFunctions}),a.a.createElement(p.ButtonDropdown,{disabled:!t,items:i,onItemClick:this.onClickAction.bind(this)},a.a.createElement(l.FormattedMessage,{id:"functionDetail.button.actions"})),a.a.createElement(p.Button,{disabled:this.props.overLimit,variant:"primary",href:"#/create/function"},a.a.createElement(l.FormattedMessage,{id:"functions.button.create"})))}}])&&T(n.prototype,r),i&&T(n,i),t}(a.a.Component);R(A,"propTypes",{funcCount:o.a.number.isRequired,loadedFuncCount:o.a.number.isRequired,loadingFunctions:o.a.bool.isRequired,selectedFunction:u.a.map,overLimit:o.a.bool.isRequired,loadFunctions:o.a.func.isRequired,visit:o.a.func.isRequired}),R(A,"contextTypes",{intl:l.intlShape.isRequired});var I=Object(d.connect)(null,(function(e){return{visit:function(t,n){return e(Object(f.h)(t,n))}}}))(A);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){return[10,30,50].map((function(t){return{value:t,label:e.formatMessage({id:"functions.preferences.functions"},{functions:t})}}))},F=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=k(this,P(t).call(this,e))).state={showReplicas:n.props.tableConfiguration.get("showReplicas")},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,e),n=t,(r=[{key:"shouldComponentUpdate",value:function(e,t){return this.state.showReplicas===t.showReplicas}},{key:"onConfirm",value:function(){this.props.tableConfiguration.get("showReplicas")!==this.state.showReplicas&&this.props.onTableConfigurationChange({showReplicas:this.state.showReplicas})}},{key:"onToggleShowReplicas",value:function(e){this.setState({showReplicas:e.detail.checked})}},{key:"resetState",value:function(){this.setState({showReplicas:this.props.tableConfiguration.get("showReplicas")})}},{key:"render",value:function(){var e=this,t=this.context.intl,n={label:t.formatMessage({id:"functions.preferences.functionProperties"}),options:this.props.columnDefinitions.map((function(n){var r=n.id;return{id:r,label:t.formatMessage({id:"functions.grid.".concat(r)}),editable:"functionName"!==r,visible:e.props.tableConfiguration.get("contentSelection").includes(r)}}))};return a.a.createElement(p.TablePreferences,{title:t.formatMessage({id:"preferences"}),confirmLabel:t.formatMessage({id:"save"}),cancelLabel:t.formatMessage({id:"cancel"}),onConfirm:this.onConfirm.bind(this),onCancel:this.resetState.bind(this),disabled:this.props.disabled},a.a.createElement(p.TablePageSizeSelector,{title:t.formatMessage({id:"functions.preferences.pageSize"}),options:L(t)}),a.a.createElement(p.TableWrapLines,{label:t.formatMessage({id:"functions.preferences.wrapLines"})}),a.a.createElement("div",{className:"awsui-table-custom-preference"},a.a.createElement(p.Checkbox,{checked:this.state.showReplicas,onChange:this.onToggleShowReplicas.bind(this)},a.a.createElement(l.FormattedMessage,{id:"functions.preferences.showReplicas"}))),a.a.createElement(p.TableContentSelector,{title:t.formatMessage({id:"functions.preferences.visibleColumns"}),options:[n]}))}}])&&C(n.prototype,r),i&&C(n,i),t}(a.a.Component);M(F,"propTypes",{columnDefinitions:o.a.array.isRequired,onTableConfigurationChange:o.a.func.isRequired,tableConfiguration:u.a.map.isRequired,disabled:o.a.bool.isRequired}),M(F,"contextTypes",{intl:l.intlShape.isRequired});var q=n(322),V=n(131);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){return(e.find((function(e){return"aws:cloudformation:stack-name"===e.key}))||{}).value},z=S.f.includes("serverless-registry")&&!1,H={group:{id:"tags.fields.tags.label"},prefix:"tag",pairs:function(e){return e.tags.map((function(e){return{key:e.key,value:e.value}}))},includeEmptySuggestion:!0,includeAllValuesSuggestion:!0,logEventName:"tag",groupId:"tags"},W=function(e){var t=e.tags,n=e.addSearchFacet,r=B(t);return r?a.a.createElement("a",{onClick:function(){return n({type:"keyValueMatch",key:"aws:cloudformation:stack-name",value:r,metadata:H})}},r):null};W.propTypes={tags:o.a.array.isRequired,addSearchFacet:o.a.func.isRequired};var K=[{id:"functionName",field:"name"},{id:"runtime",field:"runtime"},{id:"codeSize",field:"codeSize"},{id:"memorySize",field:"memorySize"},{id:"timeout",field:"timeout"},{id:"lastModified",field:"lastModified"}];function Y(e,t){var n=t.intl,r=a.a.createElement(I,{funcCount:e.funcCount,loadedFuncCount:e.loadedFuncCount,loadingFunctions:e.loadingFunctions,selectedFunction:e.selectedFunction,overLimit:e.overLimit,loadFunctions:e.loadFunctions}),i=[{id:"functionName",cell:function(e){return a.a.createElement("a",{href:"#/functions/".concat(Object(O.X)(e.arn))},e.name)}},{id:"description",cell:function(e){return a.a.createElement("span",null,e.description)}},{id:"runtime",cell:function(e){return a.a.createElement("span",null,e.runtime)}},{id:"codeSize",cell:function(e){return a.a.createElement("span",null,Object(O.m)(e.codeSize))}},{id:"memorySize",cell:function(e){return a.a.createElement("span",null,e.memorySize)}},{id:"timeout",cell:function(e){return a.a.createElement("span",null,e.timeout)}},{id:"lastModified",cell:function(e){return a.a.createElement(V.a,{value:e.lastModified})}}];z&&i.push({id:"appName",cell:function(t){return a.a.createElement(W,{tags:t.tags,addSearchFacet:e.addSearchFacet})}}),i=i.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{header:function(){return a.a.createElement(l.FormattedMessage,{id:"functions.grid.".concat(e.id)})}})}));var o=e.selectedFunction?[e.selectedFunction.toJS()]:[],c=e.loadingFunctions;return a.a.createElement(p.Table,{columnDefinitions:i,empty:n.formatMessage({id:"functions.grid.noData"}),noMatch:n.formatMessage({id:"functions.grid.noData"}),items:e.items,header:r,className:"functionList",features:["pagination","selection","sorting"],wrapLines:e.tableConfiguration.get("wrapLines"),onContentSelectionChange:function(t){var n=t.detail;return e.onTableConfigurationChange(n)},onWrapLinesChange:function(t){var n=t.detail;return e.onTableConfigurationChange({wrapLines:n.value})}},e.SearchComponent,a.a.createElement(p.TablePagination,{pageSize:e.tableConfiguration.get("pageSize"),onPaginationChange:function(t){var n=t.detail;return e.onTableConfigurationChange(n)}}),a.a.createElement(F,{columnDefinitions:i,onTableConfigurationChange:e.onTableConfigurationChange,tableConfiguration:e.tableConfiguration,disabled:c}),a.a.createElement(p.TableSelection,{selectionType:"single",trackBy:"name",selectedItems:o,onSelectionChange:e.onSelectionChange}),a.a.createElement(p.TableSorting,{sortableColumns:K,sortingDescending:e.tableConfiguration.get("sortingDescending"),sortingColumn:e.tableConfiguration.get("sortingColumn"),onSortingChange:function(t){var n=t.detail;return e.onTableConfigurationChange(n)}}))}z&&K.push({id:"appName",comparator:function(e,t){var n=B(e.tags)||"",r=B(t.tags)||"";return n.localeCompare(r)}}),Y.propTypes={funcCount:o.a.number.isRequired,items:o.a.arrayOf(o.a.object).isRequired,overLimit:o.a.bool.isRequired,loadedFuncCount:o.a.number.isRequired,loadingFunctions:o.a.bool.isRequired,loadFunctions:o.a.func.isRequired,onSelectionChange:o.a.func.isRequired,onTableConfigurationChange:o.a.func.isRequired,selectedFunction:u.a.map,tableConfiguration:u.a.map.isRequired,SearchComponent:o.a.node.isRequired,addSearchFacet:o.a.func.isRequired},Y.contextTypes={intl:l.intlShape.isRequired};var J=[{group:{id:"functions.grid.functionAttributes"},key:{id:"functions.grid.functionName"},value:function(e){return e.name},logEventName:"name",propertyKey:"name",groupId:"functionAttributes"},{group:{id:"functions.grid.functionAttributes"},key:{id:"functions.grid.description"},value:function(e){return e.description},includeEmptySuggestion:!0,logEventName:"desc",propertyKey:"description",groupId:"functionAttributes"},{group:{id:"functions.grid.functionAttributes"},key:{id:"functions.grid.runtime"},value:function(e){return e.runtime},logEventName:"runt",propertyKey:"runtime",groupId:"functionAttributes"},{group:{id:"functions.grid.functionAttributes"},key:{id:"masterARN"},value:function(e){return e.masterArn},includeAllValuesSuggestion:!0,logEventName:"repl",propertyKey:"arn",groupId:"functionAttributes"}];S.f.includes("teletubby")&&J.splice(3,0,H);var Q=[];z&&Q.push({id:"serverlessapps",name:{id:"functions.searchPreset.serverlessApps"},facets:[{type:"keyValueMatch",key:"aws:cloudformation:stack-name",value:"aws-serverless-repository-",metadata:H}]});var X=Object(q.a)(Y,"items",J,Q),$=n(36),Z=n(113),ee=n(255),te=n(86),ne=n(40);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e,t){var n=[{text:t.intl.formatMessage({id:"functions.title"}),href:"#/functions"}];return a.a.createElement(Z.a,{items:n})}se.contextTypes={intl:l.intlShape.isRequired};var ue,le,de,pe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ie(this,oe(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,e),n=t,(r=[{key:"onSelectionChange",value:function(e){var t=e.detail.selectedItems;t.length&&this.props.setSelectedFunction(t[0].name)}},{key:"onTableConfigurationChange",value:function(e){var t=Object(c.Map)(e),n=this.props.tableConfiguration.merge(t);ne.e("lambda-functionList-configuration",n.toJS()),this.props.setTableConfiguration(t)}},{key:"render",value:function(){var e=null;if(!this.props.hasErrors){var t=this.props.functions.toList().toJS(),n=this.props,r=n.funcCount,i=n.overLimit,o=n.selectedFunction,c=n.tableConfiguration;c.get("showReplicas")||(t=t.filter((function(e){return!e.masterArn}))),e=a.a.createElement(X,{funcCount:r,loadedFuncCount:t.length,loadingFunctions:this.props.loadingFunctions,overLimit:i,items:t,selectedFunction:o,onSelectionChange:this.onSelectionChange.bind(this),onTableConfigurationChange:this.onTableConfigurationChange.bind(this),tableConfiguration:c,loadFunctions:this.props.loadFunctions})}return a.a.createElement(te.a,{id:"listFunctions",breadcrumbs:a.a.createElement(se,null)},a.a.createElement($.a,{scope:"listFunctions"}),e,a.a.createElement(h,null),S.f.includes("frost")?a.a.createElement(ee.a,null):null)}}])&&ae(n.prototype,r),i&&ae(n,i),t}(a.a.Component);ue=pe,le="propTypes",de={funcCount:o.a.number.isRequired,functions:u.a.orderedMap.isRequired,loadingFunctions:o.a.bool.isRequired,hasErrors:o.a.bool.isRequired,overLimit:o.a.bool.isRequired,selectedFunction:u.a.map,tableConfiguration:u.a.map.isRequired,setSelectedFunction:o.a.func.isRequired,setTableConfiguration:o.a.func.isRequired,loadFunctions:o.a.func.isRequired},le in ue?Object.defineProperty(ue,le,{value:de,enumerable:!0,configurable:!0,writable:!0}):ue[le]=de;t.a=Object(d.connect)(m.i,m.h)(pe)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(6),s=n(3),u=n(13),l=n(28),d=n(48);function p(){var e=Object(d.k)().map((function(e){return{id:e.dbproxyArn,label:e.dbproxyName,description:"".concat(e.dbproxyArn)}})).take(1e3);return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.e,{id:"existingEndpoint",label:a.a.createElement(s.FormattedMessage,{id:"addDatabaseProxy.chooseExisting.existingEndpoint.label"}),paginator:e},a.a.createElement(c.Select,{filteringType:"auto"})))}var f=n(158),m=n(23),b=n(423);function g(e,t){var n=e.instanceSelections,r=e.onChangeRoleCombination,i=t.intl,o=Object(d.b)().filter((function(e){var t=e.original,n=-1!==t.engine.search(/^(mysql|aurora)$/);return n&&t.engineMode?n=-1===t.engineMode.search(/^serverless|multimaster$/):n&&t.engineVersion&&(n=-1!==t.engineVersion.search(/5.6|5.7/)),t.dbinstanceIdentifier?n&&!t.dbclusterIdentifier&&!!t.dbinstanceIdentifier&&-1!==t.dbinstanceStatus.search(/available|modify|backing/i):n})).map((function(e){var t,n,r,a=e.dbclusterIdentifier&&!e.dbinstanceIdentifier;return{id:a?e.dbclusterIdentifier:e.dbinstanceIdentifier,label:a?e.dbclusterIdentifier:e.dbinstanceIdentifier,description:(t=e.engine.toLowerCase(),n=a,r="mysql"===t?"MySQL":"Aurora MySQL","".concat(r,n?" Cluster":" Database")),dbType:a?"cluster":"db"}})).take(1e3),u=Object(d.n)().map((function(e){return{value:e.arn,label:e.arn,needsKms:!!e.kmsKeyId}})).take(1e3);return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.e,{id:"databaseProxyIdentifier",label:a.a.createElement(s.FormattedMessage,{id:"addDatabaseProxy.createNew.proxyIdentifier.label"}),description:a.a.createElement(s.FormattedHTMLMessage,{id:"addDatabaseProxy.createNew.proxyIdentifier.tooltip"})},a.a.createElement(c.Input,null)),a.a.createElement(l.e,{id:"rdsInstance",label:a.a.createElement(s.FormattedMessage,{id:"addDatabaseProxy.createNew.rdsInstance.label"}),description:a.a.createElement(s.FormattedHTMLMessage,{id:"addDatabaseProxy.createNew.rdsInstance.tooltip"}),paginator:o},a.a.createElement(c.Select,{placeholder:i.formatMessage({id:"addDatabaseProxy.createNew.rdsInstance.placeholder"}),filteringType:"auto",keepOpen:!1,selectedIds:n})),a.a.createElement(l.e,{id:"secretManagerArn",label:a.a.createElement(s.FormattedMessage,{id:"addDatabaseProxy.createNew.secretManagerArn.label"}),description:a.a.createElement(s.FormattedHTMLMessage,{id:"addDatabaseProxy.createNew.secretManagerArn.tooltip"}),paginator:u,onChange:r},a.a.createElement(c.Autosuggest,{filteringType:"auto",placeholder:i.formatMessage({id:"addDatabaseProxy.createNew.secretManagerArn.placeholder"}),empty:i.formatMessage({id:"addDatabaseProxy.createNew.secretManagerArn.empty"})})),a.a.createElement(b.a,{formId:"addDatabaseProxy",roleFilter:"rds.amazonaws.com",showRadioSelection:!1,onChange:r}))}g.contextTypes={intl:s.intlShape.isRequired},g.propTypes={instanceSelections:o.a.string,onChangeRoleCombination:o.a.func.isRequired};var y=Object(u.connect)((function(e){return{instanceSelections:Object(m.c)(e,"addDatabaseProxy","rdsInstance")||""}}),(function(e){return{onChangeRoleCombination:function(){return e(Object(f.a)())}}}))(g),v=n(36),h=n(25),E=n(113),O=n(86),S=n(7),j=n(33),T=n(9),x={pattern:"^[0-9a-z-]+$",maxLength:60},_={type:"object",anyOf:[{properties:{proxySelection:{enum:["chooseExisting"]}},required:["existingEndpoint"]},{properties:{proxySelection:{enum:["createNew"]},databaseProxyIdentifier:x,rdsInstance:x,secretManagerArn:{pattern:"^$|^arn:".concat(Object(S.t)(),":secretsmanager:.+:\\d{12}:secret:.+$")},existingRole:{type:"string",pattern:"^arn:".concat(Object(S.t)(),":iam::\\d{12}:role\\/?[a-zA-Z_0-9+=,.@\\-/]+$"),maxLength:607,errorMessage:{pattern:j.b["role.pattern"]}}},required:["databaseProxyIdentifier","rdsInstance","secretManagerArn","existingRole"]}]};function w(e,t){var n=[{text:t.intl.formatMessage({id:"addDatabaseProxy.header"}),href:"#/add/database-proxy"}];return a.a.createElement(E.a,{items:n})}function R(e){var t=e.selection,n=e.add,r=e.cancel,i=e.creating,o=T.f.includes("hectograph"),u=["createNew","chooseExisting"].map((function(e){return{value:e,label:a.a.createElement(s.FormattedMessage,{id:"addDatabaseProxy.selection.".concat(e,".radioLabel")}),disabled:o&&"createNew"===e}}));return a.a.createElement(O.a,{id:"addDatabaseProxy",breadcrumbs:a.a.createElement(w,null)},a.a.createElement(v.a,{scope:"addDatabaseProxyAlerts"}),a.a.createElement(l.d,{id:"addDatabaseProxy",header:a.a.createElement(s.FormattedMessage,{tagName:"h1",id:"addDatabaseProxy.header"}),actionsProvider:function(e){return a.a.createElement("div",null,a.a.createElement(c.Button,{variant:"link",onClick:r},a.a.createElement(s.FormattedMessage,{id:"cancel"})),a.a.createElement(c.Button,{variant:"primary",onClick:e,loading:i},a.a.createElement(s.FormattedMessage,{id:"add.button.submit"})))},onSubmit:n,schema:_},a.a.createElement(h.d,{header:a.a.createElement(s.FormattedMessage,{id:"addDatabaseProxy.section.databaseProxy"})},a.a.createElement(l.e,{id:"proxySelection"},a.a.createElement(c.RadioGroup,{items:u,className:o?"awsui-util-d-n":""})),"createNew"===t?a.a.createElement(y,null):a.a.createElement(p,null))))}w.contextTypes={intl:s.intlShape.isRequired},R.propTypes={creating:o.a.bool.isRequired,selection:o.a.string.isRequired,showFunctionSelector:o.a.bool.isRequired,add:o.a.func.isRequired,cancel:o.a.func.isRequired};t.a=Object(u.connect)(f.d,f.c)(R)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(13),s=n(244),u=n(86),l=n(6),d=n(3),p=n(457),f=n(458),m=n(25),b=n(7);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O,S,j,T=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=v(this,h(t).call(this,e))).state={ajaxComplete:!1},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.columns,r=t.loading,i=t.targetId,o=t.createTime,c=t.completeTime,s=t.traces,u=t.getTraceSummaries,p=function(){e.setState({ajaxComplete:!0}),u()};return a.a.createElement("div",{className:"awsui-util-mb-m"},a.a.createElement(l.Table,{loading:r,loadingText:"loading",columnDefinitions:n,items:s,header:function(){var e=Object(b.H)();if("-"===o)return null;var t=new Date(o).toISOString(),n=new Date(c).toISOString(),r="/xray/home?region=".concat(e,'#/analytics?filter=resource.ARN CONTAINS "').concat(i,'"&timeRange=').concat(t,"~").concat(n);return a.a.createElement(m.a,{header:a.a.createElement(d.FormattedMessage,{id:"deployment.details.traceSummariesHeader"})},a.a.createElement(l.Button,{icon:"external","icon-align":"right",href:r},a.a.createElement(d.FormattedMessage,{id:"deployment.details.xRayLinkText"})))}(),empty:e.state.ajaxComplete?a.a.createElement(d.FormattedMessage,{tagName:"p",id:"deployment.details.noTracesFound"}):a.a.createElement("div",null,a.a.createElement(d.FormattedMessage,{tagName:"p",id:"deployment.details.deploymentFailed"}),a.a.createElement(l.Button,{onClick:p},a.a.createElement(d.FormattedMessage,{id:"deployment.details.getTraceSummaries"})))}))}}])&&y(n.prototype,r),i&&y(n,i),t}(a.a.Component);O=T,S="propTypes",j={columns:o.a.array.isRequired,loading:o.a.bool.isRequired,targetId:o.a.string,createTime:o.a.string.isRequired,completeTime:o.a.string.isRequired,traces:o.a.array,getTraceSummaries:o.a.func.isRequired},S in O?Object.defineProperty(O,S,{value:j,enumerable:!0,configurable:!0,writable:!0}):O[S]=j;var x=n(131),_=n(104);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){return{succeeded:a.a.createElement("span",{className:"awsui-util-status-positive"},a.a.createElement(l.Icon,{name:"status-positive"})," Succeeded "),failed:a.a.createElement("span",{className:"awsui-util-status-negative"},a.a.createElement(l.Icon,{name:"status-negative"})," Failed "),stopped:a.a.createElement("span",{className:"awsui-util-status-inactive"},a.a.createElement(l.Icon,{name:"status-stopped"})," Stopped "),ready:a.a.createElement("span",{className:"awsui-util-status-info"},a.a.createElement(l.Icon,{name:"status-info"})," Ready "),inprogress:a.a.createElement("span",{className:"awsui-util-status-inactive"},a.a.createElement(l.Icon,{name:"status-in-progress"})," In progress "),created:a.a.createElement("span",{className:"awsui-util-status-info"},a.a.createElement(l.Icon,{name:"status-info"})," Created "),queued:a.a.createElement("span",{className:"awsui-util-status-inactive"},a.a.createElement(l.Spinner,null)," Queued ")}[e.toLowerCase()]||"-"},P=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=A(this,I(t).call(this,e))).deploymentDetailsModel=new f.DeploymentDetailsModel({deploymentId:e.deploymentId,getFunction:_.d,createElement:a.a.createElement,dateFormatter:x.a,icon:l.Icon,setState:function(e){return n.setState(e)}}),n.state={cdApplicationName:"-",status:"-",trafficRoutingConfigType:"-",deploymentConfigName:"-",deploymentGroup:"-",revisionLocation:"-",events:[],eventsLoading:!0,failures:[],failuresLoading:!1,originalWeight:0,replacementWeight:0,error:[],createTime:"-",completeTime:null,targetArn:null},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.deploymentDetailsModel.startPollingInterval()}},{key:"componentWillUnmount",value:function(){this.deploymentDetailsModel.cancel()}},{key:"getTraceSummaries",value:function(){this.deploymentDetailsModel.getTraceSummaries()}},{key:"forceComplete",value:function(){this.deploymentDetailsModel.completeDeployment()}},{key:"stopDeployment",value:function(){this.deploymentDetailsModel.stopDeployment()}},{key:"render",value:function(){var e=this,t=this.props.deploymentId,n=this.state,r=n.cdApplicationName,i=n.createTime,o=n.completeTime,c=n.status,s=n.targetArn,u=n.deploymentConfigName,f=n.deploymentGroup,g=n.revisionLocation,y=n.events,v=n.eventsLoading,h=n.error,E=n.failures,O=n.failuresLoading,S=(100*this.state.originalWeight).toFixed(),j=(100*this.state.replacementWeight).toFixed(),_=u.includes("LambdaAdaptiveShifting")||"Adaptive"===this.state.trafficRoutingConfigType,w=this.deploymentDetailsModel.failureTableColumnDefinitions();w[0].header=this.context.intl.formatMessage({id:"deployment.details.rootCauseName"}),w[1].header=this.context.intl.formatMessage({id:"deployment.details.rootCauseMessage"}),w[2].header=this.context.intl.formatMessage({id:"deployment.details.count"}),w[3].header=this.context.intl.formatMessage({id:"deployment.details.executionPath"});var R=this.deploymentDetailsModel.eventTableColumnDefinitions();R[0].header=this.context.intl.formatMessage({id:"deployment.details.event"}),R[1].header=this.context.intl.formatMessage({id:"deployment.details.type"}),R[2].header=this.context.intl.formatMessage({id:"deployment.details.timestamp"}),R[3].header=this.context.intl.formatMessage({id:"deployment.details.message"});var A=function(e,t){return a.a.createElement(p.AwsJug,{value:e,label:t})},I=Object(b.H)(),N="/codesuite/codedeploy/applications/".concat(r,"/deployment-groups/").concat(f,"?region=").concat(I),C=[[{key:"Status",value:k(c)},{key:"CodeDeploy application",value:a.a.createElement("a",{href:Object(b.u)("codedeploy","application",r)},r)},{key:this.context.intl.formatMessage({id:"deployment.details.deploymentId"}),value:t},{key:this.context.intl.formatMessage({id:"deployment.details.createTime"}),value:"-"===i?i:a.a.createElement(x.a,{value:i})}],[{key:"Deployment configuration",value:u},{key:this.context.intl.formatMessage({id:"deployment.details.deploymentGroup"}),value:a.a.createElement("a",{href:N},f)},{key:"Revision location",value:g},{key:this.context.intl.formatMessage({id:"deployment.details.runTime"}),value:function(){if("-"===i)return"-";var t=new Date(i).getTime(),n=new Date(o).getTime()||(new Date).getTime(),r=Math.round((n-t)/6e4),a=1===r?"deployment.details.minute":"deployment.details.minutes",c=e.context.intl.formatMessage({id:a});return"".concat(r," ").concat(c)}()}]];return null!==o&&C[0].push({key:this.context.intl.formatMessage({id:"deployment.details.completeTime"}),value:a.a.createElement(x.a,{value:o})}),a.a.createElement("div",{id:"deployment-details-page"},a.a.createElement("div",{className:"awsui-util-mb-m"},a.a.createElement(l.Flashbar,{items:h.slice(0)})),a.a.createElement(m.a,{large:!0,header:a.a.createElement("span",null,"Deployment ",t)},!["Stopped","Failed","Succeeded"].includes(c)&&a.a.createElement(a.a.Fragment,null,_&&a.a.createElement(l.Button,{onClick:this.forceComplete.bind(this)},a.a.createElement(d.FormattedMessage,{id:"deployment.details.complete"})),a.a.createElement(l.Button,{onClick:this.stopDeployment.bind(this)},a.a.createElement(d.FormattedMessage,{id:"deployment.details.stop"})))),a.a.createElement(l.ColumnLayout,{columns:2},a.a.createElement("div",{"data-awsui-column-layout-root":"true"},a.a.createElement("div",null,a.a.createElement("div",{className:"awsui-util-container"},a.a.createElement("div",{className:"awsui-util-container-header"},a.a.createElement("h2",null," Deployment status ")),a.a.createElement("div",null,a.a.createElement(m.f,{columns:2,items:C})))),a.a.createElement("div",null,a.a.createElement("div",{className:"awsui-util-container"},a.a.createElement("div",{className:"awsui-util-container-header"},a.a.createElement("h2",null," Traffic shifting progress ")),a.a.createElement("div",null,a.a.createElement(l.ColumnLayout,{columns:2},a.a.createElement("div",{"data-awsui-column-layout-root":"true"},a.a.createElement("div",null,A(S,this.context.intl.formatMessage({id:"deployment.details.original"})),a.a.createElement("p",{className:"awsui-util-mt-m"},this.context.intl.formatMessage({id:"deployment.details.percentOfTraffic"},{percent:S}))),a.a.createElement("div",null,A(j,this.context.intl.formatMessage({id:"deployment.details.replacement"})),a.a.createElement("p",{className:"awsui-util-mt-m"},this.context.intl.formatMessage({id:"deployment.details.percentOfTraffic"},{percent:j})))))))))),"Failed"===c&&_?a.a.createElement("div",{className:"awsui-util-mb-m"},a.a.createElement(T,{columns:w,loading:O,createTime:i,completeTime:o,targetId:s,traces:E,getTraceSummaries:e.getTraceSummaries.bind(e)})):null,a.a.createElement(l.Table,{loading:v,loadingText:this.context.intl.formatMessage({id:"statusIndicator.loading"}),columnDefinitions:R,items:y,header:a.a.createElement(d.FormattedMessage,{tagName:"h2",id:"deployment.details.events"}),empty:a.a.createElement(d.FormattedMessage,{tagName:"div",id:"deployment.details.noEvents"})}))}}])&&R(n.prototype,r),i&&R(n,i),t}(a.a.Component);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}C(P,"propTypes",{deploymentId:o.a.string.isRequired}),C(P,"contextTypes",{intl:d.intlShape.isRequired});var V=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=L(this,F(t).call(this,e))).state={},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.deploymentId;return a.a.createElement(u.a,{id:"deploymentDetail"},a.a.createElement(P,{deploymentId:e}))}}])&&M(n.prototype,r),i&&M(n,i),t}(a.a.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(V,"propTypes",{deploymentId:o.a.string.isRequired});t.a=Object(c.connect)(s.b)(V)},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(3),o=n(4),c=n(32),s=n(2),u=n(99),l=n(43),d=n(60),p=n(91),f=n(50),m=n(480),b=n.n(m),g=n(10),y=n(8),v=n(22),h=n(138),E=n(130),O=n(20),S=n(21),j=n(14),T=n(189),x=n(141),_=n(57),w=n(39),R=n(160),A=n(47),I=n(7),N=n(11),C=n(9),k=n(5),P=n(40);function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.results=Object(o.List)(),this.state=t,this.rules=n}var t,n,r;return t=e,(n=[{key:"runGivenRule",value:function(e){return e.run(e.args(this.state))}},{key:"run",value:function(){return this.results=Object(o.fromJS)(this.rules.map(this.runGivenRule.bind(this)).filter((function(e){return null!==e}))),this.results}}])&&D(t.prototype,n),r&&D(t,r),e}(),L=n(209),F=n(250),q=n(249),V=n(251),U=[L.b,F.b,q.b,V.b],G=n(29),B=n(163),z=n(48);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"cloudformationParser",(function(){return re})),n.d(t,"cloudformationSource",(function(){return ae})),n.d(t,"cloudformationStackSource",(function(){return ie})),n.d(t,"databaseProxySource",(function(){return ce})),n.d(t,"deferredTriggerHandler",(function(){return se})),n.d(t,"elasticFileSystemSource",(function(){return ue})),n.d(t,"destinationParser",(function(){return le})),n.d(t,"eventInvokeConfigSource",(function(){return de})),n.d(t,"executionRoleParser",(function(){return pe})),n.d(t,"executionRoleSource",(function(){return fe})),n.d(t,"functionParser",(function(){return me})),n.d(t,"functionQualifiersSource",(function(){return be})),n.d(t,"functionSource",(function(){return ge})),n.d(t,"functionCodeSource",(function(){return ye})),n.d(t,"functionCodeParser",(function(){return ve})),n.d(t,"customerReady",(function(){return he})),n.d(t,"integrationConfigSource",(function(){return Ee})),n.d(t,"relationParser",(function(){return Oe})),n.d(t,"resetEditPageState",(function(){return Se})),n.d(t,"resetViewPageState",(function(){return je})),n.d(t,"resourcePolicySource",(function(){return Te})),n.d(t,"tagParser",(function(){return xe})),n.d(t,"tagSource",(function(){return _e})),n.d(t,"testingSource",(function(){return we})),n.d(t,"urlParser",(function(){return Re})),n.d(t,"vertexSource",(function(){return Ae})),n.d(t,"userPreference",(function(){return Ie})),n.d(t,"layerParser",(function(){return Ne})),n.d(t,"showFunctionDetailsFlashbar",(function(){return Ce})),n.d(t,"provisionedConcurrencyConfigsParser",(function(){return ke})),n.d(t,"provisionedConcurrencyConfigsSource",(function(){return Pe})),n.d(t,"recommendationEngine",(function(){return De})),n.d(t,"functionGroupSource",(function(){return Me})),n.d(t,"functionGroupParser",(function(){return Le}));var Q=function(e){return function(t){k.logEventWithValue(k.EVENT_NAMES.DESIGNER_COUNT("node",e),t.get("nodes").size||0),k.logEventWithValue(k.EVENT_NAMES.DESIGNER_COUNT("edge",e),t.get("edges").size||0)}},X=function(e,t){return regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.put)(Object(g.L)(e,r.get("nodes"),r.get("edges"),!!t));case 2:case"end":return n.stop()}}),n)}))},$=X("function",!1),Z=X("resource",!0),ee=X("trigger",!0),te=X("destination",!0),ne=X("layer",!1),re={dependencies:["cloudformationSource","integrationConfigSource"],args:function(e){return{stack:Object(y.U)(e,"cloudformationSource"),rootFunctionArn:new I.e(Object(y.q)(e)),lambdaIcon:w.c.getLambdaIcon(e)}},onSuccess:[Q("cloudformationGraph"),$],run:function(e){var t=e.stack,n=e.rootFunctionArn,r=e.lambdaIcon;return Object(o.Map)({nodes:t.get("resources").filter((function(e){var t=e.get("physicalResourceId");return"AWS::Lambda::Function"===e.get("resourceType")&&t!==n.functionName})).map((function(e){var t=e.get("physicalResourceId"),n=I.e.fromFunctionName(t).arn;return Object(o.Map)({id:n,type:"function",name:t,icon:r,data:Object(o.Map)(),states:Object(o.List)()})})),edges:Object(o.List)()})}},ae={dependencies:["cloudformationStackSource"],precondition:function(e){return!!Object(y.U)(e,"cloudformationStackSource").get("stackArn")},args:function(e){return Object(y.U)(e,"cloudformationStackSource").get("stackArn")},run:regeneratorRuntime.mark((function e(t){var n,r,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.logEvent("fd_cfn"),n=new I.c(t),r=n.stackName,a=C.f.includes("huesillo")?{id:"functionDesigner.alert.app",values:{stackName:r}}:{id:"functionDesigner.alert.stack",values:{stackArn:t,stackName:r}},e.next=5,Object(s.put)(Object(j.e)({key:"belongsToStack",message:a}));case 5:return e.next=7,Object(s.call)(N.a.describeStack,{stackArn:t});case 7:return i=e.sent,c=i.body,e.abrupt("return",Object(o.fromJS)(c));case 10:case"end":return e.stop()}}),e)}))},ie={dependencies:["urlParser"],args:function(e){return new I.e(Object(y.q)(e))},run:regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.functionName,e.next=3,Object(s.call)(N.a.getStackForFunction,{functionName:n});case 3:return r=e.sent,a=r.body,e.abrupt("return",Object(o.fromJS)(a));case 6:case"end":return e.stop()}}),e)}))},oe=function(e){return Object(y.U)(e,"executionRoleParser").get("nodes").find((function(e){return"rds-db"===e.get("id")}))},ce={dependencies:["executionRoleParser"],precondition:function(e){return C.f.includes("dittograph")&&!!oe(e)},args:oe,run:regeneratorRuntime.mark((function e(t){var n,r,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getIn(["data","statements"]).filter((function(e){return["*","connect"].includes(e.get("action").split(":")[1])})).map((function(e){return e.get("resource")})).filter((function(e){return"*"!==e})).toSet().map((function(e){return new I.f(e)})).toArray(),a=r.map((function(e){return e.proxyUuid})),e.next=4,Object(s.call)(N.a.listRdsProxies,{});case 4:return i=e.sent,c=i.body,u=(null==c?void 0:null===(n=c.dbproxies)||void 0===n?void 0:n.filter((function(e){var t=new I.f(null==e?void 0:e.dbproxyArn);return a.includes(null==t?void 0:t.proxyUuid)})))||[],k.logEventWithValue(k.EVENT_NAMES.PROXY_COUNT,u.length),e.abrupt("return",Object(o.fromJS)(u));case 9:case"end":return e.stop()}}),e)}))},se={dependencies:["relationParser"],args:function(e){return{nodes:w.c.getNodes(e),target:Object(y.q)(e)}},run:regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nodes,r=t.target,e.next=3,Object(s.call)(P.c,"deferredTrigger");case 3:if(!(a=e.sent)){e.next=10;break}return e.next=7,Object(s.call)(P.i,"deferredTrigger");case 7:return i=d.c.initializeTriggerFromConfig(n[a],r),e.next=10,Object(s.put)(Object(g.a)(i));case 10:case"end":return e.stop()}}),e)}))},ue={dependencies:["functionParser"],precondition:function(){return C.f.includes("evanescent")},args:function(e){return{functionNode:Object(y.W)(e)}},run:regeneratorRuntime.mark((function e(t){var n,r,a,i,o,c,u,l,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.functionNode,a=null==r?void 0:r.getIn(["data"]),i=(null==a?void 0:null===(n=a.getIn(["fileSystemConfigs",0]))||void 0===n?void 0:n.toJS())||null,o=null,!i||!i.arn){e.next=18;break}return c=new I.a(i.arn),u=c.accessProfileId,o={localMountPath:i.localMountPath},e.next=10,Object(s.call)(N.a.describeAccessProfiles,{accessProfileId:u});case 10:return l=e.sent,d=l.body,o.accessProfile=d.accessProfiles.pop(),e.next=15,Object(s.call)(N.a.describeFileSystems,{fileSystemId:o.accessProfile.fileSystemId});case 15:p=e.sent,f=p.body,o.fileSystem=f.fileSystems.pop();case 18:return e.abrupt("return",o?[o]:[]);case 19:case"end":return e.stop()}}),e)}))},le={dependencies:["eventInvokeConfigSource","vertexSource"],precondition:function(){return C.f.includes("starfish")},args:function(e){return{eventInvokeSource:Object(y.U)(e,"eventInvokeConfigSource"),functionArn:Object(y.q)(e),relations:Object(y.U)(e,"vertexSource")}},onSuccess:[Q("destination"),te],run:regeneratorRuntime.mark((function e(t){var n,r,a,i,c,u,l,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.eventInvokeSource,r=t.functionArn,a=t.relations,i=Object.entries(n.getIn(["eventInvokeConfig","destinationConfig"]).toJS()).filter((function(e){return!!J(e,2)[1].destination})).map((function(e){var t=J(e,2),n=t[0],r=t[1].destination;return{condition:n,destination:r,service:new I.b(r).service,source:S.f}})),c=a.filter((function(e){var t,n,r=e.data;return["dynamodb","kinesis"].includes(r.sourceType)&&!!(null===(t=r.destinationConfig)||void 0===t?void 0:null===(n=t.onFailure)||void 0===n?void 0:n.destination)})).reduce((function(e,t){var n=t.data,r=t.source;return[].concat(Y(e),[{source:S.g,condition:"onFailure",destination:n.destinationConfig.onFailure.destination,uuid:n.uuid,service:new I.b(n.destinationConfig.onFailure.destination).service,sourceArn:r}])}),[]),u=i.concat(c),l=u.map((function(e){return e.destination})),e.next=7,Object(s.call)(N.a.getServiceData,{identifiers:l});case 7:return d=e.sent,p=d.body,f=u.map((function(e){var t=e.condition,n=e.destination,r=e.service,a=e.source,i=e.uuid,o=e.sourceArn;return{id:"".concat(i||t),type:"destination",name:p[r].name,icon:p[r].icon,source:a,sourceArn:o,condition:t,destArn:n,editable:!1,states:[]}})),e.abrupt("return",Object(o.Map)({nodes:Object(o.fromJS)(f),edges:Object(o.fromJS)(f.map((function(e){return{id:Object(A.a)(),source:r,target:e.destArn}})))}));case 11:case"end":return e.stop()}}),e)}))},de={dependencies:["urlParser"],precondition:function(){return C.f.includes("bananaslug")},args:function(e){return new I.e(Object(y.q)(e))},run:regeneratorRuntime.mark((function e(t){var n,r,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.arn,r=!0,a={maxEventAge:S.c.MAX_EVENT_AGE,maxRetryAttempts:S.c.MAX_RETRY_ATTEMPTS,destinationConfig:{}},e.next=5,Object(s.call)(N.a.getFunctionEventInvokeConfig,{functionName:n});case 5:return(i=e.sent).body?a={maxEventAge:i.body.maximumEventAgeInSeconds||S.c.MAX_EVENT_AGE,maxRetryAttempts:(null===(c=i.body.maximumRetryAttempts)||void 0===c?void 0:c.toString())||S.c.MAX_RETRY_ATTEMPTS,destinationConfig:i.body.destinationConfig||{}}:r=!1,e.abrupt("return",Object(o.fromJS)({eventInvokeConfig:W({hasEventInvokeConfig:r},a)}));case 8:case"end":return e.stop()}}),e)}))},pe={dependencies:["executionRoleSource"],args:function(e){return{role:Object(y.U)(e,"executionRoleSource"),functionArn:Object(y.q)(e)}},onSuccess:[Q("executionRoleGraph"),Z],run:regeneratorRuntime.mark((function e(t){var n,r,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.role,r=t.functionArn,e.next=3,Object(s.call)(N.a.parseRole,{role:n});case 3:return a=e.sent,i=a.body,c=Object(o.fromJS)(i).entrySeq().toList().map((function(e){var t=J(e,2),n=t[0],r=t[1];return Object(o.Map)({id:n,type:"resource",name:r.getIn(["service","name"]),icon:r.getIn(["service","icon"]),data:r,states:Object(o.List)(),editable:!1})})).sortBy((function(e){return e.get("name")})),e.abrupt("return",Object(o.Map)({nodes:c,edges:c.map((function(e){return Object(o.Map)({id:Object(A.a)(),source:r,target:e.get("id")})}))}));case 7:case"end":return e.stop()}}),e)}))},fe={dependencies:["functionSource"],args:function(e){return new I.d(Object(y.U)(e,"functionSource").get("role"))},run:regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.roleName,e.next=3,Object(s.call)(N.a.getRole,{roleName:n});case 3:return r=e.sent,a=r.body,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))},me={dependencies:["eventInvokeConfigSource","functionSource","tagParser","userPreference","integrationConfigSource"],optional:["eventInvokeConfigSource","tagParser","userPreference"],args:function(e){return{eventInvokeConfig:Object(y.U)(e,"eventInvokeConfigSource"),functionConfiguration:Object(y.U)(e,"functionSource"),functionTags:Object(y.U)(e,"tagParser")||Object(o.Map)(),lambdaIcon:w.c.getLambdaIcon(e)}},onSuccess:[Q("functionGraph"),$,regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.put)(Object(g.C)(t.get("nodes")));case 2:case"end":return e.stop()}}),e)}))],run:function(e){var t=e.eventInvokeConfig,n=e.functionConfiguration,r=e.functionTags,a=e.lambdaIcon,i=new I.e(n.get("arn")),c=i.arn,s=i.friendlyName;return Object(o.fromJS)({nodes:[{id:c,type:"function",name:s,icon:a,data:d.c.initializeFunction(n.merge(t),r,Date.now()),states:[]}],edges:[]})}},be={dependencies:["urlParser"],args:function(e){return new I.e(Object(y.q)(e))},run:regeneratorRuntime.mark((function e(t){var n,r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.functionName,e.next=3,Object(s.call)(N.a.listFunctionQualifiers,{functionName:n});case 3:return r=e.sent,a=r.body,e.next=7,Object(s.call)(O.b,a.versions);case 7:return i=e.sent,e.next=10,Object(s.call)(O.a,a.aliases);case 10:return o=e.sent,e.abrupt("return",{versions:i,aliases:o});case 12:case"end":return e.stop()}}),e)}))},ge={dependencies:["urlParser"],args:function(e){return new I.e(Object(y.q)(e))},onFailure:regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(404!==t.status){e.next=3;break}return e.next=3,Object(s.put)(Object(c.h)("/functions"));case 3:case"end":return e.stop()}}),e)})),run:regeneratorRuntime.mark((function e(t){var n,r,a,i,c,u,l,d,p,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.functionName,r=t.qualifier,"alias"!==Object(I.F)(r)){e.next=11;break}return e.next=4,Object(s.all)([Object(s.call)(N.a.getAlias,{functionName:n,name:r}),Object(s.call)(N.a.getFunctionConfiguration,{functionName:n,qualifier:r})]);case 4:i=e.sent,c=J(i,2),u=c[0].body,l=c[1].body,a=W({},l,{alias:u}),e.next=16;break;case 11:return e.next=13,Object(s.call)(N.a.getFunctionConfiguration,{functionName:n,qualifier:r});case 13:d=e.sent,p=d.body,a=p;case 16:if(!r){e.next=22;break}return e.next=19,Object(s.call)(N.a.getFunctionConfiguration,{functionName:n});case 19:f=e.sent,m=f.body.reservedConcurrentExecutions,a.reservedConcurrentExecutions=m;case 22:return e.abrupt("return",Object(o.fromJS)(a));case 23:case"end":return e.stop()}}),e)}))},ye={dependencies:["urlParser"],args:function(e){return new I.e(Object(y.q)(e))},onFailure:function(e){},run:regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.functionName,r=t.qualifier,"alias"===Object(I.F)(r)){e.next=7;break}return e.next=4,Object(s.call)(N.a.getFunctionCode,{functionName:n,qualifier:r});case 4:return a=e.sent,i=a.body,e.abrupt("return",Object(o.fromJS)(i));case 7:return e.abrupt("return",Object(o.Map)());case 8:case"end":return e.stop()}}),e)}))},ve={dependencies:["functionCodeSource","functionParser"],args:function(e){return{functionCode:Object(y.U)(e,"functionCodeSource"),functionConfiguration:Object(y.U)(e,"functionSource")}},run:regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.functionCode,r=t.functionConfiguration,a=n.get("encodedZip"),i=r.get("arn"),e.next=5,Object(s.call)(p.b,{encodedZip:a,nodeId:i});case 5:case"end":return e.stop()}}),e)}))},he={dependencies:["functionParser","urlParser"],args:function(e){return Object(y.k)(e)},run:function(e){var t=e?Object(O.i)(e):"function-designer";k.stopPageLoad(t,!0)}},Ee={run:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.call)(R.b);case 2:case"end":return e.stop()}}),e)}))},Oe={dependencies:["vertexSource"],args:function(e){return{nodes:w.c.getNodes(e),thirdPartyNodes:w.c.getThirdPartyNodes(e),relations:Object(y.U)(e,"vertexSource")}},onSuccess:[Q("relationGraph"),ee],run:function(e){var t=e.nodes,n=e.thirdPartyNodes,r=e.relations;return Object(o.Map)({nodes:Object(o.List)(r).map((function(e){var r=t[e.data.sourceType];return d.c.initializeTriggerFromRelationAndConfig(e,r,n)})),edges:r.map((function(e){var t=e.source,n=e.target;return Object(o.Map)({id:Object(A.a)(),source:t,target:n})}))})}},Se={dependencies:function(e){var t=Object(y.k)(e),n=["urlParser"];if(t){var r=u[Object(O.i)(t)];n=n.concat(r.dependencies||[])}return n},precondition:function(e){return!!Object(y.k)(e)},args:function(e){return{editPage:Object(y.k)(e),functionArn:new I.e(Object(y.q)(e)),isCreate:Object(y.C)(e),query:Object(G.b)(e).query}},run:regeneratorRuntime.mark((function e(t){var n,r,a,i,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.editPage,r=t.functionArn,a=t.isCreate,i=t.query,o=r.functionName,c=r.qualifier,d=Object(O.i)(n),!u[d].isReadonly(c,a,i)){e.next=9;break}return e.next=7,Object(s.put)(Object(l.d)(o,c));case 7:e.next=13;break;case 9:return e.next=11,Object(s.call)(u[d].init,{isCreate:a,query:i});case 11:return e.next=13,Object(s.put)(Object(g.I)(!1));case 13:case"end":return e.stop()}}),e)}))},je={dependencies:["urlParser"],precondition:function(e){return!Object(y.k)(e)},run:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.put)(Object(g.I)(!1));case 2:case"end":return e.stop()}}),e)}))},Te={dependencies:["urlParser"],args:function(e){return new I.e(Object(y.q)(e))},run:regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.functionName,r=t.qualifier,e.next=3,Object(s.call)(N.a.getResourcePolicy,{functionName:n,qualifier:r});case 3:return a=e.sent,i=a.body,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)}))},xe={dependencies:["tagSource"],args:function(e){return Object(y.U)(e,"tagSource")},run:function(e){var t=Object(o.List)(e).map((function(e){var t=e.key,n=e.value;return new _.b({key:t,value:n})})).groupBy((function(e){return/^(aws|lambda):.*$/.test(e.key)})),n=t.get(!0,Object(o.List)()),r=t.get(!1,Object(o.List)());return Object(o.Map)({blueprintName:r.find((function(e){return e.key===C.a}),null,{}).value,createdBySam:!!n.find((function(e){return e.key===T.a.key&&e.value===T.a.value})),systemTags:n,userTags:r})}},_e={dependencies:["urlParser"],precondition:function(){return C.f.includes("teletubby")},args:function(e){return new I.e(Object(y.q)(e))},run:regeneratorRuntime.mark((function e(t){var n,r,a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.functionName,!Object(O.r)(n)){e.next=3;break}return e.abrupt("return",[]);case 3:return r=I.e.fromFunctionName(n),a=r.arn,e.next=6,Object(s.call)(N.a.listTags,{resource:a});case 6:return i=e.sent,o=i.body,e.abrupt("return",Object.entries(o.tags).map((function(e){var t=J(e,2);return{key:t[0],value:t[1]}})));case 9:case"end":return e.stop()}}),e)}))},we={dependencies:["urlParser","tagParser"],optional:["tagParser"],args:function(e){return{eventModalOpen:Object(y.U)(e,"urlParser").get("eventModalOpen"),functionArn:new I.e(Object(y.q)(e))}},run:regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.eventModalOpen,r=t.functionArn,a=r.functionName,i=r.qualifier,e.next=4,Object(s.call)(E.b,{functionName:a,qualifier:i});case 4:if(!n){e.next=7;break}return e.next=7,Object(s.put)(v.c.toggleEventModal());case 7:case"end":return e.stop()}}),e)}))},Re={precondition:function(e){return!!Object(y.u)(e).get("location")},args:function(e){return Object(y.u)(e).get("location")},run:function(e){var t=Object(l.f)(e.get("pathname")),n=t.editPage,r=t.functionName,a=t.isCreate,i=t.qualifier;return Object(o.Map)({functionArn:I.e.fromFunctionName(r,i).arn,editPage:n,tab:e.getIn(["query","tab"],S.q.CONFIGURATION),eventModalOpen:"open"===e.getIn(["query","eventModal"]),isCreate:a})}},Ae={dependencies:["integrationConfigSource","urlParser"],args:function(e){return Object(y.q)(e)},run:regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(O.r)(t)){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,Object(s.call)(N.a.listRelations,{type:"trigger",target:t});case 4:return n=e.sent,r=n.body,a=r.relations.filter((function(e){return!e.exception||"vertex.exception.listRelations.invalidResourceId"!==e.exception.code})).map((function(e){return W({},e,{data:JSON.parse(e.data)})})),e.next=9,Object(s.all)((r.exceptions||[]).map((function(e,t){var n=e.level,r=e.message;return Object(s.put)(Object(j.f)({key:t,message:r,type:x.a[n]}))})));case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))},Ie={run:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.call)(h.a,"user");case 2:case"end":return e.stop()}}),e)}))},Ne={dependencies:["functionParser"],precondition:function(){return C.f.includes("layette")},args:function(e){return{functionNode:Object(y.W)(e),layerNode:Object(o.fromJS)({nodes:[{id:"layer",type:"layer",name:"Layers",icon:b.a,states:[],data:{}}],edges:[]})}},onSuccess:[ne],run:regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.functionNode,r=t.layerNode,e.next=3,Object(s.call)(O.e);case 3:return a=e.sent,e.next=6,Object(s.call)(p.e,n,a,"layer");case 6:if(!e.sent){e.next=10;break}return e.next=10,Object(s.put)(Object(g.C)(r.get("nodes")));case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)}))},Ce={dependencies:["functionSource"],args:function(e){return{functionConfiguration:Object(y.U)(e,"functionSource"),previousFunctionCombinedStateSet:Object(y.t)(e)}},run:regeneratorRuntime.mark((function e(t){var n,r,a,i,o,c,u,l,d,m,b,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.functionConfiguration,r=t.previousFunctionCombinedStateSet,a=n.get("name"),i=n.get("state"),o=n.get("stateReason"),c=n.get("stateReasonCode"),u=n.get("lastUpdateStatus"),l=n.get("lastUpdateStatusReason"),d=n.get("lastUpdateStatusReasonCode"),m=!!Object(O.n)(a),b=Object(p.d)(i,c,u,r,m),e.next=12,Object(s.put)(Object(g.U)(b));case 12:return y=Object(p.c)(b,a,c,o,d,l),e.next=15,Object(s.all)(y);case 15:return e.next=17,Object(s.put)(Object(f.d)());case 17:if(Object(O.p)(b)){e.next=20;break}return e.next=20,Object(s.call)(p.a);case 20:return e.abrupt("return",{functionCombinedStateSet:b});case 21:case"end":return e.stop()}}),e)})),onSuccess:regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.functionCombinedStateSet,!Object(O.p)(n)){e.next=5;break}return e.next=4,Object(s.spawn)(p.f,n);case 4:p.g.pollingFunctionStateSpawnTask=e.sent;case 5:case"end":return e.stop()}}),e)}))},ke={dependencies:["provisionedConcurrencyConfigsSource","functionQualifiersSource"],precondition:function(){return C.f.includes("hyperion")},args:function(e){return{provisionedConcurrencyConfigs:Object(y.U)(e,"provisionedConcurrencyConfigsSource")||Object(o.List)(),qualifiers:Object(y.U)(e,"functionQualifiersSource")||{versions:Object(o.Map)(),aliases:Object(o.Map)()}}},run:function(e){var t,n,r=e.provisionedConcurrencyConfigs,c=e.qualifiers,s=Object(O.o)(c.aliases),u=r.filter((function(e){return Object(I.S)(new I.e(e.get("functionArn")).qualifier)})).map((function(e){return Object(o.Map)({functionArn:e.get("functionArn"),qualifier:new I.e(e.get("functionArn")).qualifier,requestedConcurrency:e.get("requestedProvisionedConcurrentExecutions"),provisionedConcurrency:e.get("allocatedProvisionedConcurrentExecutions"),availableConcurrency:e.get("availableProvisionedConcurrentExecutions"),statusReason:e.get("statusReason"),status:e.get("status"),aliases:a.a.createElement(i.FormattedMessage,{id:"provisionedConcurrency.details.aliases",values:{displayAliases:Object(I.C)(s[new I.e(e.get("functionArn")).qualifier])}})})})),l=r.filter((function(e){return!Object(I.S)(new I.e(e.get("functionArn")).qualifier)})).map((function(e){return Object(o.Map)({functionArn:e.get("functionArn"),qualifier:new I.e(e.get("functionArn")).qualifier,requestedConcurrency:e.get("requestedProvisionedConcurrentExecutions"),provisionedConcurrency:e.get("allocatedProvisionedConcurrentExecutions"),availableConcurrency:e.get("availableProvisionedConcurrentExecutions"),statusReason:e.get("statusReason"),status:e.get("status"),versions:Object(O.h)(c.aliases.get(new I.e(e.get("functionArn")).qualifier))})})),d=null===(t=u.toArray())||void 0===t?void 0:t.reduce((function(e,t){return e+t.get("requestedConcurrency")}),0),p=null===(n=l.toArray())||void 0===n?void 0:n.reduce((function(e,t){return e+t.get("requestedConcurrency")}),0);return k.logEventWithValue(k.EVENT_NAMES.PROVISIONED_CONCURRENCY_VERSION_COUNT,u.size),k.logEventWithValue(k.EVENT_NAMES.PROVISIONED_CONCURRENCY_ALIAS_COUNT,l.size),k.logEventWithValue(k.EVENT_NAMES.PROVISIONED_CONCURRENCY_TOTAL_COUNT,u.size+l.size),Object(o.Map)({versions:u,aliases:l,provisionedConcurrency:d+p})}},Pe={dependencies:["urlParser"],precondition:function(){return C.f.includes("hyperion")},args:function(e){return{functionName:new I.e(Object(y.q)(e)).functionName,editPage:Object(G.b)(e).params.editPage}},run:regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.functionName,!(r=t.editPage)||Object(O.i)(r)===B.b){e.next=3;break}return e.abrupt("return",Object(o.List)());case 3:return e.prev=3,e.next=6,Object(z.i)(n).run();case 6:return a=e.sent,e.abrupt("return",Object(o.fromJS)(a));case 10:return e.prev=10,e.t0=e.catch(3),e.next=14,Object(s.put)(Object(j.f)({type:"error",scope:"provisioned-concurrency",message:e.t0.message}));case 14:return e.abrupt("return",Object(o.fromJS)([]));case 15:case"end":return e.stop()}}),e,null,[[3,10]])}))},De={dependencies:["executionRoleParser","functionParser","relationParser"],args:function(e){return e},run:regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new M(t,U),e.next=3,Object(s.call)([n,n.run]);case 3:return r=e.sent,e.next=6,Object(s.put)(Object(g.T)(r));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))},Me={precondition:function(){return C.f.includes("frost")},run:regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.call)(N.a.listResourceTagMappings,{resourceTypeFilters:["lambda:function"],tagFilters:[{key:"lambda-console-group"}]});case 2:return t=e.sent,n=t.body,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))},Le={dependencies:["functionParser","functionGroupSource"],precondition:function(){return C.f.includes("frost")},args:function(e){return{mappings:Object(y.U)(e,"functionGroupSource"),arn:new I.e(Object(y.q)(e)).arn}},run:function(e){var t,n=e.mappings,r=e.arn,a=n.resourceTagMappingList.reduce((function(e,t){var n=t.tags.find((function(e){return"lambda-console-group"===e.key})).value;return n?e.add(n):e}),Object(o.Set)()),i=(null===(t=n.resourceTagMappingList.find((function(e){return e.resourceARN===r})))||void 0===t?void 0:t.tags.find((function(e){return"lambda-console-group"===e.key})).value)||null;return Object(o.Map)({groupTags:a,currentGroup:i})}}},,function(e,t,n){"use strict";var r,a={},i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function c(e,t){for(var n=[],r={},a=0;a<e.length;a++){var i=e[a],o=t.base?i[0]+t.base:i[0],c={css:i[1],media:i[2],sourceMap:i[3]};r[o]?r[o].parts.push(c):n.push(r[o]={id:o,parts:[c]})}return n}function s(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=a[r.id],o=0;if(i){for(i.refs++;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(g(r.parts[o],t))}else{for(var c=[];o<r.parts.length;o++)c.push(g(r.parts[o],t));a[r.id]={id:r.id,refs:1,parts:c}}}}function u(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var r=n.nc;r&&(e.attributes.nonce=r)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,d=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function p(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function f(e,t,n){var r=n.css,a=n.media,i=n.sourceMap;if(a&&e.setAttribute("media",a),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var m=null,b=0;function g(e,t){var n,r,a;if(t.singleton){var i=b++;n=m||(m=u(t)),r=p.bind(null,n,i,!1),a=p.bind(null,n,i,!0)}else n=u(t),r=f.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=c(e,t);return s(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var o=n[i],u=a[o.id];u&&(u.refs--,r.push(u))}e&&s(c(e,t),t);for(var l=0;l<r.length;l++){var d=r[l];if(0===d.refs){for(var p=0;p<d.parts.length;p++)d.parts[p]();delete a[d.id]}}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),function(e){n(932),n(327),n(933);var t=n(3),r=n(0),a=n.n(r),i=n(234),o=n(7),c=n(451),s=n(486);Object(i.render)(a.a.createElement(t.IntlProvider,{locale:Object(o.y)(),messages:e.intl},a.a.createElement(s.a,null,a.a.createElement(c.a,null))),e.document.getElementById("app"))}.call(this,n(37))},function(e,t,n){(function(e){n.p="".concat(e.lambda.cdn,"/")}).call(this,n(37))},function(e,t,n){"use strict";(function(e){var t=n(3),r=n(442),a=n.n(r),i=n(443),o=n.n(i),c=n(444),s=n.n(c),u=n(445),l=n.n(u),d=n(446),p=n.n(d),f=n(447),m=n.n(f),b=n(448),g=n.n(b),y=n(449),v=n.n(y),h=n(450),E=n.n(h);function O(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var S=["de","en","es","fr","it","ko","ja","pt-BR","zh","zh-Hant-TW"];if(e.Intl){if(!function(){if("undefined"==typeof Intl)return!1;var e=[Intl.Collator,Intl.DateTimeFormat,Intl.NumberFormat].filter((function(e){return e}));return 0!==e.length&&e.every((function(e){return e.supportedLocalesOf(S).length===S.length}))}()){var j=n(292);Intl.NumberFormat=j.NumberFormat,Intl.DateTimeFormat=j.DateTimeFormat}}else e.Intl=n(292),n(934),n(935),n(936),n(937),n(938),n(939),n(940),n(941),n(942),n(943);Object(t.addLocaleData)([].concat(O(a.a),O(o.a),O(s.a),O(l.a),O(p.a),O(m.a),O(g.a),O(v.a),O(E.a)))}).call(this,n(37))},,,,,,,,,,,function(e,t,n){var r=n(945);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(509)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(212)(!1)).i(n(946),""),t.i(n(947),""),t.i(n(948),""),t.push([e.i,'.awsui .needs-old-form-field-override .awsui-form-field{position:relative;min-height:1px;padding:1rem 0}.awsui pre{overflow:auto}.awsui-button>span{white-space:nowrap}awsui-cards .awsui-cards-card-selection-area{left:0;bottom:0}awsui-cards .awsui-cards-card-selection-area .awsui-radio-button{float:right}awsui-cards .awsui-cards-card-header-inner span a{position:relative;z-index:1}.awsui-util-help-info-link{cursor:pointer}.lambda-alerts .awsui-alert{margin-bottom:1rem}.lambda-alerts ul.alert-group{margin:0;list-style-type:none;padding-left:0!important}.lambda-alerts:empty{padding:0!important}.ace_editor{min-height:500px}.ace-menu-bar{margin-bottom:.5em;border:none}.value{cursor:default}.fullscreen .ide,.fullscreen .ide-container{position:fixed;top:40px;right:0;bottom:30px;left:0;height:auto}.fullscreen .ace_editor{min-height:0}.fullscreen .ide-container{z-index:2}.fullscreen .ide-container iframe{width:100%;height:100%}#editor.readonly .ace_scroller .ace_content{opacity:.5}.ide-container{position:relative;padding:10px;z-index:1}.ide-container .toolbar{position:absolute;right:20px;bottom:20px;background:none;background-color:hsla(0,0%,100%,.8);margin:8px;padding:8px;border-radius:6px;opacity:.25;-webkit-transition:opacity .2s linear;transition:opacity .2s linear}.ide-container .toolbar:hover{opacity:1}.ide-container .toolbar i{cursor:pointer}.ide-container .toolbar i:not(:last-child){padding-right:5px}.ide-container iframe{border:1px solid #545b64;width:100%;height:600px}.fullscreen-ide{position:fixed;top:0;right:0;bottom:0;left:0;height:auto;z-index:2000}.fullscreen-ide iframe{border:0;width:100%;height:100%}div.code-section div.awsui-form-field,div.code-section div.awsui-grid div.awsui-row div.col-9{-webkit-box-flex:0;-webkit-flex:0 0 100%;-moz-box-flex:0;-moz-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.timestamp-field,.timestamp-field .calendar-container{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex}.timestamp-field .calendar-container{width:50%}.timestamp-field .calendar-container awsui-button{margin-right:5px}.timestamp-field .calendar-container button{border-radius:0 4px 4px 0}.timestamp-field .calendar-container input{border-radius:4px 0 0 4px;border-right:0}.timestamp-field .time-input{width:50%}.range-slider{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex}input[type=range]{cursor:pointer;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-moz-flex:1;-ms-flex:1;flex:1}input[type=range]::-webkit-slider-thumb{cursor:ew-resize}.embedded-dashboard{width:100%}.embedded-dashboard iframe{width:100%;border:none}.env-var-list div.awsui-form-field,.env-var-list div.awsui-grid div.awsui-row div.col-9{-webkit-box-flex:0;-webkit-flex:0 0 100%;-moz-box-flex:0;-moz-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.tags-container .system-tag-list .field:first-child{margin-left:10px}.tags-list div.awsui-form-field,.tags-list div.awsui-grid div.awsui-row div.col-9{-webkit-box-flex:0;-webkit-flex:0 0 100%;-moz-box-flex:0;-moz-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.key-value{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex}.key-value div.field{width:50%;padding-right:1.5rem}.key-value div.field span{word-wrap:break-word}.key-value p{margin-bottom:0}.key-value awsui-button{margin-right:5px}.key-value awsui-button.deleteKeyValue{margin-right:0}.readonly .key-value{border-bottom:1px solid #eaeded}#triggers-section ul.trigger-details{list-style-type:none;margin-top:0;padding:0}#triggers-section ul.trigger-details:not(.expanded) .overflow,#triggers-section ul.trigger-details:not(.expanded) .title{display:none}#triggers-section ul.trigger-details:not(.expanded) li{display:inline;margin-right:20px}#triggers-section ul.trigger-details.expanded li{margin-left:3rem}#triggers-section ul.trigger-details .pre-wrap{border:1px solid #aab7b8;border-radius:5px;padding:10px;width:100%}#triggers-section ul.trigger-details .pre-wrap pre{max-height:200px;padding:0}#triggers-section .triggers-row{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row}#triggers-section .triggers-row h3{border-bottom:none;padding-bottom:0;margin-bottom:0}#triggers-section .triggers-row strong>a{font-weight:700}#triggers-section .triggers-row .triggers-row-info{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-moz-flex:1;-ms-flex:1;flex:1}#triggers-section .triggers-row.trigger-disabled{background-color:#fafafa;color:#aab7b8}#triggers-section .trigger-exception{position:relative;border-left:5px solid #000;padding:10px;padding-left:36px}#triggers-section .trigger-exception .awsui-icon{position:absolute;top:10px;left:10px;margin-right:5px}#triggers-section .trigger-exception.info{background-color:#f1faff;border-color:#007dbc}#triggers-section .trigger-exception.warning{background-color:#fef6f0;border-color:#eb5f07}#triggers-section .trigger-exception.error,#triggers-section .trigger-exception.fatal{background-color:#fdf3f1;border-color:#df3312}.add-trigger .overlay-container.loading{min-height:60px}.multiSearchBoxContainer.focused{border-color:#00a1c9;box-shadow:0 0 0 2px #00a1c9;outline:0}.searchWrapper{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-ordinal-group:2;-webkit-box-flex:10;-webkit-flex-grow:10;-moz-flex-grow:10;-ms-flex-positive:10;flex-grow:10;padding-right:3rem}.multiSearchBoxContainer,.searchWrapper{-webkit-order:1;-moz-order:1;-ms-flex-order:1;order:1}.multiSearchBoxContainer{font-size:.92em;display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-align-items:center;align-items:center;min-height:32px;-webkit-box-ordinal-group:2;width:100%;margin-right:1.5rem;border:1px solid #aab7b8;border-radius:2px;vertical-align:bottom}.multiSearchBoxContainer .inputAndSuggestions{-webkit-box-flex:2;-webkit-flex-grow:2;-moz-flex-grow:2;-ms-flex-positive:2;flex-grow:2;height:30px}.multiSearchBoxContainer .facetsAndInputAndSuggestions{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-moz-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%}.multiSearchBoxContainer input{width:100%;height:100%;border:0 none;outline:0 none;margin:0;padding:0}.multiSearchBoxContainer input[type=text]::placeholder{font-style:italic}.multiSearchBoxContainer input[type=text]:-ms-input-placeholder,.multiSearchBoxContainer input[type=text]::-ms-input-placeholder{font-style:italic}.multiSearchBoxContainer .button-clone .awsui-button{font-size:inherit;font-weight:inherit}.multiSearchBoxContainer .suggestionBox{cursor:pointer;z-index:2;color:#545b64;position:absolute;width:35%;max-height:500px;overflow-y:auto;box-shadow:0 1px 1px 0 rgba(0,28,36,.5)}.multiSearchBoxContainer .suggestionBox ul{margin:0;padding:0;list-style:none;background-color:#fff;border-radius:2px}.multiSearchBoxContainer .suggestionBox>ul>li{padding:0}.multiSearchBoxContainer .suggestionBox>ul>li>div{padding:.5rem;font-weight:700}.multiSearchBoxContainer .suggestionBox>ul>li .highlight{background-color:#eaeded}.multiSearchBoxContainer .suggestionBox>ul>li>ul{border-top:1px solid #eaeded}.multiSearchBoxContainer .suggestionBox>ul>li>ul>li{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400;border-bottom:1px solid #eaeded;padding:.5rem 0}.multiSearchBoxContainer .suggestionBox>ul>li>ul>li>span{padding-left:1.5rem}.multiSearchBoxContainer .suggestionBox>ul>li>ul>li>span .matchingText{color:#eb5f07}.trigger-messages{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex}.trigger-messages img{width:48px;height:48px;margin-right:12px}.trigger-messages>div{width:100%}#designerSection .awsui-expandable-section-content{padding:0}.app-designer{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row;min-width:800px;min-height:350px;max-height:600px}.app-designer .canvas{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-moz-flex:1;-ms-flex:1;flex:1;background-color:#fcfafc;overflow:auto;position:relative}.app-designer .canvas>div{min-width:720px;padding:2rem;position:relative}.app-designer .canvas>div.designer-top-message{padding:1rem;margin-bottom:0!important}.app-designer .left-column,.app-designer .right-column{padding-top:1.2rem}.app-designer .left-column .designer-card-container,.app-designer .right-column .designer-card-container{position:relative}.app-designer .left-column .designer-card-container:after,.app-designer .left-column .designer-card-container:before,.app-designer .right-column .designer-card-container:after,.app-designer .right-column .designer-card-container:before{position:absolute;content:"";width:2.9rem}.app-designer .left-column .designer-card-container:after,.app-designer .right-column .designer-card-container:after{top:-1.2rem;height:calc(100% + 1.2rem)}.app-designer .left-column .designer-card-container:nth-last-child(2):after,.app-designer .right-column .designer-card-container:nth-last-child(2):after{height:calc(50% + 1.2rem)}.app-designer .left-column .designer-card-container:before,.app-designer .right-column .designer-card-container:before{border-bottom:1.5px solid #d5dbdb;top:0;height:50%}.app-designer .left-column>div{margin-right:4.5rem}.app-designer .left-column .designer-card-container:after,.app-designer .left-column .designer-card-container:before{right:-3rem}.app-designer .left-column .designer-card-container:after{border-right:1.5px solid #d5dbdb}.app-designer .right-column>div{margin-left:4.5rem}.app-designer .right-column .designer-card-container:after,.app-designer .right-column .designer-card-container:before{left:-3rem}.app-designer .right-column .designer-card-container:after{border-left:1.5px solid #d5dbdb}.app-designer .placeholder-card{border:1.5px dashed #d5dbdb;padding:1rem;color:#545b64}.app-designer .designer-card-container{border:1px solid transparent;margin-bottom:1rem;padding:1rem;cursor:pointer}.app-designer .designer-card-container.function{margin:2rem 0 0}.app-designer .designer-card-container.layer{margin:0;padding:.5rem 1rem}.app-designer .designer-card-container.layer h3{font-size:1.6rem}.app-designer .designer-card-container.layer .service-icon-container{height:2.8rem}.app-designer .designer-card-container.layer .service-icon-container svg{width:2.8rem;margin-left:.2rem;margin-right:.2rem}.app-designer .designer-card-container.selected{background-color:#f1faff;border:1px solid #007dbc}.app-designer .designer-card-container:hover{background-color:#f1faff}.app-designer .designer-card-container>div{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.app-designer .designer-card-container .service-icon-container{height:3.2rem}.app-designer .designer-card-container .service-icon-container img{width:3.2rem}.app-designer .designer-card-container .node-details{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-moz-flex:1;-ms-flex:1;flex:1}.app-designer .designer-card-container .node-details h3{word-break:break-all;word-wrap:break-word}.app-designer .designer-card-container.node-variant-placeholder{color:#aab7b8;font-style:italic}.app-designer .designer-card-container.node-variant-placeholder img{filter:grayscale(50%) opacity(50%)}.app-designer .scroller{position:absolute;left:calc(50% - 16px);bottom:20px}.app-designer .scroller>*{display:block;margin-bottom:-20px;opacity:0;-webkit-transition:opacity .5s;transition:opacity .5s}.app-designer .designer-toolbar{position:absolute;top:2rem;left:2rem}.app-designer .designer-toolbar>*{margin-right:1rem}.app-designer .designer-toolbar .designer-card-container{display:inline-block;margin-bottom:0}.app-designer .designer-toolbar .designer-card-container svg{fill:#879596;width:24px;height:24px}.app-designer .designer-toolbar .designer-card-container:hover svg{fill:#545b64}.app-designer .function-and-layer{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:vertical;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.vpc .awsui-tabs-content-wrapper{padding:0}.layer-search-bar{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex}.execution-results textarea{font-family:Monaco,Menlo,Consolas,Courier Prime,Courier,Courier New,monospace}.lambda-page-container h1:first-child{padding-top:0}.fullscreen{position:relative}.fullscreen .lambda-page-container{position:absolute;height:100%;overflow:hidden}.fileUpload input[type=file],.fullscreen .awsui-app-layout__navigation,.fullscreen .awsui-app-layout__tools,.fullscreen [class^=awsui-app-layout__toggle]{display:none}input[type=number]{padding:.4rem 1rem;border-radius:2px;border:1px solid #aab7b8;margin-right:4px;width:100%}input[type=number]:focus{outline:0;border:1px solid #00a1c9;box-shadow:0 0 0 2px #00a1c9}input[type=number].hasSideText{width:auto}input[type=file]{display:inline}pre{margin:0;padding:1rem}.overlay-container{position:relative}.overlay,.overlay-content{width:100%;height:100%}.overlay{position:absolute;text-align:center;background-color:#000;z-index:2;opacity:.5;color:#fff;top:0;left:0}.click-shield{position:fixed;top:0;bottom:0;left:0;right:0;cursor:auto;z-index:1050}.force-nowrap{white-space:nowrap}.begin{padding-bottom:1rem;overflow-x:hidden}.begin__header{padding-top:4rem;padding-bottom:3rem;background-color:#232f3e}.begin__header-category,.begin__header-title,.begin__header-title p{font-weight:lighter}.begin__header-category{color:#fff;text-transform:uppercase}.begin__header-title{color:#fff}.begin__header-title p{color:#d5dbdb}.begin__header-title>*{max-width:700px}.begin .awsui-util-container-header span.secondary{color:#879596;font-weight:400}.begin__content{padding-top:4rem}.begin__content hr{height:1px;background-color:#d5dbdb;border:none;margin:3rem 0}.begin__content .use-case>svg{margin:1rem 0;width:60%;max-height:35%}.begin__sidebar .awsui-util-container{margin-bottom:3rem}.begin__external{white-space:nowrap}.begin__external .awsui-icon{margin-left:.5rem}.inner-table-row{border-bottom:1px solid #d5dbdb;padding:1rem 0}.inner-table-row:first-child{padding-top:0}.inner-table-row:last-child{padding-bottom:0;border-bottom:none}.inner-table-row>span{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;-moz-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:wrap;-moz-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%}.inner-table-row span.secondary{float:right;color:#879596}#playground #editor{height:300px;min-height:300px}#playground .awsui-tabs-content-wrapper{padding:0}#api-gateway-front,#s3-front{z-index:1}#event,#message,#picture,#worker{opacity:0;pointer-events:none}#visualization{position:relative;margin:0 auto;margin-top:1rem;width:800px;height:300px}#visualization *{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#visualization svg{position:absolute}#visualization #overlay{float:right;width:240px;height:90px;overflow:hidden;padding:.5rem}#visualization #overlay>*{width:100%;height:100%;border-radius:4px;overflow:hidden;position:relative}#visualization #logStream{background-color:#16191f;color:#6aaf35;font-size:1rem;line-height:1.25rem}#visualization #dashboard{border:1px solid #879596;padding:.5rem}#visualization #dashboard .dashboard-value{font-weight:700;color:#007dbc}#visualization #dashboard svg{bottom:0;height:32px}#visualization #dashboard svg rect{fill:#d5dbdb}#camera,#kinesis,#phone{cursor:pointer}#camera :not(.target),#kinesis :not(.target),#phone :not(.target){pointer-events:none}#api-gateway-label,#kinesis-label,#s3-label{position:absolute;width:175px;color:#879596;text-align:center}#event{width:16px;height:16px}#message{width:60px;height:50px}#picture{width:54px;height:54px}#worker{width:44px;height:44px;-webkit-transition:left .2s linear,top .2s linear;transition:left .2s linear,top .2s linear}#api-gateway-back{left:250px;top:20px;width:75px;height:74px}#arrows{width:600px;height:300px}#camera{left:160px;top:220px;width:50px;height:39px}#kinesis{left:100px;top:120px;width:55px;height:50px}#lambda{left:450px;top:100px;width:100px;height:103px}#phone{left:50px;top:30px;width:32px;height:56px}#s3-back{left:290px;top:200px;width:72px;height:79px}#api-gateway-front{left:250px;top:20px;width:75px;height:74px}#s3-front{left:290px;top:200px;width:72px;height:79px}#api-gateway-label{left:200px;top:100px}#kinesis-label{left:40px;top:180px}#s3-label{left:238px;top:285px}#lambda-createFunction #intent-cards .awsui-cards-card-container-inner{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:vertical;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column}#lambda-createFunction #intent-cards .awsui-cards-card-container-inner div:nth-child(2){-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-moz-flex:1;-ms-flex:1;flex:1}#lambda-createFunction #intent-cards .icon svg{width:48px;height:48px}#lambda-createFunction #intent-cards .awsui-cards-card-section:last-child{padding:0}#lambda-createFunction #intent-cards .grid-1 .awsui-cards-card-section:last-child{display:none}.bp-grid .awsui-cards-card-header a{cursor:pointer}#lambda-discover .chart-container{margin-top:0}#lambda-functionDesigner{max-width:1600px}#lambda-functionDesigner #header span.awsui-util-f-r{word-break:break-all;word-wrap:break-word}#lambda-functionDesigner .sticky-header>h1{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#lambda-functionDesigner .monitoring .awsui-cards-card-header{display:none}#lambda-functionDesigner .monitoring .awsui-cards-card-container-inner{padding-top:0}#lambda-functionDesigner .monitoring .embedded-dashboard-header{margin:1rem 0}#lambda-functionDesigner .monitoring .embedded-dashboard-header>div:first-child{display:inline-block}#lambda-functionDesigner .permissions #resourceTabs .awsui-tabs-content{padding:0}#lambda-functionDesigner .function-node .function-node-section>.awsui-util-container{height:100%}#lambda-functionDesigner .function-node #role-selector.needs-old-form-field-override>*{max-width:100%;-webkit-box-flex:0;-webkit-flex:0 0 100%;-moz-box-flex:0;-moz-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%}#lambda-functionDesigner .resource-node .awsui-util-clearfix>:not(awsui-tabs){margin:2rem}#lambda-functionDesigner .resource-node .awsui-util-clearfix>:not(awsui-tabs):first-child{margin-bottom:0}#lambda-functionDesigner .resource-node table ul{list-style-type:none;padding-left:0}#lambda-functionDesigner .resource-node .awsui-alert ul{max-height:200px;overflow-y:auto}#lambda-functionDesigner .sticky-header{position:-webkit-sticky;position:-moz-sticky;position:-ms-sticky;position:sticky;top:-1px;z-index:2;background-color:#f2f3f3;margin:0 -1rem;padding:0 1rem}#lambda-functionDesigner .fd-testevent-button-group{display:inline}#lambda-functionDesigner .fd-testevent-button-group awsui-select{width:200px;margin-right:.5rem;float:left}#qualifiers{position:relative;display:inline-block}#qualifiers .qualifier-dropdown{width:300px;min-width:160px;margin:2px 0 0;padding:0;top:100%;right:0;float:left;font-size:1rem;text-align:left;background-color:#fff;background-clip:padding-box;border:1px solid #aab7b8;position:absolute;z-index:1051}#qualifiers .qualifier-dropdown>div:first-child{padding:6px 10px;font-weight:700;font-size:12px;background-color:#eaeded;border-bottom:1px solid #aab7b8}#qualifiers .qualifier-dropdown .filter-container{padding:10px}#qualifiers .qualifier-dropdown awsui-tabs .awsui-tabs-tab-link{padding-top:0;padding-bottom:4px}#qualifiers .qualifier-dropdown awsui-tabs .awsui-tabs-content-wrapper{padding:0}#qualifiers .qualifier-dropdown awsui-tabs .awsui-tabs-content-wrapper ul{list-style-type:none;padding-left:0;margin:0;max-height:300px;overflow-y:auto}#qualifiers .qualifier-dropdown awsui-tabs .awsui-tabs-content-wrapper ul li{min-height:40px;padding:5px 10px;cursor:pointer}#qualifiers .qualifier-dropdown awsui-tabs .awsui-tabs-content-wrapper ul li>span{font-size:14px}#qualifiers .qualifier-dropdown awsui-tabs .awsui-tabs-content-wrapper ul li>span:nth-child(2){color:#aab7b8;padding-left:10px}#qualifiers .qualifier-dropdown awsui-tabs .awsui-tabs-content-wrapper ul li small{font-size:11.2px;word-break:break-word}#qualifiers .qualifier-dropdown awsui-tabs .awsui-tabs-content-wrapper ul li:not(:last-child){border-bottom:1px solid #aab7b8}#qualifiers .qualifier-dropdown awsui-tabs .awsui-tabs-content-wrapper ul li:hover{background-color:#f1faff}#qualifiers .qualifier-dropdown awsui-tabs .awsui-tabs-content-wrapper ul li.selected{background-color:$awsui-blue-200}#qualifiers .qualifier-dropdown awsui-tabs .awsui-tabs-content-wrapper ul li awsui-label{margin-right:5px}.functionList .awsui-table-row a{cursor:pointer}.app-create__header{margin:0 -4rem;padding:3rem 4rem;background-color:#232f3e;color:#fff}.app-create__header p{color:#d5dbdb}#appCreateDetailHeader{padding-bottom:15rem}.app-create__templates .awsui-cards-card-container-inner{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:vertical;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.app-create__templates .awsui-cards-card-container-inner>:nth-child(2){-webkit-box-flex:1;-webkit-flex-grow:1;-moz-flex-grow:1;-ms-flex-positive:1;flex-grow:1;border-bottom:1px solid #eaeded}.app-create__templates .awsui-cards-card-container-inner .awsui-radio-button{display:none}.app-create__templates .template-author,.app-create__templates .template-resources{color:#545b64}.app-create__templates .template-author-header,.app-create__templates .template-resources-header{color:#879596}.app-create__templates .template-runtime{color:#545b64}.app-create-detail #appCreateDetailTemplate{margin-top:-15rem}.app-create-detail__visual svg{max-height:20rem}.app-create-detail__step-box{color:#545b64;display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:vertical;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.app-create-detail__step-box>svg{-webkit-box-flex:0;-webkit-flex:0 0 64px;-moz-box-flex:0;-moz-flex:0 0 64px;-ms-flex:0 0 64px;flex:0 0 64px;margin:2rem 0}.app-create-detail__step-box-title{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;-webkit-align-items:flex-start;-moz-align-items:flex-start;align-items:flex-start}.app-create-detail__step-box-title>:last-child{padding-top:.5rem}.app-create-detail__step-box>p{margin-left:4.2rem}.app-create-discovery #appCreateDiscoveryTemplates{padding-top:2rem}.app-create-discovery__other-options>.awsui-util-container{height:100%}#lambda-createApplicationConfigure .repository-card{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex}#lambda-createApplicationConfigure .repository-card-icon{height:2.8rem}#lambda-createApplicationConfigure .repository-card-icon svg{width:2.8rem;margin-right:1rem;margin-top:.3rem}.circle-number{min-width:3.2rem;min-height:3.2rem;padding:.5rem;margin-right:1rem;background:#545b64;border-radius:50%;color:#fff;text-align:center}#lambda-viewApplication .dashboard-header awsui-select{width:auto;margin-left:.5rem}#lambda-viewApplication .tooling-header{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-align:baseline;-ms-flex-align:baseline;-webkit-align-items:baseline;-moz-align-items:baseline;align-items:baseline}#lambda-viewApplication .tooling-header h3{color:#879596;margin-top:2rem;margin-bottom:1rem}#lambda-viewApplication .tooling-box{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;-webkit-align-items:flex-start;-moz-align-items:flex-start;align-items:flex-start}#lambda-viewApplication .tooling-box svg{-webkit-box-flex:0;-webkit-flex:0 0 32px;-moz-box-flex:0;-moz-flex:0 0 32px;-ms-flex:0 0 32px;flex:0 0 32px}#lambda-viewApplication .tooling-box:last-child{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-flex-grow:1;-ms-flex-positive:1;flex-grow:1}#lambda-viewApplication .getting-started .tooling-box{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;-webkit-align-items:flex-start;-moz-align-items:flex-start;align-items:flex-start}#lambda-viewApplication .getting-started .tooling-box>svg{-webkit-box-flex:0;-webkit-flex:0 0 32px;-moz-box-flex:0;-moz-flex:0 0 32px;-ms-flex:0 0 32px;flex:0 0 32px;padding-top:.5rem}#lambda-viewApplication .getting-started .tooling-box:last-child{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-flex-grow:1;-ms-flex-positive:1;flex-grow:1}#lambda-viewApplication .getting-started .tooling-header{color:#545b64}#lambda-viewApplication .getting-started div.dynamic16by9video{position:relative;padding-bottom:56.25%;padding-top:25px;height:0}#lambda-viewApplication .getting-started div.dynamic16by9video iframe{position:absolute;top:0;left:0;width:100%;height:100%}#lambda-viewApplication .resourcesTable awsui-table.expandable-items table tbody tr td:first-child{padding-left:2.8rem}#lambda-viewApplication .resourcesTable awsui-table.expandable-items .expandable-icon{margin-left:-1.8rem;margin-right:.5rem}#lambda-viewApplication .resourcesTable .permissionsBoundary-policyDocument{background-color:#f2f3f3}#lambda-viewApplication .collapsableTable .awsui-table-tools{display:flex!important}#lambda-viewApplication .collapsableTable button.awsui-button.awsui-button-no-text.awsui-button-variant-icon{padding:0}#lambda-listApplications .awsui-cards-card-container:last-child .awsui-cards-card-container-inner{background:transparent!important;box-shadow:none!important;border:3px dotted #d3d3d3!important}',""])},,function(e,t,n){(e.exports=n(212)(!1)).push([e.i,'@charset "UTF-8";\n\n/*!\n * Pikaday\n * Copyright © 2014 David Bushell | BSD & MIT license | https://dbushell.com/\n */.pika-single{z-index:9999;display:block;position:relative;color:#333;background:#fff;border:1px solid #ccc;border-bottom-color:#bbb;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.pika-single:after,.pika-single:before{content:" ";display:table}.pika-single:after{clear:both}.pika-single{*zoom:1}.pika-single.is-hidden{display:none}.pika-single.is-bound{position:absolute;box-shadow:0 5px 15px -5px rgba(0,0,0,.5)}.pika-lendar{float:left;width:240px;margin:8px}.pika-title{position:relative;text-align:center}.pika-label{display:inline-block;*display:inline;position:relative;z-index:9999;overflow:hidden;margin:0;padding:5px 3px;font-size:14px;line-height:20px;font-weight:700;background-color:#fff}.pika-title select{cursor:pointer;position:absolute;z-index:9998;margin:0;left:0;top:5px;filter:alpha(opacity=0);opacity:0}.pika-next,.pika-prev{display:block;cursor:pointer;position:relative;outline:none;border:0;padding:0;width:20px;height:30px;text-indent:20px;white-space:nowrap;overflow:hidden;background-color:transparent;background-position:50%;background-repeat:no-repeat;background-size:75% 75%;opacity:.5;*position:absolute;*top:0}.pika-next:hover,.pika-prev:hover{opacity:1}.is-rtl .pika-next,.pika-prev{float:left;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAUklEQVR42u3VMQoAIBADQf8Pgj+OD9hG2CtONJB2ymQkKe0HbwAP0xucDiQWARITIDEBEnMgMQ8S8+AqBIl6kKgHiXqQqAeJepBo/z38J/U0uAHlaBkBl9I4GwAAAABJRU5ErkJggg==");*left:0}.is-rtl .pika-prev,.pika-next{float:right;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAU0lEQVR42u3VOwoAMAgE0dwfAnNjU26bYkBCFGwfiL9VVWoO+BJ4Gf3gtsEKKoFBNTCoCAYVwaAiGNQGMUHMkjGbgjk2mIONuXo0nC8XnCf1JXgArVIZAQh5TKYAAAAASUVORK5CYII=");*right:0}.pika-next.is-disabled,.pika-prev.is-disabled{cursor:default;opacity:.2}.pika-select{display:inline-block;*display:inline}.pika-table{width:100%;border-collapse:collapse;border-spacing:0;border:0}.pika-table td,.pika-table th{width:14.285714285714286%;padding:0}.pika-table th{color:#999;font-size:12px;line-height:25px;font-weight:700;text-align:center}.pika-button{cursor:pointer;display:block;box-sizing:border-box;-moz-box-sizing:border-box;outline:none;border:0;margin:0;width:100%;padding:5px;color:#666;font-size:12px;line-height:15px;text-align:right;background:#f5f5f5}.pika-week{font-size:11px;color:#999}.is-today .pika-button{color:#3af;font-weight:700}.has-event .pika-button,.is-selected .pika-button{color:#fff;font-weight:700;background:#3af;box-shadow:inset 0 1px 3px #178fe5;border-radius:3px}.has-event .pika-button{background:#005da9;box-shadow:inset 0 1px 3px #0076c9}.is-disabled .pika-button,.is-inrange .pika-button{background:#d5e9f7}.is-startrange .pika-button{color:#fff;background:#6cb31d;box-shadow:none;border-radius:3px}.is-endrange .pika-button{color:#fff;background:#3af;box-shadow:none;border-radius:3px}.is-disabled .pika-button{pointer-events:none;cursor:default;color:#999;opacity:.3}.is-outside-current-month .pika-button{color:#999;opacity:.3}.is-selection-disabled{pointer-events:none;cursor:default}.pika-button:hover,.pika-row.pick-whole-week:hover .pika-button{color:#fff;background:#ff8000;box-shadow:none;border-radius:3px}.pika-table abbr{border-bottom:none;cursor:help}',""])},function(e,t,n){(e.exports=n(212)(!1)).push([e.i,"#b{min-width:990px}.ace_replace_form>*,.ace_search_form>*{color:initial!important;font-family:sans-serif!important}",""])},function(e,t){String.prototype.interpolate=function(e,t){return this.replace(new RegExp("{{".concat(e,"}}"),"g"),t)},String.prototype.format=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.replace(/\{(\d+)}/g,(function(e,n){return t[Number(n)]||""}))},String.prototype.filters=function(e){return null!=e&&e.toLowerCase().includes(this.toLowerCase())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Events=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(951),i=n(307),o=n(424);var c={border:0,visibility:"hidden",width:"100%"},s={displayMode:"static",heightUnit:40,widgetMarginX:10,widgetMarginY:10},u={widgetHeightInUnits:i.DEFAULT_CHART_HEIGHT_UNITS,widgetsPerRow:3},l=[/[.]corp[.]amazon[.]com$/,/[.]aka[.]amazon[.]com$/,/[.]proxy[.]amazon[.]com$/],d={gamma:"https://cw-dashboards-gamma.aka.amazon.com",prod:"https://cw-dashboards.aka.amazon.com"},p={IFRAME_LOAD:"iframe_load_time"},f=t.Events={DASHBOARD_READY_EVENT:"ready"},m=function(){function e(t,n,r,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,i.validate)(t,"No parent element defined"),(0,i.validate)(t instanceof Element,"Parent element provided is not a DOM node"),(0,i.validate)(n,"No name defined for the dashboard. A unique name is necessary so multiple dashboards on the same page will only process the messages sent to them"),(0,i.validate)(r,"No region provided"),this.parentElement=t,this.config=Object.assign({},s,a),this.config.internal&&(0,i.validate)(this.config.internal.accountId,"Account Id has to be provided in internal mode");var l={config:this.config,region:r,origin:""+window.location.origin+window.location.pathname,v:1};this.config.internal&&this.config.internal.accountId&&(l.accountId=this.config.internal.accountId);var d=document.createElement("iframe");d.src=this.iframeUrlPrefix()+"/cloudwatch/"+this.iframeUrlTarget()+"?"+(0,i.generateQueryString)(l),d.name=""+n,d.sandbox="allow-popups allow-same-origin allow-scripts allow-top-navigation",this.iframeElement=d,this.updateStyle(Object.assign({},c,u)),t.appendChild(d),this.taskExecutor=new i.IframeTaskExecutor(d),this.dispatcher=new i.Dispatcher,this.setupWindowListeners(),this.stopwatch=new o.StopWatch,this.stopwatch.start(p.IFRAME_LOAD)}return r(e,[{key:"iframeUrlPrefix",value:function(){if(this.config.internal)return e=this.config.internal.stage,d[e]||d.prod;var e,t=window.location.hostname;return l.some((function(e){return t.match(e)}))?"https://cloudwatch-console-version-b-test.amazon.com":""}},{key:"iframeUrlTarget",value:function(){return this.config.internal?"dashboardInternal":"dashboard"}},{key:"load",value:function(e){var t={action:a.ACTION_LOAD_DASHBOARD,args:{dashboardName:e}};this.taskExecutor.enqueue(t)}},{key:"update",value:function(e,t){var n=void 0;if(t){var r=Object.assign({},u,t),o=(0,i.generateModel)(e,r.widgetHeightInUnits,r.widgetsPerRow),c=o.model;n=o.metaData.maxY+t.widgetHeightInUnits,e=c}else n=(0,i.getMaxYFromModel)(e);var s=(0,i.calculateDashboardHeight)(n,this.config.heightUnit,this.config.widgetMarginY,this.config.style);this.updateStyle({height:s+"px"});var l={action:a.ACTION_LOAD_CUSTOM_DASHBOARD,args:{dashboardBody:e}};this.taskExecutor.enqueue(l)}},{key:"updateStyle",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(t).forEach((function(n){e.iframeElement.style[n]=t[n]}))}},{key:"handleMessage",value:function(e){try{var t=JSON.parse(e.data);if(t.sender===a.CLOUDWATCH_DASHBOARDS&&this.iframeElement.contentWindow===e.source&&((0,o.logCounter)("event_"+t.event),[a.EVENT_DASHBOARDS_LISTED,a.EVENT_DASHBOARDS_LIST_FAILED,a.EVENT_DASHBOARD_READY].indexOf(t.event)>=0)){var n=this.taskExecutor.ready();if(this.stopwatch.stop(p.IFRAME_LOAD),n){var r=this;setTimeout((function(){r.updateStyle({visibility:"visible"}),r.dispatcher.dispatch(f.DASHBOARD_READY_EVENT)}),0)}}}catch(e){}}},{key:"setupWindowListeners",value:function(){this.messageListener=this.handleMessage.bind(this),window.addEventListener(a.EVENT_TYPE_MESSAGE,this.messageListener)}},{key:"release",value:function(){this.messageListener&&window.removeEventListener(a.EVENT_TYPE_MESSAGE,this.messageListener),this.dispatcher.release()}},{key:"on",value:function(e,t){this.dispatcher.on(e,t)}},{key:"off",value:function(e,t){this.dispatcher.off(e,t)}}]),e}();t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CLOUDWATCH_DASHBOARDS="CloudWatchDashboards",t.EVENT_TYPE_MESSAGE="message",t.EVENT_DASHBOARD_READY="ready",t.EVENT_DASHBOARDS_LISTED="dashboardsListed",t.EVENT_DASHBOARDS_LIST_FAILED="dashboardsListFailed",t.ACTION_LOAD_CUSTOM_DASHBOARD="loadCustomDashboard",t.ACTION_LOAD_DASHBOARD="loadDashboard"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT_CHART_HEIGHT_UNITS=6,t.generateModel=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=Math.floor(24/n),a=0,i=e.widgets.map((function(e,i){var o=i%n*r,c=Math.floor(i/n)*t;return c>a&&(a=c),{properties:e.properties,height:t,width:r,type:e.type||"metric",x:o,y:c}}));return{model:Object.assign({},e,{widgets:i}),metaData:{maxY:a}}},t.calculateDashboardHeight=function(e,t,n,r){return e*t+n*(e-1)+function(e){return"polarisCard"===e?45:66}(r)},t.getMaxYFromModel=function(e){var t=0;return e.widgets&&e.widgets.forEach((function(e){e.y+e.height>t&&(t=e.y+e.height)})),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(954),o=(r=i)&&r.__esModule?r:{default:r},c=n(307);var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={}}return a(e,[{key:"dispatch",value:function(e,t){var n=this.events[e];n&&n.fire(t)}},{key:"on",value:function(e,t){(0,c.validate)((0,c.isFunction)(t),"Callback has to be a function");var n=this.events[e];n||(n=new o.default(e),this.events[e]=n),n.registerCallback(t)}},{key:"off",value:function(e,t){(0,c.validate)((0,c.isFunction)(t),"Callback has to be a function");var n=this.events[e];n&&n.callbacks.indexOf(t)>-1&&(n.unregisterCallback(t),0===n.callbacks.length&&delete this.events[e])}},{key:"release",value:function(){this.events={}}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventName=t,this.callbacks=[]}return r(e,[{key:"registerCallback",value:function(e){this.callbacks.push(e)}},{key:"unregisterCallback",value:function(e){var t=this.callbacks.indexOf(e);t>-1&&this.callbacks.splice(t,1)}},{key:"fire",value:function(e){this.callbacks.slice(0).forEach((function(t){t(e)}))}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(424);var i=6e4,o="iframe_timeout",c="availability",s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.iframeElement=t,this.queue={},this.pending=!0;var n=this;setTimeout((function(){n.pending&&document.body.contains(t)&&((0,a.logCounter)(o,1),(0,a.logCounter)(c,0))}),i)}return r(e,[{key:"ready",value:function(){return!!this.pending&&(this.pending=!1,this.tryExecute(),(0,a.logCounter)(o,0),(0,a.logCounter)(c,100),!0)}},{key:"enqueue",value:function(e){this.queue[e.action]={timestamp:new Date,task:e},this.tryExecute()}},{key:"tryExecute",value:function(){var e=this;if(!this.pending){var t=this.iframeElement,n=t.contentWindow,r=t.src;Object.keys(this.queue).forEach((function(t){var i=e.queue[t];(0,a.logTimer)(t+"_time",(0,a.calculateDuration)(i.timestamp)),n.postMessage(JSON.stringify(i.task),r),delete e.queue[t]}))}}}]),e}();t.default=s},function(e,t,n){"use strict";t.__esModule=!0,t.runSaga=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),c=2;c<n;c++)i[c-2]=arguments[c];var s=void 0;r.is.iterator(e)?(s=e,e=t):((0,r.check)(t,r.is.func,o),s=t.apply(void 0,i),(0,r.check)(s,r.is.iterator,o));var u=e,l=u.subscribe,d=u.dispatch,p=u.getState,f=u.context,m=u.sagaMonitor,b=u.logger,g=u.onError,y=(0,r.uid)();m&&(m.effectTriggered=m.effectTriggered||r.noop,m.effectResolved=m.effectResolved||r.noop,m.effectRejected=m.effectRejected||r.noop,m.effectCancelled=m.effectCancelled||r.noop,m.actionDispatched=m.actionDispatched||r.noop,m.effectTriggered({effectId:y,root:!0,parentEffectId:0,effect:{root:!0,saga:t,args:i}}));var v=(0,a.default)(s,l,(0,r.wrapSagaDispatch)(d),p,f,{sagaMonitor:m,logger:b,onError:g},y,t.name);m&&m.effectResolved(y,v);return v};var r=n(179),a=i(n(957));function i(e){return e&&e.__esModule?e:{default:e}}var o="runSaga(storeInterface, saga, ...args): saga argument must be a Generator function!"},function(e,t,n){"use strict";t.__esModule=!0,t.TASK_CANCEL=t.CHANNEL_END=t.NOT_ITERATOR_ERROR=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return i.noop};var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.noop;var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.noop;var g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};var v=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;var h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"anonymous";var E=arguments[8];(0,i.check)(t,i.is.iterator,l);var O=(0,i.deprecate)(q,(0,i.updateIncentive)("[...effects]","all([...effects])"));var S=y.sagaMonitor,j=y.logger,T=y.onError;var x=j||i.log;var _=function(e){var t=e.sagaStack;!t&&e.stack&&(t=-1!==e.stack.split("\n")[0].indexOf(e.message)?e.stack:"Error: "+e.message+"\n"+e.stack),x("error","uncaught at "+h,t||e.message||e)};var w=(0,s.stdChannel)(n);var R=Object.create(g);k.cancel=i.noop;var A=function(e,t,n,r){var a,o;return n._deferredEnd=null,(a={})[i.TASK]=!0,a.id=e,a.name=t,"done",(o={}).done=o.done||{},o.done.get=function(){if(n._deferredEnd)return n._deferredEnd.promise;var e=(0,i.deferred)();return n._deferredEnd=e,n._isRunning||(n._error?e.reject(n._error):e.resolve(n._result)),e.promise},a.cont=r,a.joiners=[],a.cancel=C,a.isRunning=function(){return n._isRunning},a.isCancelled=function(){return n._isCancelled},a.isAborted=function(){return n._isAborted},a.result=function(){return n._result},a.error=function(){return n._error},a.setContext=function(e){(0,i.check)(e,i.is.object,(0,i.createSetContextWarning)("task",e)),i.object.assign(R,e)},function(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}}(a,o),a}(v,h,t,E);var I={name:h,cancel:function(){I.isRunning&&!I.isCancelled&&(I.isCancelled=!0,k(p))},isRunning:!0};var N=function(e,t,n){var r=[],a=void 0,o=!1;function c(e){u(),n(e,!0)}function s(e){r.push(e),e.cont=function(s,u){o||((0,i.remove)(r,e),e.cont=i.noop,u?c(s):(e===t&&(a=s),r.length||(o=!0,n(a))))}}function u(){o||(o=!0,r.forEach((function(e){e.cont=i.noop,e.cancel()})),r=[])}return s(t),{addTask:s,cancelAll:u,abort:c,getTasks:function(){return r},taskNames:function(){return r.map((function(e){return e.name}))}}}(0,I,P);function C(){t._isRunning&&!t._isCancelled&&(t._isCancelled=!0,N.cancelAll(),P(p))}E&&(E.cancel=C);t._isRunning=!0;k();return A;function k(e,n){if(!I.isRunning)throw new Error("Trying to resume an already finished generator");try{var r=void 0;n?r=t.throw(e):e===p?(I.isCancelled=!0,k.cancel(),r=i.is.func(t.return)?t.return(p):{done:!0,value:p}):r=e===d?i.is.func(t.return)?t.return():{done:!0}:t.next(e),r.done?(I.isMainRunning=!1,I.cont&&I.cont(r.value)):D(r.value,v,"",k)}catch(e){I.isCancelled&&_(e),I.isMainRunning=!1,I.cont(e,!0)}}function P(e,n){t._isRunning=!1,w.close(),n?(e instanceof Error&&Object.defineProperty(e,"sagaStack",{value:"at "+h+" \n "+(e.sagaStack||e.stack),configurable:!0}),A.cont||(e instanceof Error&&T?T(e):_(e)),t._error=e,t._isAborted=!0,t._deferredEnd&&t._deferredEnd.reject(e)):(t._result=e,t._deferredEnd&&t._deferredEnd.resolve(e)),A.cont&&A.cont(e,n),A.joiners.forEach((function(t){return t.cb(e,n)})),A.joiners=null}function D(e,t){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",g=arguments[3],y=(0,i.uid)();S&&S.effectTriggered({effectId:y,parentEffectId:t,label:l,effect:e});var v=void 0;function E(e,t){v||(v=!0,g.cancel=i.noop,S&&(t?S.effectRejected(y,e):S.effectResolved(y,e)),g(e,t))}E.cancel=i.noop,g.cancel=function(){if(!v){v=!0;try{E.cancel()}catch(e){_(e)}E.cancel=i.noop,S&&S.effectCancelled(y)}};var j=void 0;return i.is.promise(e)?M(e,E):i.is.helper(e)?F(b(e),y,E):i.is.iterator(e)?L(e,y,h,E):i.is.array(e)?O(e,y,E):(j=c.asEffect.take(e))?function(e,t){var n=e.channel,r=e.pattern,a=e.maybe;n=n||w;var i=function(e){return e instanceof Error?t(e,!0):(0,s.isEnd)(e)&&!a?t(d):t(e)};try{n.take(i,m(r))}catch(e){return t(e,!0)}t.cancel=i.cancel}(j,E):(j=c.asEffect.put(e))?function(e,t){var n=e.channel,r=e.action,c=e.resolve;(0,o.asap)((function(){var e=void 0;try{e=(n?n.put:a)(r)}catch(e){if(n||c)return t(e,!0);_(e)}if(!c||!i.is.promise(e))return t(e);M(e,t)}))}(j,E):(j=c.asEffect.all(e))?q(j,y,E):(j=c.asEffect.race(e))?function(e,t,n){var a=void 0,o=Object.keys(e),c={};o.forEach((function(t){var u=function(c,u){if(!a)if(u)n.cancel(),n(c,!0);else if(!(0,s.isEnd)(c)&&c!==d&&c!==p){var l;n.cancel(),a=!0;var f=((l={})[t]=c,l);n(i.is.array(e)?[].slice.call(r({},f,{length:o.length})):f)}};u.cancel=i.noop,c[t]=u})),n.cancel=function(){a||(a=!0,o.forEach((function(e){return c[e].cancel()})))},o.forEach((function(n){a||D(e[n],t,n,c[n])}))}(j,y,E):(j=c.asEffect.call(e))?function(e,t,n){var r=e.context,a=e.fn,o=e.args,c=void 0;try{c=a.apply(r,o)}catch(e){return n(e,!0)}return i.is.promise(c)?M(c,n):i.is.iterator(c)?L(c,t,a.name,n):n(c)}(j,y,E):(j=c.asEffect.cps(e))?function(e,t){var n=e.context,r=e.fn,a=e.args;try{var o=function(e,n){return i.is.undef(e)?t(n):t(e,!0)};r.apply(n,a.concat(o)),o.cancel&&(t.cancel=function(){return o.cancel()})}catch(e){return t(e,!0)}}(j,E):(j=c.asEffect.fork(e))?F(j,y,E):(j=c.asEffect.join(e))?function(e,t){if(e.isRunning()){var n={task:A,cb:t};t.cancel=function(){return(0,i.remove)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())}(j,E):(j=c.asEffect.cancel(e))?function(e,t){e===i.SELF_CANCELLATION&&(e=A);e.isRunning()&&e.cancel();t()}(j,E):(j=c.asEffect.select(e))?function(e,t){var n=e.selector,r=e.args;try{var a=n.apply(void 0,[f()].concat(r));t(a)}catch(e){t(e,!0)}}(j,E):(j=c.asEffect.actionChannel(e))?function(e,t){var r=e.pattern,a=e.buffer,i=m(r);i.pattern=r,t((0,s.eventChannel)(n,a||u.buffers.fixed(),i))}(j,E):(j=c.asEffect.flush(e))?function(e,t){e.flush(t)}(j,E):(j=c.asEffect.cancelled(e))?function(e,t){t(!!I.isCancelled)}(0,E):(j=c.asEffect.getContext(e))?function(e,t){t(R[e])}(j,E):(j=c.asEffect.setContext(e))?function(e,t){i.object.assign(R,e),t()}(j,E):E(e)}function M(e,t){var n=e[i.CANCEL];i.is.func(n)?t.cancel=n:i.is.func(e.abort)&&(t.cancel=function(){return e.abort()}),e.then(t,(function(e){return t(e,!0)}))}function L(t,r,i,o){e(t,n,a,f,R,y,r,i,o)}function F(t,r,c){var s=t.context,u=t.fn,l=t.args,d=t.detached,p=function(e){var t=e.context,n=e.fn,r=e.args;if(i.is.iterator(n))return n;var a=void 0,o=void 0;try{a=n.apply(t,r)}catch(e){o=e}if(i.is.iterator(a))return a;return o?(0,i.makeIterator)((function(){throw o})):(0,i.makeIterator)((c=void 0,s={done:!1,value:a},function(e){return c?{done:!0,value:e}:(c=!0,s)}));var c,s}({context:s,fn:u,args:l});try{(0,o.suspend)();var m=e(p,n,a,f,R,y,r,u.name,d?null:i.noop);d?c(m):p._isRunning?(N.addTask(m),c(m)):p._error?N.abort(p._error):c(m)}finally{(0,o.flush)()}}function q(e,t,n){var a=Object.keys(e);if(!a.length)return n(i.is.array(e)?[]:{});var o=0,c=void 0,u={},l={};a.forEach((function(t){var f=function(l,f){c||(f||(0,s.isEnd)(l)||l===d||l===p?(n.cancel(),n(l,f)):(u[t]=l,++o===a.length&&(c=!0,n(i.is.array(e)?i.array.from(r({},u,{length:a.length})):u))))};f.cancel=i.noop,l[t]=f})),n.cancel=function(){c||(c=!0,a.forEach((function(e){return l[e].cancel()})))},a.forEach((function(n){return D(e[n],t,n,l[n])}))}};var i=n(179),o=n(427),c=n(958),s=n(425),u=n(426);var l=t.NOT_ITERATOR_ERROR="proc first argument (Saga function result) must be an iterator",d=t.CHANNEL_END={toString:function(){return"@@redux-saga/CHANNEL_END"}},p=t.TASK_CANCEL={toString:function(){return"@@redux-saga/TASK_CANCEL"}},f={wildcard:function(){return i.kTrue},default:function(e){return"symbol"===(void 0===e?"undefined":a(e))?function(t){return t.type===e}:function(t){return t.type===String(e)}},array:function(e){return function(t){return e.some((function(e){return m(e)(t)}))}},predicate:function(e){return function(t){return e(t)}}};function m(e){return("*"===e?f.wildcard:i.is.array(e)?f.array:i.is.stringableFunc(e)?f.default:i.is.func(e)?f.predicate:f.default)(e)}var b=function(e){return{fn:e}}},function(e,t,n){"use strict";t.__esModule=!0,t.asEffect=t.takem=t.detach=void 0,t.take=j,t.put=T,t.all=x,t.race=function(e){return O(s,e)},t.call=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return O(u,_("call",e,n))},t.apply=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return O(u,_("apply",{context:e,fn:t},n))},t.cps=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return O(l,_("cps",e,n))},t.fork=w,t.spawn=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return S(w.apply(void 0,[e].concat(n)))},t.join=function e(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];if(n.length>1)return x(n.map((function(t){return e(t)})));var i=n[0];(0,r.check)(i,r.is.notUndef,"join(task): argument task is undefined");(0,r.check)(i,r.is.task,"join(task): argument "+i+" is not a valid Task object "+E);return O(p,i)},t.cancel=function e(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];if(n.length>1)return x(n.map((function(t){return e(t)})));var i=n[0];1===n.length&&((0,r.check)(i,r.is.notUndef,"cancel(task): argument task is undefined"),(0,r.check)(i,r.is.task,"cancel(task): argument "+i+" is not a valid Task object "+E));return O(f,i||r.SELF_CANCELLATION)},t.select=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];0===arguments.length?e=r.ident:((0,r.check)(e,r.is.notUndef,"select(selector,[...]): argument selector is undefined"),(0,r.check)(e,r.is.func,"select(selector,[...]): argument "+e+" is not a function"));return O(m,{selector:e,args:n})},t.actionChannel=function(e,t){(0,r.check)(e,r.is.notUndef,"actionChannel(pattern,...): argument pattern is undefined"),arguments.length>1&&((0,r.check)(t,r.is.notUndef,"actionChannel(pattern, buffer): argument buffer is undefined"),(0,r.check)(t,r.is.buffer,"actionChannel(pattern, buffer): argument "+t+" is not a valid buffer"));return O(b,{pattern:e,buffer:t})},t.cancelled=function(){return O(g,{})},t.flush=function(e){return(0,r.check)(e,r.is.channel,"flush(channel): argument "+e+" is not valid channel"),O(y,e)},t.getContext=function(e){return(0,r.check)(e,r.is.string,"getContext(prop): argument "+e+" is not a string"),O(v,e)},t.setContext=function(e){return(0,r.check)(e,r.is.object,(0,r.createSetContextWarning)(null,e)),O(h,e)};var r=n(179),a=(0,r.sym)("IO"),i="TAKE",o="PUT",c="ALL",s="RACE",u="CALL",l="CPS",d="FORK",p="JOIN",f="CANCEL",m="SELECT",b="ACTION_CHANNEL",g="CANCELLED",y="FLUSH",v="GET_CONTEXT",h="SET_CONTEXT",E="\n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)",O=function(e,t){var n;return(n={})[a]=!0,n[e]=t,n},S=t.detach=function(e){return(0,r.check)(A.fork(e),r.is.object,"detach(eff): argument must be a fork effect"),e[d].detached=!0,e};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*";if(arguments.length&&(0,r.check)(arguments[0],r.is.notUndef,"take(patternOrChannel): patternOrChannel is undefined"),r.is.pattern(e))return O(i,{pattern:e});if(r.is.channel(e))return O(i,{channel:e});throw new Error("take(patternOrChannel): argument "+String(e)+" is not valid channel or a valid pattern")}j.maybe=function(){var e=j.apply(void 0,arguments);return e[i].maybe=!0,e};t.takem=(0,r.deprecate)(j.maybe,(0,r.updateIncentive)("takem","take.maybe"));function T(e,t){return arguments.length>1?((0,r.check)(e,r.is.notUndef,"put(channel, action): argument channel is undefined"),(0,r.check)(e,r.is.channel,"put(channel, action): argument "+e+" is not a valid channel"),(0,r.check)(t,r.is.notUndef,"put(channel, action): argument action is undefined")):((0,r.check)(e,r.is.notUndef,"put(action): argument action is undefined"),t=e,e=null),O(o,{channel:e,action:t})}function x(e){return O(c,e)}function _(e,t,n){(0,r.check)(t,r.is.notUndef,e+": argument fn is undefined");var a=null;if(r.is.array(t)){var i=t;a=i[0],t=i[1]}else if(t.fn){var o=t;a=o.context,t=o.fn}return a&&r.is.string(t)&&r.is.func(a[t])&&(t=a[t]),(0,r.check)(t,r.is.func,e+": argument "+t+" is not a function"),{context:a,fn:t,args:n}}function w(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return O(d,_("fork",e,n))}T.resolve=function(){var e=T.apply(void 0,arguments);return e[o].resolve=!0,e},T.sync=(0,r.deprecate)(T.resolve,(0,r.updateIncentive)("put.sync","put.resolve"));var R=function(e){return function(t){return t&&t[a]&&t[e]}},A=t.asEffect={take:R(i),put:R(o),all:R(c),race:R(s),call:R(u),cps:R(l),fork:R(d),join:R(p),cancel:R(f),select:R(m),actionChannel:R(b),cancelled:R(g),flush:R(y),getContext:R(v),setContext:R(h)}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(961),t.encode=t.stringify=n(962)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var c=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var l=0;l<u;++l){var d,p,f,m,b=e[l].replace(c,"%20"),g=b.indexOf(n);g>=0?(d=b.substr(0,g),p=b.substr(g+1)):(d=b,p=""),f=decodeURIComponent(d),m=decodeURIComponent(p),r(o,f)?a(o[f])?o[f].push(m):o[f]=[o[f],m]:o[f]=m}return o};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,c){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(o(e),(function(o){var c=encodeURIComponent(r(o))+n;return a(e[o])?i(e[o],(function(e){return c+encodeURIComponent(r(e))})).join(t):c+encodeURIComponent(r(e[o]))})).join(t):c?encodeURIComponent(r(c))+n+encodeURIComponent(r(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";n.r(t),n.d(t,"updateNodesInGraph",(function(){return b})),n.d(t,"reducer",(function(){return g}));var r=n(4),a=n(15),i=n(21),o=n(60),c=n(22),s=n(20),u=n(41),l=n(7),d=n(57);function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f=a.h.functionDesigner,m=Object(r.Map)({loading:!0,saving:!1,savingEdit:!1,functionCombinedStateSet:r.Set.of(i.i.ACTIVE),completed:Object(r.Set)(),running:Object(r.Set)(),results:Object(r.Map)(),statuses:Object(r.Map)(),selectedNodeIds:Object(r.List)(),selectedToolbarItem:null,graphToEdit:Object(r.Map)({nodes:Object(r.List)(),edges:Object(r.List)(),validation:Object(r.Map)()}),graphCurrentlySaved:Object(r.Map)({nodes:Object(r.List)(),edges:Object(r.List)()}),vpc:Object(r.Map)({vpcItems:Object(r.List)(),subnetItems:Object(r.List)(),securityGroupItems:Object(r.List)(),hasVpcPermission:!0}),modals:Object(r.Map)(),saveCodeResults:Object(r.Map)({saveSuccess:!0,saveErrorMessage:null,codeSha256:null,saveTime:0}),encrypting:!1,testing:Object(c.d)(void 0,"__INIT"),lambdaAtEdge:Object(r.Map)({data:Object(r.Map)(),validation:Object(r.Map)()}),provisionedConcurrency:Object(r.Map)({deletingProvisionedConcurrency:!1}),elasticFileSystem:Object(r.Map)({isDeleting:!1,isModalOpen:!1}),recommendations:Object(r.Set)()});function b(e,t,n,r,a){var i=a?function(e){return e.get("type")===t}:function(){return!1},o=e.get("nodes").filter(i).map((function(e){return e.get("id")}));return e.update("nodes",(function(e){return e.filterNot(i).concat(n)})).update("edges",(function(e){return e.filterNot((function(e){return o.includes(e.get("target"))||o.includes(e.get("source"))})).concat(r)}))}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=e.set("testing",Object(c.d)(e.get("testing"),t));switch(t.type){case f.INIT:var a=t.location,g=a.pathname,y=a.query;return(t.isNavigationToEdit?n:m).set("location",Object(r.Map)({pathname:g,query:Object(r.fromJS)(y)}));case f.SET_LOADING:return n.set("loading",t.loading);case f.SET_WORK_STARTED:return n.update("running",(function(e){return e.add(t.name)}));case f.SET_WORK_COMPLETED:var v=t.name,h=t.err,E=t.res,O=t.status||(h?i.r.FAILED:i.r.SUCCEEDED);return n.update("completed",(function(e){return e.add(v)})).update("running",(function(e){return e.delete(v)})).setIn(["results",v],h||E).setIn(["statuses",v],O);case f.INVALIDATE_TASKS:return n.update("completed",(function(e){return e.subtract(t.tasks)}));case f.CHANGE_TAB:return n.setIn(["results","urlParser","tab"],t.tab);case f.SET_MODAL:return n.setIn(["modals",t.modalType,"isOpen"],t.modalState);case f.SET_MODAL_LOADING:return n.setIn(["modals",t.modalType,"loading"],t.modalState);case f.ADD_NODE:var S=n.getIn(["graphToEdit","nodes"]).filter((function(e){return Object(s.d)(e,t.node)}));return S.filter((function(e){return e.get("states").find((function(e){return e.get("type")===o.b.NOT_CONFIGURED}))})).size?n.set("selectedNodeIds",S.map((function(e){return e.get("id")}))):n.updateIn(["graphToEdit","nodes"],(function(e){return e.push(t.node)})).updateIn(["graphCurrentlySaved","nodes"],(function(e){return t.addToSaved?e.push(t.node):e})).set("selectedToolbarItem",null).set("selectedNodeIds",Object(r.List)(S.map((function(e){return e.get("id")})).concat(t.node.get("id"))));case f.ADD_OR_UPDATE_NODE:var j=n.getIn(["graphToEdit","nodes"]),T=t.node.get("id"),x=j.filter((function(e){return Object(s.d)(e,t.node)})),_=j.findIndex((function(e){return e.get("id")===T}));if(-1===_)return n.updateIn(["graphToEdit","nodes"],(function(e){return e.push(t.node)})).updateIn(["graphCurrentlySaved","nodes"],(function(e){return e.push(t.node)})).set("selectedToolbarItem",null).set("selectedNodeIds",Object(r.List)(x.map((function(e){return e.get("id")})).concat(T)));var w=n.getIn(["graphCurrentlySaved","nodes"]).findIndex((function(e){return e.get("id")===T})),R=n.setIn(["graphCurrentlySaved","nodes",w],t.node).setIn(["graphToEdit","nodes",_],t.node),A=R.getIn(["graphToEdit","nodes"]).filter((function(e){return Object(s.d)(e,t.node)}));return R.set("selectedToolbarItem",null).set("selectedNodeIds",Object(r.List)(A.map((function(e){return e.get("id")}))));case f.DELETE_NODE:var I=n.getIn(["graphToEdit","nodes"]).findIndex((function(e){return e.get("id")===t.nodeId})),N=n.getIn(["graphToEdit","nodes"]),C=n.getIn(["graphCurrentlySaved","nodes"]),k=C.findIndex((function(e){return e.get("id")===t.nodeId}));if(-1===k||t.deleteFromSaved){var P=N.filter((function(e,t){return I!==t})),D=C.filter((function(e,t){return k!==t}));return n.set("selectedNodeIds",Object(r.List)([n.getIn(["results","urlParser","functionArn"])])).setIn(["graphToEdit","nodes"],P).setIn(["graphCurrentlySaved","nodes"],D)}return n.setIn(["graphToEdit","nodes"],N.updateIn([I,"states"],(function(e){return e.push(t.pendingDeletionState)})));case f.SELECT_NODES:return n.set("selectedToolbarItem",null).set("selectedNodeIds",t.nodes.map((function(e){return e.get("id")})));case f.SELECT_TOOLBAR_ITEM:return n.set("selectedToolbarItem",t.id).set("selectedNodeIds",Object(r.List)());case f.RESET_NODE_DATA:var M=["graphToEdit","nodes",n.get("graphToEdit").get("nodes").findIndex((function(e){return e.get("id")===t.nodeId})),"data"].concat(p(t.pathInData.split(".")));return n.deleteIn(M);case f.SET_NODES_OF_TYPE:var L=t.nodeType,F=t.nodes,q=t.edges,V=t.replace;if(!F)return n;var U=b(n.get("graphToEdit"),L,F,q,V),G=n.get("selectedNodeIds").filter((function(e){return U.get("nodes").find((function(t){return t.get("id")===e}))}));return G.isEmpty()&&(G=G.push(n.getIn(["results","urlParser","functionArn"]))),n.set("graphToEdit",U).update("graphCurrentlySaved",(function(e){return b(e,L,F,q,V)})).set("selectedNodeIds",G);case f.MERGE_NODE:var B=n.getIn(["graphCurrentlySaved","nodes"]).findIndex((function(e){return e.get("id")===t.node.get("id")})),z=n.getIn(["graphToEdit","nodes"]).findIndex((function(e){return e.get("id")===t.node.get("id")}));return n.mergeIn(["graphCurrentlySaved","nodes",B,"data"],t.changes).mergeIn(["graphToEdit","nodes",z,"data"],t.changes);case f.DEEP_MERGE_NODE:var H=n.getIn(["graphCurrentlySaved","nodes"]).findIndex((function(e){return e.get("id")===t.node.get("id")})),W=n.getIn(["graphToEdit","nodes"]).findIndex((function(e){return e.get("id")===t.node.get("id")}));return n.mergeDeepIn(["graphCurrentlySaved","nodes",H,"data"],t.changes).mergeDeepIn(["graphToEdit","nodes",W,"data"],t.changes);case f.UPDATE_NODE:var K=n.get("graphToEdit").get("nodes").findIndex((function(e){return e.get("id")===t.nodeId})),Y=n.getIn(["graphToEdit","nodes",K]).update("states",(function(e){return e.filter((function(e){return e.get("type")!==o.b.SAVED}))})),J=n.getIn(["graphCurrentlySaved","nodes"]).find((function(e){return e.get("id")===t.nodeId})),Q=(0,o.d[Y.get("type")])(Y,J,t.pathInData,t.value,n,t.extraPayload),X=Q.editedNode,$=Q.validationErrors;return n.setIn(["graphToEdit","nodes",K],X).setIn(["graphToEdit","validation",X.get("id")],$);case f.STOP_FUNCTION_COMPLETE:var Z=function(e){return e.get("id")===t.functionArn?e.setIn(["data","concurrencyPoolType"],"reserved").setIn(["data","reservedConcurrentExecutions"],0):e},ee=n.getIn(["graphToEdit","nodes"]).map(Z),te=n.getIn(["graphCurrentlySaved","nodes"]).map(Z);return n.setIn(["graphToEdit","nodes"],ee).setIn(["graphCurrentlySaved","nodes"],te);case f.EDIT_FUNCTION_GROUP_COMPLETE:var ne=t.functionName,re=t.groupName,ae=l.e.fromFunctionName(ne).arn,ie=function(e){if(e.get("id")!==ae)return e;var t=e.getIn(["data","tags","userTags"]).findIndex((function(e){return"lambda-console-group"===e.get("key")})),n=e.getIn(["data","tags","userTags"]);return re?(n=-1===t?n.push(d.a.merge({key:"lambda-console-group",value:re})):n.setIn([t,"value"],re),e.setIn(["data","tags","userTags"],n)):e.deleteIn(["data","tags","userTags",t])},oe=n.getIn(["graphToEdit","nodes"]).map(ie),ce=n.getIn(["graphCurrentlySaved","nodes"]).map(ie),se=n.getIn(["results","functionGroupParser","groupTags"]),ue=re?se.add(re):se;return n.setIn(["graphToEdit","nodes"],oe).setIn(["graphCurrentlySaved","nodes"],ce).setIn(["results","functionGroupParser"],Object(r.Map)({currentGroup:re,groupTags:ue}));case f.SAVE:case f.SAVE_CODE:return n.set("saving",!0);case f.SAVE_COMPLETE:var le=n.getIn(["graphCurrentlySaved","nodes"]).map((function(e){var n=t.saveResults.find((function(t){return t.node.get("id")===e.get("id")&&t.status===o.a.SAVED}));return(null==n?void 0:n.node)||e})).concat(t.saveResults.filter((function(e){return e.status===o.a.CREATED})).map((function(e){return e.node}))),de=t.saveResults.filter((function(e){return e.status!==o.a.DELETED})),pe=Object(r.List)(de.map((function(e){return e.node}))),fe=n.get("selectedNodeIds").map((function(e){if(pe.find((function(t){return t.get("id")===e})))return e;var t=de.find((function(t){return e===t.oldNodeId}));return null==t?void 0:t.node.get("id")})).filter((function(e){return!!e}));return fe.isEmpty()&&(fe=fe.push(n.getIn(["results","urlParser","functionArn"]))),n.set("saving",!1).update("completed",(function(e){return t.saveResults.reduce((function(e,t){return e.subtract(t.invalidateTasks)}),e)})).setIn(["graphToEdit","nodes"],pe).setIn(["graphCurrentlySaved","nodes"],le).set("selectedNodeIds",fe);case f.SAVE_CODE_COMPLETE:var me=t.saveResult;if(me.status===o.a.NO_CHANGE)return n.set("saving",!1);var be=n.getIn(["results","urlParser","functionArn"]),ge=n.getIn(["graphToEdit","nodes"]).findIndex((function(e){return e.get("id")===be})),ye=n.getIn(["graphCurrentlySaved","nodes"]).findIndex((function(e){return e.get("id")===be})),ve=n.setIn(["graphToEdit","nodes",ge],me.node).set("saving",!1).mergeIn(["saveCodeResults"],Object(r.Map)(me.saveCodeResults));return me.status===o.a.SAVED&&(ve=ve.setIn(["graphCurrentlySaved","nodes",ye],me.newSavedNode)),ve;case f.UPDATE_NODE_STATE:var he=n.get("graphToEdit").get("nodes").findIndex((function(e){return e.get("id")===t.nodeId}));return n.setIn(["graphToEdit","nodes",he,"states"],t.nodeState);case f.UPDATE_VPC_COMPONENT_STATE:return n.mergeIn(["vpc"],Object(r.Map)(t.vpc));case f.SET_ENCRYPTING:return n.set("encrypting",t.encrypting);case f.SET_SAVING_EDIT:return n.set("savingEdit",t.savingEdit);case f.UPDATE_ALL_RECOMMENDATIONS:return n.set("recommendations",t.results);case f.UPDATE_DESTINATION_DELETE:return n.setIn(["destination","isDeleting"],t.status);case f.UPDATE_DESTINATION_MODAL:return n.setIn(["destination","isModalOpen"],t.status);case f.UPDATE_ELASTIC_FILE_SYSTEM_DELETE:return n.setIn(["elasticFileSystem","isDeleting"],t.status);case f.UPDATE_ELASTIC_FILE_SYSTEM_MODAL:return n.setIn(["elasticFileSystem","isModalOpen"],t.status);case f.UPDATE_LAMBDA_AT_EDGE:return n.set("lambdaAtEdge",Object(u.g)(n.get("lambdaAtEdge"),t.data));case f.CLEAR_LAMBDA_AT_EDGE:return n.set("lambdaAtEdge",m.get("lambdaAtEdge"));case f.UPDATE_FUNCTION_COMBINED_STATE:return n.set("functionCombinedStateSet",t.functionCombinedStateSet);case f.SET_PROVISIONED_CONCURRENCY_DELETING_INPROGRESS:return n.setIn(["provisionedConcurrency","deletingProvisionedConcurrency"],t.inProgress);default:return n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.reduce((function(e,t){return""+(e&&e+", ")+t}),"");throw new Error((e&&e+" ")+" "+(a&&"Was called with arguments "+a+"."))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.didReplaceRoutes=t.replaceRoutes=t.initializeCurrentLocation=t.locationDidChange=t.unblock=t.block=t.goForward=t.goBack=t.go=t.replace=t.push=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(231),i=c(n(317)),o=c(n(318));function c(e){return e&&e.__esModule?e:{default:e}}t.push=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:a.PUSH,payload:r({},(0,i.default)(e),{options:t})}},t.replace=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:a.REPLACE,payload:r({},(0,i.default)(e),{options:t})}},t.go=function(e){return{type:a.GO,payload:e}},t.goBack=function(){return{type:a.GO_BACK}},t.goForward=function(){return{type:a.GO_FORWARD}},t.block=function(e){return{type:a.BLOCK,payload:e}},t.unblock=function(){return{type:a.UNBLOCK}},t.locationDidChange=function(e){return{type:a.LOCATION_CHANGED,payload:e}},t.initializeCurrentLocation=function(e){return{type:a.LOCATION_CHANGED,payload:e}},t.replaceRoutes=function(e){return{type:a.REPLACE_ROUTES,payload:{routes:(0,o.default)(e),options:{updateRoutes:!0}}}},t.didReplaceRoutes=function(){return{type:a.DID_REPLACE_ROUTES}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=t.MatchCache=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={}}return r(e,[{key:"add",value:function(e,t){this._data[e]=t||"@ROUTE_FALLBACK"}},{key:"get",value:function(e){return this._data[e]||null}},{key:"clear",value:function(){this._data={}}}]),e}();t.default=new a}]);